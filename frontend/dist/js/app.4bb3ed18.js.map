{"version":3,"file":"js/app.4bb3ed18.js","mappings":"+FAAA,e,GAAAA,IAAA,EAKgBC,MAAM,a,GACXA,MAAM,Q,iJALfC,EAAAA,EAAAA,IAeM,OAfDD,OADPE,EAAAA,EAAAA,IAAA,CACa,WAAU,YAAuBC,EAAAC,cAAe,aAAYD,EAAAE,YAAc,OAAS,S,CAE3EF,EAAAG,YAAS,WAA1BC,EAAAA,EAAAA,IAA6EC,EAAA,CAHjFT,IAAA,EAGiCK,WAAYD,EAAAC,WAAaK,OAAQN,EAAAE,a,8CAE9DJ,EAAAA,EAAAA,IAMM,MANNS,EAMM,EALJC,EAAAA,EAAAA,IAIM,MAJNC,EAIM,cAHJL,EAAAA,EAAAA,IAEaM,EAAAA,GAAA,mBADXN,EAAAA,EAAAA,KAA8CO,EAAAA,EAAAA,IAA9BC,EAAAC,qBAAgB,aAKtCC,EAAAA,EAAAA,IAAgBC,IAChBD,EAAAA,EAAAA,IAAcE,IACdF,EAAAA,EAAAA,IAAUG,IAAA,GAfdC,E,kLCAApB,EAAAA,EAAAA,IAAAqB,EAAAA,GAAA,OACEL,EAAAA,EAAAA,IAASM,IACTN,EAAAA,EAAAA,IAAYO,IACZP,EAAAA,EAAAA,IAASQ,IACTR,EAAAA,EAAAA,IAAgBS,IAChBT,EAAAA,EAAAA,IAAUU,IAAA,G,UCJF3B,MAAM,O,GACRA,MAAM,c,0CADZC,EAAAA,EAAAA,IAES,SAFToB,EAES,EADPV,EAAAA,EAAAA,IAAuC,KAAvCD,GAAuCkB,EAAAA,EAAAA,IAAbC,EAAAC,OAAK,I,CAKnC,OACEC,KAAM,SACNC,MAAO,CACLF,MAAO,CACLG,KAAMC,OACNC,UAAU,K,UCLhB,MAAMC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAAS,GAAQ,CAAC,YAAY,qBAEzF,Q,QCTA,S,GAUSpC,MAAM,e,EAVf,Y,GAeaA,MAAM,kB,GAKPA,MAAM,oB,EApBlB,S,0CACEC,EAAAA,EAAAA,IA6BU,WA7BDD,OADXE,EAAAA,EAAAA,IAAA,CACiB,SAAQ,YAAsBC,EAAAC,WAAU,UAAaD,EAAAE,gB,cAElEJ,EAAAA,EAAAA,IAKM,OALDD,OAHTE,EAAAA,EAAAA,IAAA,CAGe,eAAc,0BAAqCC,EAAAkC,aAAe,KAAKC,MAAM,IAAIC,OAAO,KACjGC,QAAQ,WAAWC,KAAK,OAAOC,MAAM,6BAA8BC,QAAKC,EAAA,KAAAA,EAAA,OAAAC,IAAE9B,EAAA+B,UAAA/B,EAAA+B,YAAAD,K,EAC1ElC,EAAAA,EAAAA,IAEqD,QADnDoC,EAAE,w8BACDN,KAAMtC,EAAAkC,aAAe,EAAI,UAAY,W,OAP9ChB,IAAA,KAUIV,EAAAA,EAAAA,IAYM,MAZND,EAYM,gBAXJT,EAAAA,EAAAA,IAUMqB,EAAAA,GAAA,MArBZ0B,EAAAA,EAAAA,IAWkC7C,EAAA8C,MAXlC,CAWmBC,EAAKC,M,WAAlBlD,EAAAA,EAAAA,IAUM,OAV6BF,IAAG,OAAWoD,EAAOnD,OAX9DE,EAAAA,EAAAA,IAAA,CAWoE,cAAa,C,qBAA0CgD,EAAIE,S,0BAA8CF,EAAIG,gBAGvKV,QAAKW,GAAEvC,EAAAwC,eAAeJ,I,EACxBxC,EAAAA,EAAAA,IAIM,MAJN6C,EAIM,EAHJvC,EAAAA,EAAAA,IAEawC,EAAAA,GAAA,CAFD1B,KAAK,YAAY2B,KAAK,U,CAhB5CC,SAAAC,EAAAA,EAAAA,KAiBY,IAA8D,cAA9D3D,EAAAA,EAAAA,IAA8D,KAA1DF,IAAKmD,EAAIW,KAAM7D,MAAM,qB,QAAsBkD,EAAIW,MAAI,OAjBnEC,EAAA,G,SAoBQnD,EAAAA,EAAAA,IAAmD,KAAnDoD,GAAmDnC,EAAAA,EAAAA,IAAnBsB,EAAIc,SAAO,OApBnDpD,M,qBAwBIX,EAAAA,EAAAA,IAKM,OALDD,OAxBTE,EAAAA,EAAAA,IAAA,CAwBe,gBAAe,0BAAqCC,EAAAkC,YAAc,KAAKC,MAAM,IAAIC,OAAO,KACjGC,QAAQ,WAAWC,KAAK,OAAOC,MAAM,6BAA8BC,QAAKC,EAAA,KAAAA,EAAA,OAAAC,IAAE9B,EAAAkD,UAAAlD,EAAAkD,YAAApB,K,EAC1ElC,EAAAA,EAAAA,IAEoD,QADlDoC,EAAE,i+BACDN,KAAMtC,EAAAkC,YAAc,EAAI,UAAY,W,OA5B7C6B,IAAA,O,oCAoCA,GACEnC,KAAM,SACNoC,IAAAA,GACE,MAAMC,EAAQ,IAAIC,KAClB,IAAIhC,EAAa,EAOjB,OAJuB,IAAnB+B,EAAME,WACRjC,EAAa,GAGR,CACLA,aACAkC,SAAU,CAAC,KAAM,KAAM,KAAM,KAAM,KAAM,MACzCC,aAAc,CAAC,cAAe,UAAW,QAAS,UAAW,UAAW,WACxEC,WAAY,CAAC,SAAU,UAAW,QAAS,SAAU,MAAO,OAAQ,OAAQ,UAAW,WAAY,UAAW,SAAU,WACxHxB,KAAM,GACNyB,aAAc,KACdC,cAAe,IAAIN,KAEnBjE,YAAY,EACZC,aAAa,EACbuE,cAAe,CAAC,EAEpB,EACAC,SAAU,KACLC,EAAAA,EAAAA,IAAW,CAAC,mBAAoB,OAAQ,kBAAmB,sBAC9DC,eAAAA,GACE,MAAMX,EAAQ,IAAIC,KAClB,OAAuB,IAAnBD,EAAME,SAAuB,EAC1BF,EAAME,SAAW,CAC1B,GAEFU,OAAAA,GAEMC,OAAOC,UAAYD,OAAOC,SAASC,SACrCC,KAAKhF,YAAa,EAClBgF,KAAKC,oBACLD,KAAKE,0BAGLL,OAAOC,SAASC,OAAOI,SAE3B,EACAC,QAAS,KACJC,EAAAA,EAAAA,IAAW,CAAC,iBAAkB,uBACjCJ,iBAAAA,GACE,MAAMF,EAASF,OAAOC,SAASC,OAG/BC,KAAKR,cAAgBO,EAAOO,aAAe,CAAC,EAC5CN,KAAK/E,YAAqC,SAAvB8E,EAAOQ,YAG1BP,KAAKQ,qBAGLT,EAAOU,QAAQ,eAAgBT,KAAKQ,mBACtC,EACAA,kBAAAA,GACE,MAAMT,EAASF,OAAOC,SAASC,OAC/BC,KAAK/E,YAAqC,SAAvB8E,EAAOQ,YAG1BG,SAASC,gBAAgBC,MAAMC,YAAY,gBAAiBb,KAAKR,cAAcsB,UAAY,WAC3FJ,SAASC,gBAAgBC,MAAMC,YAAY,kBAAmBb,KAAKR,cAAcuB,YAAc,WAC/FL,SAASC,gBAAgBC,MAAMC,YAAY,oBAAqBb,KAAKR,cAAcwB,cAAgB,WACnGN,SAASC,gBAAgBC,MAAMC,YAAY,yBAA0Bb,KAAKR,cAAcyB,mBAAqB,WAC7GP,SAASC,gBAAgBC,MAAMC,YAAY,kBAAmBb,KAAKR,cAAc0B,YAAc,WAC/FR,SAASC,gBAAgBC,MAAMC,YAAY,kBAAmBb,KAAKR,cAAc2B,YAAc,WAC/FT,SAASC,gBAAgBC,MAAMC,YAAY,0BAA2Bb,KAAKR,cAAc4B,oBAAsB,WAC/GV,SAASC,gBAAgBC,MAAMC,YAAY,gBAAiBb,KAAKR,cAAc6B,UAAY,UAC7F,EACAnB,uBAAAA,GACE,MAAMH,EAASF,OAAOC,SAASC,OAG/BA,EAAOuB,WAAWC,OAClBxB,EAAOuB,WAAW/D,SAAQ,KAExBwC,EAAOyB,OAAO,GAElB,EACAC,cAAAA,GACEzB,KAAK/C,WAAa,EAClByE,aAAaC,WAAW,qBACxB3B,KAAK4B,YACP,EAEAzD,cAAAA,CAAeJ,GACb,MAAM8D,EAAc,IAAI5C,KAAKe,KAAKnC,KAAKE,GAAO+D,cAC9C9B,KAAKV,aAAeuC,EAMpB7B,KAAK+B,eAAe,CAClBC,YAAahC,KAAKZ,aAAarB,GAC/BU,KAAMoD,EAAYI,UAClBC,MAAOlC,KAAKX,WAAWwC,EAAYM,YACnCL,aAAcD,EACdO,SAAUrE,IAIZiC,KAAKqC,mBACLrC,KAAK4B,YACP,EAEAU,SAAAA,CAAUC,EAAOC,GACf,OAAOD,EAAMN,YAAcO,EAAMP,WAC/BM,EAAMJ,aAAeK,EAAML,YAC3BI,EAAME,gBAAkBD,EAAMC,aAClC,EAEAb,UAAAA,GACE,MAAM5C,EAAQ,IAAIC,KAGK,IAAnBD,EAAME,UACRc,KAAKT,cAAgB,IAAIN,KAAKD,GAC9BgB,KAAKT,cAAcmD,QAAQ1D,EAAMiD,UAAY,IAE7CjC,KAAKT,cAAgB,IAAIN,KAAKD,GAGhC,MAAM2D,EAAY,IAAI1D,KAAKe,KAAKT,eAChCoD,EAAUD,QAAQC,EAAUV,UAA8B,EAAlBjC,KAAK/C,YAG7C,MAAM2F,EAAiC,IAAvBD,EAAUzD,SAAiB,EAAIyD,EAAUzD,SAAW,EACpEyD,EAAUD,QAAQC,EAAUV,UAAYW,GAExC,MAAMC,EAAU7C,KAAKb,SAAS2D,KAAI,CAAChF,EAAKC,KACtC,MAAMU,EAAO,IAAIQ,KAAK0D,GACtBlE,EAAKiE,QAAQC,EAAUV,UAAYlE,GAEnC,MAAME,EAAe+B,KAAKsC,UAAU7D,EAAMuB,KAAKT,eACzCwD,EAAgB/C,KAAKV,aACvBb,EAAKS,WAAac,KAAKV,aAAaJ,SACpCjB,EAEJ,MAAO,CACLQ,KAAMA,EAAKwD,UAAUe,WAAWC,SAAS,EAAG,KAC5CrE,QAASd,EACTkE,YAAahC,KAAKZ,aAAarB,GAC/BmE,MAAOlC,KAAKX,WAAWZ,EAAK0D,YAC5BL,aAAcrD,EACdR,aAAcA,EACdD,SAAU+E,EACX,IAMH,GAHA/C,KAAKkD,OAAOC,OAAO,WAAYN,GAC/B7C,KAAKnC,KAAOgF,GAEP7C,KAAKV,aAAc,CACtB,MAAM8D,EAAYP,EAAQQ,MAAKvF,GAAOA,EAAIE,WAC1C,GAAIoF,EAAW,CACbpD,KAAKV,aAAe8D,EAAUtB,aAC9B,MAAM/D,EAAQ8E,EAAQS,WAAUxF,GAAOA,EAAIE,WAC3CgC,KAAK+B,eAAe,CAClBC,YAAaoB,EAAUpB,YACvBvD,KAAM2E,EAAU3E,KAChByD,MAAOkB,EAAUlB,MACjBJ,aAAcsB,EAAUtB,aACxBM,SAAUrE,GAEd,CACF,CACF,EAEAL,QAAAA,GACMsC,KAAK/C,YAAc,IACrB+C,KAAK/C,aACL+C,KAAKqC,mBACLrC,KAAK4B,aAET,EAEA/C,QAAAA,GACMmB,KAAK/C,WAAa,IACpB+C,KAAK/C,aACL+C,KAAKqC,mBACLrC,KAAK4B,aAET,EAEAS,gBAAAA,GACE,MAAMkB,EAAWvD,KAAKkD,OAAOM,MAAMC,eACnC,GAAIF,EAAU,CAEZ,IAAIG,EAAgBH,EACI,IAApBvD,KAAK/C,aACPyG,GAAiBH,EAAWvD,KAAK/C,YAAc,EAC/CyG,EAAkC,IAAlBA,EAAsB,EAAIA,GAG5CC,QAAQC,IAAI,wBAAyB,CACnCL,WACAM,OAAQ7D,KAAK/C,WACbyG,kBAGF1D,KAAKkD,OAAOC,OAAO,0BAA2BO,GAC9C1D,KAAKkD,OAAOC,OAAO,wBAAyB,OAAOO,IACrD,CACF,EAEAI,cAAAA,GACE,MAAMC,EAAW/D,KAAKkD,OAAOc,QAAQC,oBAAoBjE,KAAK/C,YAC9D+C,KAAKkD,OAAOgB,SAAS,qBAAsBH,EAC7C,GAEFI,MAAO,CACLC,YAAAA,GACEpE,KAAKyB,gBACP,EACA4C,cAAAA,GACErE,KAAKyB,gBACP,EACA6C,WAAAA,GACEtE,KAAKyB,gBACP,EACA8C,gBAAAA,CAAiBC,GACf,QAAiBC,IAAbD,GAA0BxE,KAAKnC,KAAK2G,GAAW,CACjD,MAAM1G,EAAMkC,KAAKnC,KAAK2G,GACtBxE,KAAKV,aAAexB,EAAIgE,aAGxB9B,KAAKnC,KAAK6G,SAAQ,CAAC/G,EAAGgH,KACpBhH,EAAEK,SAAW2G,IAAMH,CAAQ,GAE/B,CACF,GAEFI,OAAAA,GACE,MAAM5F,EAAQ,IAAIC,KACK,IAAnBD,EAAME,WACRc,KAAK/C,WAAa,GAEpB+C,KAAK4B,YACP,GChRF,MAAM,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAAS,GAAQ,CAAC,YAAY,qBAEzF,Q,SCRWhH,MAAM,Q,GACTA,MAAM,e,GAFdD,IAAA,G,GAAAA,IAAA,G,GAAAA,IAAA,G,GAQQC,MAAM,c,GARdD,IAAA,G,0CACEE,EAAAA,EAAAA,IAWU,UAXVoB,EAWU,EAVRV,EAAAA,EAAAA,IAIK,KAJLD,EAIK,CAHSuJ,EAAAT,eAAY,WAAxBvJ,EAAAA,EAAAA,IAAyD,OAH/DW,GAAAgB,EAAAA,EAAAA,IAGmCb,EAAAmJ,oBAAkB,IAC9BD,EAAAR,iBAAc,WAA/BxJ,EAAAA,EAAAA,IAAkE,OAJxEuD,GAAA5B,EAAAA,EAAAA,IAI0Cb,EAAAoJ,sBAAoB,IACvCF,EAAAP,cAAW,WAA5BzJ,EAAAA,EAAAA,IAAsD,OAL5D8D,GAAAnC,EAAAA,EAAAA,IAKuCqI,EAAAP,aAAW,KALlDU,EAAAA,EAAAA,IAAA,sBAOIzJ,EAAAA,EAAAA,IAAsC,UAA9BX,MAAM,eAAc,KAAC,KAC7BW,EAAAA,EAAAA,IAGK,KAHLuD,EAGK,EAXTmG,EAAAA,EAAAA,KAAAzI,EAAAA,EAAAA,IASSb,EAAAuJ,UAAW,IACd,GAAYnK,EAAAoK,YAAS,WAArBtK,EAAAA,EAAAA,IAA2F,OAVjGuK,EAU6B,iBAAa5I,EAAAA,EAAAA,IAAGb,EAAA0J,eAAgB,gBAAY7I,EAAAA,EAAAA,IAAGb,EAAAsB,YAAa,IAAC,KAV1F+H,EAAAA,EAAAA,IAAA,U,CAkBA,OACErI,KAAM,YACNoC,IAAAA,GACE,MAAO,CACLoG,WAAW,EAEf,EACA1F,SAAU,KACLC,EAAAA,EAAAA,IAAW,CACZ,eACA,iBACA,cACA,oBACA,iBACA,sBAEF2F,aAAAA,GACE,OAAOrF,KAAKyD,gBAAkB,KAChC,EACAyB,QAAAA,GACE,MAAO,WAAWlF,KAAKsF,mBACzB,EACArI,UAAAA,GACE,OAAO+C,KAAKuF,mBAAqB,CACnC,EACAR,oBAAAA,GACE,IAAK/E,KAAKqE,eAAgB,MAAO,GACjC,MAAMmB,EAAQxF,KAAKqE,eAAeoB,MAAM,KACxC,IAAIC,EAAY1F,KAAK2F,sBAAsBH,EAAM,IAOjD,OANIA,EAAMI,OAAS,GAAKJ,EAAM,KAC5BE,GAAa,IAAI1F,KAAK2F,sBAAsBH,EAAM,QAEhDA,EAAMI,OAAS,GAAKJ,EAAM,KAC5BE,GAAa,IAAI1F,KAAK2F,sBAAsBH,EAAM,QAE7CE,CACT,EACAZ,kBAAAA,GACE,IAAK9E,KAAKoE,aAAc,MAAO,GAE/B,MAAMyB,EAAkB7F,KAAKoE,aAAa0B,OAAO,MACjD,IAAyB,IAArBD,EAAwB,OAAO7F,KAAKoE,aAAa2B,cAErD,MAAMC,EAAUhG,KAAKoE,aAAa6B,MAAM,EAAGJ,GAAiBE,cACtDG,EAAUlG,KAAKoE,aAAa6B,MAAMJ,GACxC,OAAOG,EAAUE,CACnB,GAEF9F,QAAS,CACPuF,qBAAAA,CAAsBQ,GACpB,OAAKA,EACEA,EAAIC,OAAO,GAAGL,cAAgBI,EAAIF,MAAM,GAAGI,cADjC,EAEnB,IC/DJ,MAAM,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAAS,GAAQ,CAAC,YAAY,qBAEzF,Q,SCTA1L,IAAA,EAa+BC,MAAM,gB,GAbrCD,IAAA,EAiB0DC,MAAM,e,EAjBhE,gB,EAAA,S,EAAA,S,0CACEC,EAAAA,EAAAA,IA+BU,WA/BDD,OADXE,EAAAA,EAAAA,IAAA,CACiB,SAAQ,YAAuBC,EAAAC,WAAU,UAAaD,EAAAE,gB,WACnEM,EAAAA,EAAAA,IASyB,SATlBX,MAAM,gBACNiC,KAAK,OAHhB,sBAAAW,EAAA,KAAAA,EAAA,GAAAU,GAIoBnD,EAAAuL,YAAWpI,GACnBqI,QAAK/I,EAAA,KAAAA,EAAA,OAAAC,IAAE9B,EAAA6K,aAAA7K,EAAA6K,eAAA/I,IACPgJ,OAAIjJ,EAAA,KAAAA,EAAA,OAAAC,IAAE9B,EAAA+K,iBAAA/K,EAAA+K,mBAAAjJ,IACPkJ,YAAY,mCACXC,QAAKpJ,EAAA,KAAAA,EAAA,IARjBqJ,EAAAA,EAAAA,KAAA,IAAApJ,IAQyB9B,EAAAmL,cAAAnL,EAAAmL,gBAAArJ,IAAY,YACzBsJ,UAAO,cATnBF,EAAAA,EAAAA,KAAA3I,GAS0BvC,EAAAqL,cAAc,IAAD,wBATvCH,EAAAA,EAAAA,KAAA3I,GAUwBvC,EAAAqL,eAAe,IAAF,UAC1BC,IAAI,e,iBAPKlM,EAAAuL,gBAQhBzK,EAAAA,EAAAA,IAIawC,EAAAA,GAAA,CAJD1B,KAAK,QAAM,CAZ3B4B,SAAAC,EAAAA,EAAAA,KAaM,IAEM,CAFKzD,EAAAmM,eAAY,WAAvBrM,EAAAA,EAAAA,IAEM,MAFNoB,GAEMO,EAAAA,EAAAA,IADDzB,EAAAmM,cAAY,KAdvBlC,EAAAA,EAAAA,IAAA,UAAAtG,EAAA,IAiBe3D,EAAAoM,iBAAmBxL,EAAAyL,YAAYxB,OAAS,IAAH,WAAhD/K,EAAAA,EAAAA,IAKM,MALNS,EAKM,gBAJJT,EAAAA,EAAAA,IAGMqB,EAAAA,GAAA,MArBZ0B,EAAAA,EAAAA,IAkBmCjC,EAAAyL,aAlBnC,CAkBmBC,EAAMtJ,M,WAAnBlD,EAAAA,EAAAA,IAGM,OAHqCF,IAAK0M,EAAMzM,OAlB5DE,EAAAA,EAAAA,IAAA,CAkBkE,kBAAiB,qBAC5CiD,IAAUhD,EAAAuM,yBAA0BV,QAAKpJ,EAAA,KAAAA,EAAA,IAnBhFqJ,EAAAA,EAAAA,KAAA,IAAApJ,IAmBwF9B,EAAA4L,aAAA5L,EAAA4L,eAAA9J,IAAW,YAAG+J,aAnBtGC,EAAAA,EAAAA,KAAAvJ,GAmByHvC,EAAA+L,iBAAiBL,IAAI,e,QACnIA,GAAI,GApBf7L,M,UAAAwJ,EAAAA,EAAAA,IAAA,oBAuBInK,EAAAA,EAAAA,IAQM,OARDD,MAAM,oBAAoBsC,MAAM,KAAKC,OAAO,KAAKC,QAAQ,YAAYC,KAAK,OAC7EC,MAAM,6BAA8BC,QAAKC,EAAA,KAAAA,EAAA,OAAAC,IAAE9B,EAAAmL,cAAAnL,EAAAmL,gBAAArJ,K,EAC3ClC,EAAAA,EAAAA,IAEiE,QAF3D,YAAU,UAAU,YAAU,UAClCoC,EAAE,mrCACDN,KAAMtC,EAAAC,WAAa,8BAAgC,S,OA3B5DoD,IA4BM7C,EAAAA,EAAAA,IAEiE,QAD/DoC,EAAE,+mBACDN,KAAMtC,EAAAC,WAAa,8BAAgC,S,OA9B5D2D,OAAA,E,qBAsCA,GACEhC,KAAM,SACNoC,IAAAA,GACE,MAAO,CACLuH,YAAa,GACbY,aAAc,GAEdlM,YAAY,EACZC,aAAa,EACbuE,cAAe,CAAC,EAChB2H,iBAAiB,EACjBG,uBAAwB,EAE5B,EACA1H,OAAAA,GAEMC,OAAOC,UAAYD,OAAOC,SAASC,SACrCC,KAAKhF,YAAa,EAClBgF,KAAKC,oBACLD,KAAKE,0BAGLL,OAAOC,SAASC,OAAOI,UAGzBH,KAAKkD,OAAOgB,SAAS,qBAAqByD,OAAMC,IAC9CjE,QAAQiE,MAAM,2BAA4BA,EAAM,GAEpD,EACAxH,QAAS,KACJC,EAAAA,EAAAA,IAAW,CAAC,mBACfJ,iBAAAA,GACE,MAAMF,EAASF,OAAOC,SAASC,OAG/BC,KAAKR,cAAgBO,EAAOO,aAAe,CAAC,EAC5CN,KAAK/E,YAAqC,SAAvB8E,EAAOQ,YAG1BP,KAAKQ,qBAGLT,EAAOU,QAAQ,eAAgBT,KAAKQ,mBACtC,EACAA,kBAAAA,GACE,MAAMT,EAASF,OAAOC,SAASC,OAC/BC,KAAK/E,YAAqC,SAAvB8E,EAAOQ,YAG1BG,SAASC,gBAAgBC,MAAMC,YAAY,gBAAiBb,KAAKR,cAAcsB,UAAY,WAC3FJ,SAASC,gBAAgBC,MAAMC,YAAY,kBAAmBb,KAAKR,cAAcuB,YAAc,WAC/FL,SAASC,gBAAgBC,MAAMC,YAAY,oBAAqBb,KAAKR,cAAcwB,cAAgB,WACnGN,SAASC,gBAAgBC,MAAMC,YAAY,yBAA0Bb,KAAKR,cAAcyB,mBAAqB,WAC7GP,SAASC,gBAAgBC,MAAMC,YAAY,kBAAmBb,KAAKR,cAAc0B,YAAc,WAC/FR,SAASC,gBAAgBC,MAAMC,YAAY,kBAAmBb,KAAKR,cAAc2B,YAAc,WAC/FT,SAASC,gBAAgBC,MAAMC,YAAY,0BAA2Bb,KAAKR,cAAc4B,oBAAsB,WAC/GV,SAASC,gBAAgBC,MAAMC,YAAY,gBAAiBb,KAAKR,cAAc6B,UAAY,UAC7F,EACAnB,uBAAAA,GACE,MAAMH,EAASF,OAAOC,SAASC,OAG/BA,EAAOuB,WAAWC,OAClBxB,EAAOuB,WAAW/D,SAAQ,KAExBwC,EAAOyB,OAAO,GAElB,EACAqG,aAAAA,CAAcC,GACZ,IACE,IAAKA,GAA8B,kBAAZA,EAAsB,OAE7C9H,KAAKsG,YAAcwB,EACnB9H,KAAKmH,iBAAkB,EAEvBnH,KAAK+H,WAAU,KACT/H,KAAKgI,MAAM1B,aACbtG,KAAKgI,MAAM1B,YAAY2B,QAEzBjI,KAAK8G,cAAc,GAEvB,CAAE,MAAOc,GACPjE,QAAQiE,MAAM,mCAAoCA,EACpD,CACF,EAEAM,qBAAAA,GACE,OAAOlI,KAAKmI,sBAAsBnI,KAAKsG,YACzC,EAEAC,OAAAA,GACMvG,KAAKsG,YAAY8B,OAAOxC,QAAU,EACpC5F,KAAKmH,iBAAkB,EAEvBnH,KAAKmH,iBAAkB,CAE3B,EAEAT,eAAAA,GAEE2B,YAAW,KACTrI,KAAKmH,iBAAkB,CAAK,GAC3B,IACL,EAEAI,WAAAA,GACEvH,KAAKsH,uBAAyB,GAAKtH,KAAKoH,YAAYxB,OACtD5F,KAAK0H,iBAAiB1H,KAAKoH,YAAYpH,KAAKsH,wBAE5CtH,KAAK8G,cAET,EAGIwB,eAAAA,CAAgBC,GACd,IAAKA,EAAO,OAAOA,EAEnB,MAAM1C,EAAkB0C,EAAMzC,OAAO,MACrC,IAAyB,IAArBD,EAAwB,OAAO0C,EAAMxC,cAEzC,MAAMC,EAAUuC,EAAMtC,MAAM,EAAGJ,GAAiBE,cAC1CG,EAAUqC,EAAMtC,MAAMJ,GAC5B,OAAOG,EAAUE,CACnB,EAGAsC,cAAAA,CAAeC,GACb,MAAO,gBAAgBC,KAAKD,EAC9B,EAGAE,eAAAA,CAAgBF,GACd,MAAO,yBAAyBC,KAAKD,EACvC,EAGAG,aAAAA,CAAcH,GACZ,MAAMI,EAAe,CACnB,WACA,WAAY,UAAW,UACvB,sBAAuB,SAEzB,OAAOA,EAAaC,SAASL,EAAMpC,cACrC,EAGA0C,mBAAAA,CAAoBC,GAClB,IAAKA,EAAO,OAAO,KAGnB,MAAMC,EAAkBD,EAAMZ,OAAO/B,cAClC6C,QAAQ,MAAO,IACfA,QAAQ,OAAQ,KAChBA,QAAQ,KAAM,KAEXC,EAAaF,EAAgBxD,MAAM,KACnC2D,EAAcpJ,KAAKkD,OAAOc,QAAQoF,aAAe,GAGvD,IAAIC,EAAaD,EAAYE,QAAOxB,IAClC,MAAMyB,EAAezB,EAAQzB,cAAcZ,MAAM,KACjD,OAAO8D,EAAa,KAAOJ,EAAW,EAAE,IAI1C,OAA0B,IAAtBA,EAAWvD,SAOXuD,EAAWvD,OAAS,IACtByD,EAAaA,EAAWC,QAAOxB,IAC7B,MAAMyB,EAAezB,EAAQzB,cAAcZ,MAAM,KACjD,OAAO8D,EAAa,IAAInD,OAAO,KAAO+C,EAAW,GAAG/C,OAAO,EAAE,KAK7D+C,EAAWvD,OAAS,IACtByD,EAAaA,EAAWC,QAAOxB,IAC7B,MAAMyB,EAAezB,EAAQzB,cAAcZ,MAAM,KACjD,OAAO8D,EAAa,IAAInD,OAAO,KAAO+C,EAAW,GAAG/C,OAAO,EAAE,MAjBlC,IAAtBiD,EAAWzD,OACdyD,EAAW,GAAGH,QAAQ,KAAM,KAC5B,IAsBR,EAGAM,uBAAAA,CAAwB7M,GACtB,IAAKA,GAAwB,kBAATA,EAAmB,MAAO,GAG9C,MAAM6I,EAAQ7I,EAAKuM,QAAQ,MAAO,IAAIA,QAAQ,OAAQ,KAAKd,OAAO3C,MAAM,KAGxE,IAAIgE,EAASjE,EAAM,GAAGY,OAAO,GAAGL,cAAgBP,EAAM,GAAGS,MAAM,GAAGI,cAYlE,OATIb,EAAMI,OAAS,GAAKJ,EAAM,KAC5BiE,GAAU,IAAIjE,EAAM,GAAGY,OAAO,GAAGL,kBAI/BP,EAAMI,OAAS,GAAKJ,EAAM,KAC5BiE,GAAU,IAAIjE,EAAM,GAAGY,OAAO,GAAGL,kBAG5B0D,CACT,EAGAC,mBAAAA,CAAoBjB,GAIlB,OAHAA,EAAQA,EAAML,OAGVpI,KAAK4I,cAAcH,IAGnBzI,KAAK2I,gBAAgBF,IAGrBzI,KAAKwI,eAAeC,GANc,OASlC,gBAAgBC,KAAKD,GAAe,QAGjC,SACT,EAGAkB,aAAAA,CAAclB,GAEZ,GADAA,EAAQA,EAAML,QACTK,EAAO,OAAO,KAGnB,MAAMmB,EAAc5J,KAAKkD,OAAOc,QAAQ6F,WACtC7J,KAAKkD,OAAOc,QAAQoF,aACpBpJ,KAAKkD,OAAOc,QAAQ8F,SAEtB,IAAKF,EAEH,OADAjG,QAAQiE,MAAM,8BACP,KAGT,MAAM/K,EAAOmD,KAAK0J,oBAAoBjB,GAGtC,MAAa,YAAT5L,GAAuB,mBAAmB6L,KAAKD,GAI5C5L,EAHE,IAIX,EAEA,kBAAMiK,GAIJnD,QAAQC,IAAI,SAAU,CACpBoF,MAAOhJ,KAAKsG,YACZzJ,KAAMmD,KAAK2J,cAAc3J,KAAKsG,aAC9B8C,YAAapJ,KAAKkD,OAAOc,QAAQoF,YACjCW,UAAW/J,KAAK+I,oBAAoB/I,KAAKsG,eAGvCtG,KAAKsH,uBAAyB,GAAKtH,KAAKoH,YAAYxB,SACtD5F,KAAKsG,YAActG,KAAKoH,YAAYpH,KAAKsH,wBAG3C,MAAMmB,EAAQzI,KAAKsG,YAAY8B,OAC/B,IAAKK,EAAO,OAEZ,MAAM5L,EAAOmD,KAAK2J,cAAclB,GAChC,IAAK5L,EAGH,OAFAmD,KAAKkH,aAAe,8EACpBmB,YAAW,IAAMrI,KAAKkH,aAAe,IAAI,KAI3C,IACE,GAAa,YAATrK,EAAoB,CACtB,MAAMmN,EAAWhK,KAAK+I,oBAAoBN,GACpCW,EAAcpJ,KAAKkD,OAAOc,QAAQoF,aAAe,GAEvD,GAAiB,OAAbY,EAAmB,CACrB,MAAM5C,EAAcpH,KAAKmI,sBAAsBM,GAK/C,OAJAzI,KAAKkH,aAAeE,EAAYxB,OAC5B,2BAA2BwB,EAAY6C,KAAK,QAC5C,wEACJ5B,YAAW,IAAMrI,KAAKkH,aAAe,IAAI,IAE3C,CAEA,IAAK8C,EAGH,OAFAhK,KAAKkH,aAAe,+BACpBmB,YAAW,IAAMrI,KAAKkH,aAAe,IAAI,KAK3C,MAAMgD,EAASd,EAAYe,MAAKC,GAC9BA,EAAElB,QAAQ,KAAM,KAAK7C,gBAAkB2D,EAAS3D,gBAGlD,OAAK6D,aAMClK,KAAKkD,OAAOgB,SAAS,iBAAkB,CAC3CrH,OACA4L,MAAOuB,EACPK,aAAcrK,KAAKwJ,wBAAwBQ,EAASd,QAAQ,KAAM,SARlElJ,KAAKkH,aAAe,iBAAiBlH,KAAKwJ,wBAAwBQ,EAASd,QAAQ,KAAM,uBACzFb,YAAW,IAAMrI,KAAKkH,aAAe,IAAI,KAU7C,CAAO,CAEL,MAAMoD,EAAgB,UAATzN,EACTmD,KAAKkD,OAAOc,QAAQ6F,WAAa,GACjC7J,KAAKkD,OAAOc,QAAQ8F,UAAY,GAE9BI,EAASI,EAAKH,MAAK9C,GACvBA,EAAKhB,gBAAkBoC,EAAMpC,gBAG/B,IAAK6D,EAGH,OAFAlK,KAAKkH,aAAe,GAAGlH,KAAKuK,YAAY1N,OAAU4L,uBAClDJ,YAAW,IAAMrI,KAAKkH,aAAe,IAAI,WAIrClH,KAAKkD,OAAOgB,SAAS,iBAAkB,CAC3CrH,OACA4L,QACA4B,aAAc5B,GAElB,CACF,CAAE,MAAOb,GACPjE,QAAQiE,MAAM,iBAAkBA,GAChC5H,KAAKkH,aAAe,iCACpBmB,YAAW,IAAMrI,KAAKkH,aAAe,IAAI,IAC3C,CAAE,QACAlH,KAAKmH,iBAAkB,CACzB,CACF,EAEAqD,iBAAAA,CAAkB3N,EAAM4L,GACtB,GAAa,YAAT5L,EAAoB,OAAO4L,EAG/B,MAAMjD,EAAQiD,EAAMhD,MAAM,KAC1B,IAAIC,EAAYF,EAAM,GAUtB,OARIA,EAAMI,OAAS,IACjBF,GAAa,IAAIF,EAAM,GAAG,GAAGO,kBAG3BP,EAAMI,OAAS,IACjBF,GAAa,IAAIF,EAAM,GAAG,GAAGO,kBAGxBL,CACT,EAEA6E,WAAAA,CAAY1N,GACV,MAAM4N,EAAQ,CACZlC,MAAO,SACPT,QAAS,gBACT4C,KAAM,aAER,OAAOD,EAAM5N,IAAS,EACxB,EAEA,mBAAM8N,CAAc9N,EAAM4L,GACxB,GAAa,YAAT5L,EAAoB,CACtB,MAAMyN,EAAOtK,KAAKkD,OAAOc,QAAQ,MAAMnH,EAAKuJ,OAAO,GAAGL,cAAgBlJ,EAAKoJ,MAAM,OAAS,GAC1F,OAAOqE,EAAKH,MAAK9C,GAAQA,EAAKhB,gBAAkBoC,EAAMpC,eACxD,CAEA,MAAM0D,EAAY/J,KAAK+I,oBAAoBN,GAC3C,IAAKsB,EAAW,OAAO,EAEvB,MAAMX,EAAcpJ,KAAKkD,OAAOc,QAAQoF,aAAe,GACvD,OAAOA,EAAYe,MAAKC,IACtB,MAAMQ,EAAmBR,EAAElB,QAAQ,KAAM,KAAK7C,cAC9C,OAAOuE,IAAqBb,EAAU1D,aAAa,GAEvD,EACA8B,qBAAAA,CAAsBa,GAEpB,IAAKA,GAA+B,oBAAfA,EAAMZ,KAAqB,MAAO,GAEvD,MAAMK,EAAQO,EAAMZ,OACpB,GAAIK,EAAM7C,OAAS,EAAG,MAAO,GAE7B,MAAMwD,EAAcpJ,KAAKkD,OAAOc,QAAQoF,aAAe,GACvD,IAAKA,EAAYxD,OAAQ,MAAO,GAEhC,MAAMiF,EAAapC,EAAMpC,cACnByE,EAAaD,EAAWpF,MAAM,KAEpC,OAAO2D,EAAYE,QAAOxB,IACxB,IAAKA,GAA8B,kBAAZA,EAAsB,OAAO,EAEpD,MAAMiD,EAAejD,EAAQzB,cACvBkD,EAAewB,EAAatF,MAAM,KAGxC,QAAK8D,EAAa,IAAIT,SAASgC,EAAW,QAGtCA,EAAWlF,OAAS,GAAK2D,EAAa,KACjCA,EAAa,GAAGyB,WAAWF,EAAW,GAAG1E,OAAO,IAG9C,IACVH,MAAM,EAAG,EACd,EACAgF,cAAAA,CAAejC,GACb,IAAKA,GAASA,EAAMZ,OAAOxC,OAAS,EAAG,MAAO,GAE9C,MAAM/I,EAAOmD,KAAK0J,oBAAoBV,GAChCkC,EAAclC,EAAM3C,cAE1B,OAAQxJ,GACN,IAAK,UACH,MAAMuM,EAAcpJ,KAAKkD,OAAOc,QAAQoF,aAAe,GACvD,OAAOA,EACJE,QAAOxB,GAAWA,EAAQzB,cAAcyC,SAASoC,KACjDjF,MAAM,EAAG,GAEd,IAAK,QACH,MAAM4D,EAAY7J,KAAKkD,OAAOc,QAAQ6F,WAAa,GACnD,OAAOA,EACJP,QAAOf,GAASA,EAAMlC,cAAcyC,SAASoC,KAC7CjF,MAAM,EAAG,GAEd,IAAK,OACH,MAAM6D,EAAW9J,KAAKkD,OAAOc,QAAQ8F,UAAY,GACjD,OAAOA,EACJR,QAAOoB,GAAQA,EAAKrE,cAAcyC,SAASoC,KAC3CjF,MAAM,EAAG,GAEd,QACE,MAAO,GAEb,EAGAyB,gBAAAA,CAAiBL,GACfrH,KAAKsG,YAAce,EACnBrH,KAAKmH,iBAAkB,EACvBnH,KAAKsH,uBAAyB,EAC9BtH,KAAK8G,cACP,EAGAE,aAAAA,CAAcmE,GACZ,IAAKnL,KAAKmH,gBAAiB,OAE3B,MAAM3C,EAAWxE,KAAKsH,sBAAwB6D,EAC1C3G,GAAY,GAAKA,EAAWxE,KAAKoH,YAAYxB,SAC/C5F,KAAKsH,sBAAwB9C,GAI/B,MAAM4G,EAAqBpL,KAAKqL,IAAIC,iBAAiB,oBACjDF,EAAmB5G,IACrB4G,EAAmB5G,GAAU+G,eAAe,CAC1CC,MAAO,UACPC,SAAU,UAGhB,EAGAjF,WAAAA,GACMxG,KAAKsG,aAAetG,KAAKsG,YAAY8B,OAAOxC,QAAU,GACxD5F,KAAKmH,iBAAkB,EACvBnH,KAAKsH,uBAAyB,GAE9BtH,KAAKmH,iBAAkB,CAE3B,GAKF1H,SAAU,CACR2H,WAAAA,GACE,OAAOpH,KAAKiL,eAAejL,KAAKsG,YAClC,EACAoF,kBAAAA,GACE,IACE,OAAO1L,KAAKsG,YAActG,KAAKmI,sBAAsBnI,KAAKsG,aAAe,EAC3E,CAAE,MAAOsB,GAEP,OADAjE,QAAQiE,MAAM,8BAA+BA,GACtC,EACT,CACF,ICzhBJ,MAAM,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAAS,GAAQ,CAAC,YAAY,qBAEzF,Q,SCGiBhN,MAAM,S,GACTA,MAAM,gB,mIAZlBC,EAAAA,EAAAA,IAmBU,6BAlBRM,EAAAA,EAAAA,IAiBSwQ,EAAA,CAhBL/Q,MAAM,eACL,kBAAiB,EACjB,gBAAe,GACfgR,SAAQjQ,EAAAiQ,SACRC,cAAclQ,EAAAkQ,cACd,gBAAelQ,EAAAmQ,aACfnR,IAAKgB,EAAAoQ,W,CATdxN,SAAAC,EAAAA,EAAAA,KAWoB,IAA4B,gBAA1C3D,EAAAA,EAAAA,IAOeqB,EAAAA,GAAA,MAlBrB0B,EAAAA,EAAAA,IAW2CiH,EAAAhH,MAX3C,CAW4BC,EAAKC,M,WAA3B5C,EAAAA,EAAAA,IAOe6Q,EAAA,CAP6BrR,IAAKoD,GAAK,CAX5DQ,SAAAC,EAAAA,EAAAA,KAYQ,IAKU,EALVjD,EAAAA,EAAAA,IAKU,UALVU,EAKU,EAJRV,EAAAA,EAAAA,IAEK,KAFLD,GAEKkB,EAAAA,EAAAA,IADAsB,GAAKkE,aAAe,IAAK,OAAGxF,EAAAA,EAAAA,IAAGsB,GAAKW,MAAQ,IAAK,KAACjC,EAAAA,EAAAA,IAAGsB,GAAKoE,OAAS,IAAJ,IAEpErG,EAAAA,EAAAA,IAA2CoQ,EAAA,CAApB,YAAWlO,GAAK,2BAhBjDW,EAAA,G,kBAAAA,EAAA,G,0ECAA/D,IAAA,EACsCC,MAAM,kB,IAD5CD,IAAA,EAMcC,MAAM,W,qEALLe,EAAAuQ,eAAetG,SAAM,WAAlC/K,EAAAA,EAAAA,IAIQ,QAJRoB,EAIQ,EAHNV,EAAAA,EAAAA,IAEQ,6BADRV,EAAAA,EAAAA,IAAkFqB,EAAAA,GAAA,MAHtF0B,EAAAA,EAAAA,IAG6CjC,EAAAuQ,gBAH7C,CAG8BC,EAAKpO,M,WAA/B5C,EAAAA,EAAAA,IAAkFiR,EAAA,CAAxBzR,IAAKoD,EAAQoO,IAAKA,G,2CAG9EtR,EAAAA,EAAAA,IAEM,MAFNS,GAA4B,gC,kECN9B,e,GAAA,c,IAIQV,MAAM,6B,IACFA,MAAM,oC,GALlB,c,IAQQA,MAAM,2B,GARd,c,IAUWA,MAAM,0C,2CATfC,EAAAA,EAAAA,IAmBK,MAnBDD,OADNE,EAAAA,EAAAA,IAAA,CACY,qBAAoB,YAAsBC,EAAAC,cAAc,aAAYD,EAAAE,YAAc,OAAS,S,EACnGM,EAAAA,EAAAA,IAA2D,MAAvDX,MAAM,0BAA0ByR,UAAQ5P,EAAA0P,IAAIG,M,OAFpDhR,KAGIC,EAAAA,EAAAA,IAAwF,MAAnFX,OAHTE,EAAAA,EAAAA,IAAA,yDAG0E2B,EAAA0P,IAAItP,U,SAC1EtB,EAAAA,EAAAA,IAGK,KAHLC,GAGK,EAFHD,EAAAA,EAAAA,IAAsE,OAAtE6C,IAAsE5B,EAAAA,EAAAA,IAApBC,EAAA0P,IAAII,QAAM,gBAAUhR,EAAAA,EAAAA,IAAI,qBAC1EA,EAAAA,EAAAA,IAAoF,QAA9EX,MAAM,qCAAqCyR,UAAQ1Q,EAAA6Q,oB,OAN/D7N,OAQIpD,EAAAA,EAAAA,IAWK,KAXLuD,GAWK,EAVHvD,EAAAA,EAAAA,IAA8E,QAAxEX,MAAM,+BAA+ByR,UAAQ1Q,EAAA8Q,oB,OATzDrH,KAUM7J,EAAAA,EAAAA,IAQM,MARNmR,GAQM,CAPO/Q,EAAAgR,SAAWhR,EAAAiR,iBAAc,WAApC/R,EAAAA,EAAAA,IAMM,OAjBdF,IAAA,EAW+C4C,QAAKC,EAAA,KAAAA,EAAA,IAXpDiK,EAAAA,EAAAA,KAAA,IAAAhK,IAW2D9B,EAAAkR,iBAAAlR,EAAAkR,mBAAApP,IAAe,WAAGqP,aAAUtP,EAAA,KAAAA,EAAA,IAXvFiK,EAAAA,EAAAA,KAAA,IAAAhK,IAW8F9B,EAAAkR,iBAAAlR,EAAAkR,mBAAApP,IAAe,WACnG7C,MAAM,+BAA+BsC,MAAM,KAAKC,OAAO,KAAKC,QAAQ,YAAYC,KAAK,OACrFC,MAAM,8B,cACN/B,EAAAA,EAAAA,IAEwG,QADtGoC,EAAE,sdACFoP,OAAO,2BAA2B,eAAa,MAAM,iBAAe,QAAQ,kBAAgB,S,iBAhBxG/H,EAAAA,EAAAA,IAAA,eAAA/I,G,YA0BA,IACEU,KAAM,mBACNC,MAAO,CACLuP,IAAK,CACHtP,KAAMmQ,OACNjQ,UAAU,IAGdgC,IAAAA,GACE,MAAO,CAEL/D,YAAY,EACZC,aAAa,EACbuE,cAAe,CAAC,EAEpB,EACAI,OAAAA,GAEMC,OAAOC,UAAYD,OAAOC,SAASC,SACrCC,KAAKhF,YAAa,EAClBgF,KAAKC,oBAET,EACAR,SAAU,KACLC,EAAAA,EAAAA,IAAW,CAAC,cAAe,WAAY,eAE1CkN,cAAAA,GACE,MAAmC,KAA5B5M,KAAKmM,IAAII,QAAQnE,MAC1B,EAEAuE,OAAAA,GACE,MAAMrN,EAAeU,KAAKiN,aAAanL,cAAcoL,cAAczH,MAAM,KAAK,KAAM,IAAIxG,MAAOiO,cAAczH,MAAM,KAAK,GACxH,OAAOzF,KAAKmN,SAAShD,MAAKiD,GACxBA,EAAKb,SAAWvM,KAAKmM,IAAII,QACzBa,EAAKd,OAAStM,KAAKmM,IAAIG,MACvBc,EAAK3O,OAASa,GAElB,EAEA+N,eAAAA,GACE,OAAOrN,KAAKmM,IAAImB,UAAUxK,KAAIsH,GAAKA,EAAEzN,OAAMsN,KAAK,OAAS,EAC3D,EAEAsD,aAAAA,GACE,GAAwB,YAApBvN,KAAKwN,WAA0B,CAEjC,MAAMC,EAAS,CAAC,EAOhB,OANAzN,KAAKmM,IAAIuB,SAAShJ,SAAQ/G,IACxB,GAAIA,EAAE4K,MAAO,CACX,MAAM5N,EAAMgD,EAAE4K,OAAS5K,EAAEgQ,SAAW,IAAIhQ,EAAEgQ,WAAa,IACvDF,EAAO9S,GAAOgD,EAAE4K,OAAS5K,EAAEgQ,SAAW,KAAKhQ,EAAEgQ,YAAc,GAC7D,KAEKX,OAAOY,OAAOH,GAAQxD,KAAK,KACpC,CAEA,GAAwB,SAApBjK,KAAKwN,WAAuB,CAE9B,MAAMC,EAAS,IAAII,IAUnB,OATA7N,KAAKmM,IAAIuB,SAAShJ,SAAQ/G,IACxBA,EAAE8P,QAAQ/I,SAAQoJ,IAChB,GAAIA,EAAEvF,MAAO,CAEX,MAAMwF,EAAYD,EAAEvF,MAAM9C,MAAM,KAAK,GACrCgI,EAAOO,IAAID,EACb,IACA,IAEG,IAAIN,GAAQxD,KAAK,KAC1B,CAEA,MAAO,EACT,EAEAgE,YAAAA,GACE,MAAwB,UAApBjO,KAAKwN,WACAxN,KAAKmM,IAAIzB,MAAQ,GAEF,YAApB1K,KAAKwN,YACAxN,KAAKmM,IAAIzB,MAEX,EACT,EAEA8B,kBAAAA,GACE,OAAQxM,KAAKwN,YACX,IAAK,QAEH,OAAOxN,KAAKkO,4BAA4BlO,KAAKmM,IAAImB,UACnD,IAAK,UAEH,OAAOtN,KAAKmO,0BAA0BnO,KAAKmM,IAAIuB,SACjD,IAAK,OAEH,OAAO1N,KAAKkO,4BAA4BlO,KAAKmM,IAAIuB,SACnD,QACE,MAAO,GAEb,EAEAjB,kBAAAA,GACE,OAAQzM,KAAKwN,YACX,IAAK,QAEH,OAAOxN,KAAKoO,yBAAyBpO,KAAKmM,IAAImB,UAChD,IAAK,UAEH,OAAOtN,KAAKmM,IAAIzB,MAAQ,GAC1B,IAAK,OAEH,OAAO1K,KAAKmO,0BACVnO,KAAKmM,IAAIuB,SAASW,SAAQ1Q,GAAKA,EAAE8P,QAAU,MAE/C,QACE,MAAO,GAEb,GAEFrN,QAAS,CACPH,iBAAAA,GACE,MAAMF,EAASF,OAAOC,SAASC,OAE/BC,KAAKR,cAAgBO,EAAOO,aAAe,CAAC,EAC5CN,KAAK/E,YAAqC,SAAvB8E,EAAOQ,YAC1BP,KAAKQ,qBACLT,EAAOU,QAAQ,eAAgBT,KAAKQ,mBACtC,EAEAA,kBAAAA,GACE,MAAMT,EAASF,OAAOC,SAASC,OAC/BC,KAAK/E,YAAqC,SAAvB8E,EAAOQ,YAG1BG,SAASC,gBAAgBC,MAAMC,YAAY,iBAAkBb,KAAKR,cAAcsB,WAAad,KAAK/E,YAAc,UAAY,YAC5HyF,SAASC,gBAAgBC,MAAMC,YAAY,mBAAoBb,KAAKR,cAAcuB,aAAef,KAAK/E,YAAc,UAAY,YAChIyF,SAASC,gBAAgBC,MAAMC,YAAY,qBAAsBb,KAAKR,cAAc4B,qBAAuBpB,KAAK/E,YAAc,UAAY,YAC1IyF,SAASC,gBAAgBC,MAAMC,YAAY,qBAAsBb,KAAK/E,YAAc,OAAS,WAC7FyF,SAASC,gBAAgBC,MAAMC,YAAY,uBAAuBb,KAAK/E,YAAc,YACrFyF,SAASC,gBAAgBC,MAAMC,YAAY,mBAAoBb,KAAKR,cAAc0B,aAAelB,KAAK/E,YAAc,UAAY,WAClI,EAEA4R,eAAAA,CAAgByB,GACd,IAAKtO,KAAK4M,eAGR,OAFA0B,EAAEC,sBACFD,EAAEE,kBAIJF,EAAEC,iBACFD,EAAEE,kBAEF,MAAMlP,EAAeU,KAAKiN,aAAanL,cAAcoL,cAAczH,MAAM,KAAK,KAAM,IAAIxG,MAAOiO,cAAczH,MAAM,KAAK,GAClH2H,EAAOpN,KAAKmN,SAAS9J,MAAK+J,GAC9BA,EAAKb,SAAWvM,KAAKmM,IAAII,QACzBa,EAAKd,OAAStM,KAAKmM,IAAIG,MACvBc,EAAK3O,OAASa,IAGZ8N,GACFpN,KAAKkD,OAAOgB,SAAS,iBAAkBkJ,EAAKqB,GAEhD,EAEAP,2BAAAA,CAA4BQ,GAC1B,OAAKA,GAAUA,EAAM9I,OAEd8I,EAAM5L,KAAIuE,IAEf,MAAMsH,EAActH,EAAK1K,MAAQ0K,EAAKS,SAAW,GAC3C6F,EAAWtG,EAAKsG,UACLtG,EAAKoG,SAAS,IAAIE,UACnB,GAEhB,IAAKgB,EAAa,MAAO,GAEzB,MAAMC,EAAYD,EAAYlJ,MAAM,KAClBmJ,EAAU,GACVA,EAAU,IAAKA,EAAU,GAAG,GAC5BA,EAAU,IAAKA,EAAU,GAAG,GAE9C,OAAOjB,EAAW,GAAGgB,KAAehB,KAAcgB,CAAW,IAC5DrF,OAAOuF,SAAS5E,KAAK,QAjBY,EAkBtC,EAEAkE,yBAAAA,CAA0BV,GACxB,IAAKA,EAAQ,MAAO,GAEpB,GAAwB,SAApBzN,KAAKwN,WAAuB,CAE9B,MAAMsB,EAAe,IAAIjB,IAQzB,OAPAJ,EAAO/I,SAAQoJ,IACb,GAAIA,EAAEvF,MAAO,CAEX,MAAMwF,EAAYD,EAAEvF,MAAM9C,MAAM,KAAK,GACrCqJ,EAAad,IAAID,EACnB,KAEK,IAAIe,GAAc7E,KAAK,OAChC,CAGA,OAAOwD,EAAO3K,KAAIgL,IAChB,IAAI3H,EAAM2H,EAAEvF,MAEZ,OADIuF,EAAEH,WAAUxH,GAAO,IAAI2H,EAAEH,aACtBxH,CAAG,IACT8D,KAAK,OACV,EAEAmE,wBAAAA,CAAyBM,GACvB,IAAKA,EAAO,MAAO,GACnB,MAAMK,EAAU,IAAIC,IACdC,EAAe,IAAIpB,IAsBzB,OAnBAa,EAAMhK,SAAQ2C,IACRA,EAAKsG,UACPsB,EAAajB,IAAI3G,EAAKsG,SACxB,IAIFe,EAAMhK,SAAQ2C,IACRA,EAAKqD,OACFqE,EAAQG,IAAI7H,EAAKqD,OACpBqE,EAAQI,IAAI9H,EAAKqD,KAAM,IAAImD,KAEzBxG,EAAKsG,UACPoB,EAAQK,IAAI/H,EAAKqD,MAAMsD,IAAI3G,EAAKsG,UAEpC,IAIK,IAAIoB,EAAQM,WAAWvM,KAAI,EAAE4H,EAAM4E,KAEjCA,EAAUC,OAASN,EAAaM,KAAO7E,EAAO,GAAGA,KAAQ,IAAI4E,GAAWrF,KAAK,UACnFA,KAAK,OACV,IChQJ,MAAM,IAA2B,OAAgB,GAAQ,CAAC,CAAC,SAAS,IAAQ,CAAC,YAAY,qBAEzF,UFMA,MAAMuF,GAAc,CAClB,CAAClD,KAAM,iBAAkBzP,KAAM,WAC/B,CAACyP,KAAM,iBAAkBzP,KAAM,WAC/B,CAACyP,KAAM,iBAAkBzP,KAAM,WAC/B,CAACyP,KAAM,iBAAkBzP,KAAM,WAC/B,CAACyP,KAAM,iBAAkBzP,KAAM,WAC/B,CAACyP,KAAM,iBAAkBzP,KAAM,YAG3B4S,GAAe,CACnB,CAACnD,KAAM,iBAAkBzP,KAAM,WAC/B,CAACyP,KAAM,iBAAkBzP,KAAM,WAC/B,CAACyP,KAAM,iBAAkBzP,KAAM,WAC/B,CAACyP,KAAM,iBAAkBzP,KAAM,WAC/B,CAACyP,KAAM,iBAAkBzP,KAAM,WAC/B,CAACyP,KAAM,iBAAkBzP,KAAM,YAGjC,QACEF,KAAM,uBACN+S,WAAY,CACVC,iBAAgBA,IAElB/S,MAAO,CACLwF,SAAU,CACRvF,KAAM+S,OACN7S,UAAU,IAGd0C,SAAU,CACRoQ,kBAAAA,GACE,OAAO7P,KAAKkD,OAAOc,QAAQ8L,oBAAoB9P,KAAKoC,WAAa,EACnE,EACA2N,SAAAA,GACE,OAAyB,IAAlB/P,KAAKoC,SAAiBqN,GAAeD,EAC9C,EACAtD,cAAAA,GACF,OAAOlM,KAAK+P,UAAUjN,KAAIkN,IACxB,MAAMC,EAAUjQ,KAAK6P,mBAAmBxM,MAAK6M,GAAKA,EAAE5D,OAAS0D,EAAW1D,QAAS,CAAC,EAElF,MAAO,IACF0D,EACHnT,KAAMoT,EAAQpT,MAAQmT,EAAWnT,KACjC0P,OAAQ0D,EAAQ1D,QAAU,GAC1Be,SAAU2C,EAAQ3C,UAAY,GAC9B5C,KAAMuF,EAAQvF,MAAQ,GACtBgD,QAASuC,EAAQvC,SAAW,GAC7B,GAEL,GAEEtN,QAAS,KACJC,EAAAA,EAAAA,IAAW,CAAC,yBAA0B,2BACzC8P,2BAAAA,CAA4B7C,GAC5B,MAAMyB,EAAU,CAAC,EACXE,EAAe,IAAIpB,IAsBzB,OAnBAP,EAAS5I,SAAQ0F,IACXA,EAAEuD,UACJsB,EAAajB,IAAI5D,EAAEuD,SACrB,IAIFL,EAAS5I,SAAQ0F,IACXA,EAAEM,OACCqE,EAAQ3E,EAAEM,QACbqE,EAAQ3E,EAAEM,MAAQ,IAAImD,KAEpBzD,EAAEuD,UACJoB,EAAQ3E,EAAEM,MAAMsD,IAAI5D,EAAEuD,UAE1B,IAIKX,OAAOqC,QAAQN,GACnBjM,KAAI,EAAE4H,EAAM4E,KAEPA,EAAUC,KAAO,GAAKD,EAAUC,OAASN,EAAaM,KACjD,GAAG7E,MAAS0F,MAAMC,KAAKf,GAAWrF,KAAK,SAEzCS,IAERT,KAAK,KAGV,GAEA9F,MAAO,CACL+H,eAAgB,CACdoE,WAAW,EACXC,OAAAA,CAAQC,GACNxQ,KAAKyQ,uBAAuBD,EAC9B,KGzGN,MAAM,IAA2B,OAAgB,GAAQ,CAAC,CAAC,SAAS,MAEpE,UJsBA,IACE7T,KAAM,gBACN+S,WAAY,CACVgB,OAAM,KACNC,YAAW,KACXC,qBAAoBA,IAEtB7R,IAAAA,GACE,MAAO,CACL8R,eAAgB,KAChBC,sBAAuB,EAE3B,EACArR,SAAU,KACLC,EAAAA,EAAAA,IAAW,CAAC,OAAQ,mBAAoB,aAAc,oBACzDoM,YAAAA,GAEE,OAAO9L,KAAK8Q,qBACd,EACA/E,SAAAA,GAEE,MAAO,GAAG/L,KAAK+Q,iBACjB,GAEF3Q,QAAS,KACJC,EAAAA,EAAAA,IAAW,CAAC,mBAEfuL,QAAAA,CAASoF,GACPhR,KAAK6Q,eAAiBG,EAEtBA,EAAOC,QAAQjR,KAAK8Q,sBACtB,EAEAjF,aAAAA,CAAcmF,GACZ,MAAM5O,EAAW4O,EAAOE,YACxBlR,KAAK8Q,sBAAwB1O,EACzBpC,KAAKnC,KAAKuE,IACZpC,KAAK+B,eAAe,IACf/B,KAAKnC,KAAKuE,GACbA,SAAUA,GAGhB,GAEF+B,MAAO,CAELtG,IAAAA,GACEmC,KAAK+H,WAAU,KACT/H,KAAK6Q,qBAAiDpM,IAA/BzE,KAAK8Q,uBAC9B9Q,KAAK6Q,eAAeI,QAAQjR,KAAK8Q,sBACnC,GAEJ,EAGAvM,gBAAAA,CAAiBC,QACEC,IAAbD,GAA0BA,IAAaxE,KAAK8Q,wBAC9C9Q,KAAK8Q,sBAAwBtM,EACzBxE,KAAK6Q,gBACP7Q,KAAK6Q,eAAeI,QAAQzM,GAGlC,EACAuM,eAAAA,GAEE/Q,KAAK+H,WAAU,KACT/H,KAAK6Q,gBACP7Q,KAAK6Q,eAAeM,QACtB,GAEJ,GAEFvR,OAAAA,GAEEI,KAAK8Q,sBAAwB9Q,KAAKuE,kBAAoB,CACxD,GKjGF,MAAM,IAA2B,OAAgB,GAAQ,CAAC,CAAC,SAAS,GAAQ,CAAC,YAAY,qBAEzF,U,UCRW3J,MAAM,Q,iFAAfC,EAAAA,EAAAA,IAuBU,UAvBVoB,GAuBU,EAtBRV,EAAAA,EAAAA,IAaS,UAbDX,MAAM,gBAAiB2C,QAAKC,EAAA,KAAAA,EAAA,OAAAC,IAAE9B,EAAAyV,kBAAAzV,EAAAyV,oBAAA3T,K,cAF1C4T,EAAAA,EAAAA,IAAA,k/GAgBI9V,EAAAA,EAAAA,IAMS,UANDX,MAAM,gBAAiB2C,QAAKC,EAAA,KAAAA,EAAA,OAAAC,IAAEoH,EAAAyM,kBAAAzM,EAAAyM,oBAAA7T,K,cAhB1CwH,EAAAA,EAAAA,IAgB6D,sBACvD1J,EAAAA,EAAAA,IAIO,cAHLA,EAAAA,EAAAA,IAEU,OAFLX,MAAM,YAAYsC,MAAM,KAAKC,OAAO,KAAKC,QAAQ,YAAYC,KAAK,OAAOC,MAAM,8B,EAC9E/B,EAAAA,EAAAA,IAAqgB,QAA/foC,EAAE,2aAA2aoP,OAAO,QAAQ,eAAa,MAAM,iBAAe,QAAQ,kBAAgB,c,MAI7ehS,EAAAwW,YAAS,WAAlCpW,EAAAA,EAAAA,IAAiEqW,EAAA,CAvBrE7W,IAAA,EAuByC8W,QAAKjU,EAAA,KAAAA,EAAA,GAAAU,GAAEnD,EAAAwW,WAAY,OAvB5DvM,EAAAA,EAAAA,IAAA,Q,WCESpK,MAAM,iB,IACJA,MAAM,gB,IACLA,MAAM,gB,IAEHsC,MAAM,KAAKC,OAAO,KAAKC,QAAQ,YAAYC,KAAK,OAAOC,MAAM,8B,GAN5E,W,IAYW1C,MAAM,c,IAZjBD,IAAA,EAa8BC,MAAM,W,IAbpCD,IAAA,EAcoBC,MAAM,iB,IAEVA,MAAM,gB,IACLA,MAAM,kB,GAjBvB,c,IAuBqBA,MAAM,6B,IACHA,MAAM,oC,GAxB9B,c,IA8BqBA,MAAM,2B,GA9B3B,c,2CACEC,EAAAA,EAAAA,IAwCM,OAxCDD,OADPE,EAAAA,EAAAA,IAAA,CACa,sBAAqB,YAAgDC,EAAAC,WAAU,UAAaD,EAAAE,eAArEsC,QAAKC,EAAA,KAAAA,EAAA,IADzCiK,EAAAA,EAAAA,KAAA,IAAAhK,IACgD9B,EAAA+V,YAAA/V,EAAA+V,cAAAjU,IAAU,Y,EACtDlC,EAAAA,EAAAA,IAsCM,MAtCNU,GAsCM,EArCJV,EAAAA,EAAAA,IAQM,MARND,GAQM,EAPJC,EAAAA,EAAAA,IAAmF,KAAnFC,GAAyB,iCAA6BgB,EAAAA,EAAAA,IAAGqI,EAAAS,mBAAoB,IAAC,IAC9E/J,EAAAA,EAAAA,IAKS,UALDX,MAAM,YAAa2C,QAAKC,EAAA,KAAAA,EAAA,OAAAC,IAAE9B,EAAA+V,YAAA/V,EAAA+V,cAAAjU,K,cAChC5C,EAAAA,EAAAA,IAGM,MAHNuD,GAGM,EAFJ7C,EAAAA,EAAAA,IACoE,QAD9DoC,EAAE,uBAAwBoP,OAAQhS,EAAAC,WAAa,8BAAgC,UACnF,eAAa,IAAI,iBAAe,QAAQ,kBAAgB,S,OARtE2D,YAYMpD,EAAAA,EAAAA,IA2BM,MA3BNuD,GA2BM,CA1BO/D,EAAAG,YAAS,WAApBL,EAAAA,EAAAA,IAAuD,MAAvDuK,GAAsC,kBAAW,WACjDvK,EAAAA,EAAAA,IAwBM,MAxBN6R,GAwBM,gBAvBJ7R,EAAAA,EAAAA,IAsBMqB,EAAAA,GAAA,MArChB0B,EAAAA,EAAAA,IAeyC7C,EAAAoE,UAfzC,CAeuBrB,EAAKsE,M,WAAlBvH,EAAAA,EAAAA,IAsBM,OAtBoCF,IAAKyH,EAAUxH,MAAM,S,EAC7DW,EAAAA,EAAAA,IAAgD,KAAhDoW,IAAgDnV,EAAAA,EAAAA,IAApBsB,EAAI8T,UAAQ,IACxCrW,EAAAA,EAAAA,IAmBM,MAnBNsW,GAmBM,gBAlBJhX,EAAAA,EAAAA,IAiBMqB,EAAAA,GAAA,MAnCpB0B,EAAAA,EAAAA,IAkB6CjC,EAAAmW,mBAAmB1P,IAlBhE,CAkB2B+J,EAAK4F,M,WAAlBlX,EAAAA,EAAAA,IAiBM,OAjBwDF,IAAKoX,EAAUnX,MAAM,sB,EACjFW,EAAAA,EAAAA,IAA6D,OAAxDX,MAAM,0BAA0ByR,UAAQF,EAAIG,M,OAnBjE0F,KAoBgBzW,EAAAA,EAAAA,IAEM,OADHX,OArBnBE,EAAAA,EAAAA,IAAA,yDAqBoFa,EAAAsW,iBAAiB7P,EAAU+J,EAAIG,W,SAEnG/Q,EAAAA,EAAAA,IAMM,MANN2W,GAMM,EALJ3W,EAAAA,EAAAA,IAA6F,OAA7F4W,IAA6F3V,EAAAA,EAAAA,IAA3Cb,EAAAyW,cAAchQ,EAAU+J,EAAIG,OAAI,IAClF/Q,EAAAA,EAAAA,IAGsD,QAH/CX,OAzBzBE,EAAAA,EAAAA,IAyBgC,CAAC,qCAAD,eAGXuR,UAAQ1Q,EAAA0W,eAAejQ,EAAU+J,EAAIG,O,OA5B1DgG,OA8BgB/W,EAAAA,EAAAA,IAIM,MAJNgX,GAIM,EAHJhX,EAAAA,EAAAA,IAEsD,QAF/CX,OA/BzBE,EAAAA,EAAAA,IA+BgC,CAAC,iCAEZuR,UAAQ1Q,EAAA6W,eAAepQ,EAAU+J,EAAIG,O,OAjC1DmG,W,sCA+CA,MAAMjD,GAAc,CAClB,CAAElD,KAAM,iBAAkBzP,KAAM,WAChC,CAAEyP,KAAM,iBAAkBzP,KAAM,WAChC,CAAEyP,KAAM,iBAAkBzP,KAAM,WAChC,CAAEyP,KAAM,iBAAkBzP,KAAM,WAChC,CAAEyP,KAAM,iBAAkBzP,KAAM,WAChC,CAAEyP,KAAM,iBAAkBzP,KAAM,YAG5B4S,GAAe,CACnB,CAAEnD,KAAM,iBAAkBzP,KAAM,WAChC,CAAEyP,KAAM,iBAAkBzP,KAAM,WAChC,CAAEyP,KAAM,iBAAkBzP,KAAM,WAChC,CAAEyP,KAAM,iBAAkBzP,KAAM,WAChC,CAAEyP,KAAM,iBAAkBzP,KAAM,WAChC,CAAEyP,KAAM,iBAAkBzP,KAAM,YAGlC,QACEF,KAAM,oBACNoC,IAAAA,GACE,MAAO,CACLI,SAAU,CACR,CAAEuT,UAAW,KAAMd,SAAU,eAC7B,CAAEc,UAAW,KAAMd,SAAU,WAC7B,CAAEc,UAAW,KAAMd,SAAU,SAC7B,CAAEc,UAAW,KAAMd,SAAU,WAC7B,CAAEc,UAAW,KAAMd,SAAU,WAC7B,CAAEc,UAAW,KAAMd,SAAU,YAE/B1W,WAAW,EAEXF,YAAY,EACZC,aAAa,EACbuE,cAAe,CAAC,EAEpB,EACAC,SAAU,KACLC,EAAAA,EAAAA,IAAW,CACZ,sBACA,oBACA,gBAGJU,QAAS,KACJC,EAAAA,EAAAA,IAAW,CAAC,0BAEfJ,iBAAAA,GACE,MAAMF,EAASF,OAAOC,SAASC,OAG/BC,KAAKR,cAAgBO,EAAOO,aAAe,CAAC,EAC5CN,KAAK/E,YAAqC,SAAvB8E,EAAOQ,YAG1BP,KAAKQ,qBAGLT,EAAOU,QAAQ,eAAgBT,KAAKQ,mBACtC,EAEAA,kBAAAA,GACE,MAAMT,EAASF,OAAOC,SAASC,OAC/BC,KAAK/E,YAAqC,SAAvB8E,EAAOQ,YAG1BG,SAASC,gBAAgBC,MAAMC,YAAY,gBAAiBb,KAAKR,cAAcsB,UAAY,WAC3FJ,SAASC,gBAAgBC,MAAMC,YAAY,kBAAmBb,KAAKR,cAAcuB,YAAc,WAC/FL,SAASC,gBAAgBC,MAAMC,YAAY,oBAAqBb,KAAKR,cAAcwB,cAAgB,WACnGN,SAASC,gBAAgBC,MAAMC,YAAY,yBAA0Bb,KAAKR,cAAcyB,mBAAqB,WAC7GP,SAASC,gBAAgBC,MAAMC,YAAY,kBAAmBb,KAAKR,cAAc0B,YAAc,WAC/FR,SAASC,gBAAgBC,MAAMC,YAAY,kBAAmBb,KAAKR,cAAc2B,YAAc,WAC/FT,SAASC,gBAAgBC,MAAMC,YAAY,0BAA2Bb,KAAKR,cAAc4B,oBAAsB,UACjH,EAEAsQ,UAAAA,GACE1R,KAAK2S,MAAM,QACb,EAEAb,kBAAAA,CAAmB1P,GACjB,OAAoB,IAAbA,EAAiBqN,GAAeD,EACzC,EAEAoD,gBAAAA,CAAiBxQ,GACf,OAAOpC,KAAK8P,oBAAoB1N,IAAa,EAC/C,EAEAyQ,eAAAA,CAAgBzQ,EAAUkK,GACxB,MAAMwG,EAAU9S,KAAK4S,iBAAiBxQ,GACtC,OAAO0Q,EAAQzP,MAAKkJ,GAAUA,EAAOD,OAASA,KAAS,IACzD,EAEA8F,aAAAA,CAAchQ,EAAUkK,GACtB,MAAMC,EAASvM,KAAK6S,gBAAgBzQ,EAAUkK,GAC9C,OAAOC,GAAQ5P,MAAQ4P,GAAQA,QAAU,EAC3C,EAEA0F,gBAAAA,CAAiB7P,EAAUkK,GACzB,MAAMC,EAASvM,KAAK6S,gBAAgBzQ,EAAUkK,GAC9C,OAAOC,GAAQ1P,MAAQ,SACzB,EAEAwV,cAAAA,CAAejQ,EAAUkK,GACvB,MAAMC,EAASvM,KAAK6S,gBAAgBzQ,EAAUkK,GAC9C,IAAKC,EAAQ,MAAO,GAEpB,OAAQvM,KAAKwN,YACX,IAAK,QACH,OAAOxN,KAAKkO,4BAA4B3B,EAAOe,UAAY,IAC7D,IAAK,UACH,OAAOtN,KAAKmO,0BAA0B5B,EAAOmB,SAAW,IAC1D,IAAK,OACH,OAAO1N,KAAKkO,4BAA4B3B,EAAOmB,SAAW,IAC5D,QACE,MAAO,GAEb,EAEA8E,cAAAA,CAAepQ,EAAUkK,GACvB,MAAMC,EAASvM,KAAK6S,gBAAgBzQ,EAAUkK,GAC9C,IAAKC,EAAQ,MAAO,GAEpB,OAAQvM,KAAKwN,YACX,IAAK,QACH,OAAOxN,KAAKoO,yBAAyB7B,EAAOe,UAAY,IAC1D,IAAK,UACH,OAAOf,EAAO7B,MAAQ,GACxB,IAAK,OACH,OAAO1K,KAAKmO,0BACV5B,EAAOmB,SAASW,SAAQ1Q,GAAKA,EAAE8P,QAAU,MAAO,IAEpD,QACE,MAAO,GAEb,EAEAS,2BAAAA,CAA4BQ,GAC1B,IAAKA,IAAUA,EAAM9I,OAAQ,MAAO,GAGpC,MAAMmN,EAAiB,IAAI/D,IAE3BN,EAAMhK,SAAQ2C,IACZ,MAAMsH,EAActH,EAAK1K,MAAQ0K,EAAKS,SAAW,GACjD,IAAK6G,EAAa,OAElB,MAAMhB,EAAWtG,EAAKsG,UAAatG,EAAKoG,SAAS,IAAIE,UAAa,GAE7DoF,EAAe7D,IAAIP,IACtBoE,EAAe5D,IAAIR,EAAa,IAAId,KAElCF,GACFoF,EAAe3D,IAAIT,GAAaX,IAAIL,EACtC,IAIF,MAAMlE,EAAS,GAcf,OAbAsJ,EAAerO,SAAQ,CAAC4K,EAAWX,KACjC,MAAMC,EAAYD,EAAYlJ,MAAM,KAClBmJ,EAAU,GACzBA,EAAU,IAAKA,EAAU,GAAG,GAC5BA,EAAU,IAAKA,EAAU,GAAG,GAE3BU,EAAUC,KAAO,EACnB9F,EAAOuJ,KAAK,GAAGrE,KAAe,IAAIW,GAAWrF,KAAK,SAElDR,EAAOuJ,KAAKrE,EACd,IAGKlF,EAAOQ,KAAK,OACrB,EAEAkE,yBAAAA,CAA0BV,GACxB,IAAKA,EAAQ,MAAO,GAEpB,GAAwB,SAApBzN,KAAKwN,WAAuB,CAC9B,MAAMsB,EAAe,IAAIjB,IAOzB,OANAJ,EAAO/I,SAAQoJ,IACb,GAAIA,EAAEvF,MAAO,CACX,MAAMwF,EAAYD,EAAEvF,MAAM9C,MAAM,KAAK,GACrCqJ,EAAad,IAAID,EACnB,KAEK,IAAIe,GAAc7E,KAAK,OAChC,CAEA,OAAOwD,EAAO3K,KAAIgL,IAChB,IAAI3H,EAAM2H,EAAEvF,MAEZ,OADIuF,EAAEH,WAAUxH,GAAO,IAAI2H,EAAEH,aACtBxH,CAAE,IACR8D,KAAK,OACV,EAEAmE,wBAAAA,CAAyBM,GACvB,IAAKA,EAAO,MAAO,GAGnB,MAAMK,EAAU,IAAIC,IAEpBN,EAAMhK,SAAQ2C,IACRA,EAAKqD,OACFqE,EAAQG,IAAI7H,EAAKqD,OACpBqE,EAAQI,IAAI9H,EAAKqD,KAAM,IAAImD,KAEzBxG,EAAKsG,UACPoB,EAAQK,IAAI/H,EAAKqD,MAAMsD,IAAI3G,EAAKsG,UAEpC,IAIF,MAAMlE,EAAS,GAYf,OAXAsF,EAAQrK,SAAQ,CAAC4K,EAAW5E,KAE1B,GAAI4E,EAAUC,KAAO,EAAG,CAEtB,MAAM0D,EAAkB3D,EAAUJ,IAAI,IAAMI,EAAUJ,IAAI,GAC1DzF,EAAOuJ,KAAKC,EAAkBvI,EAAO,GAAGA,KAAQ,IAAI4E,GAAWrF,KAAK,QACtE,MACER,EAAOuJ,KAAKtI,EACd,IAGKjB,EAAOQ,KAAK,OACrB,GAEF,aAAMrK,GACAC,OAAOC,UAAYD,OAAOC,SAASC,SACrCC,KAAKhF,YAAa,EAClBgF,KAAKC,qBAGPD,KAAK9E,WAAY,EACjB,IAEE,MAAMgY,EAAUlG,OAAOY,OAAO5N,KAAK8P,qBAAqB3F,MAAKrM,GAAOA,EAAI8H,OAAS,IAG5EsN,SACGlT,KAAKmT,uBAEf,CAAE,MAAOvL,GACPjE,QAAQiE,MAAM,8BAA+BA,EAC/C,CAAE,QACA5H,KAAK9E,WAAY,CACnB,CACF,GChSF,MAAM,IAA2B,OAAgB,GAAQ,CAAC,CAAC,SAAS,IAAQ,CAAC,YAAY,qBAEzF,UFsBA,IACEyB,KAAM,UACN+S,WAAY,CACV0D,kBAAiBA,IAEnBrU,IAAAA,GACE,MAAO,CACLwS,WAAW,EAEf,EACAnR,QAAS,KACJC,EAAAA,EAAAA,IAAW,CAAC,mBAAoB,0BACnC,sBAAM+Q,GACJ,UAEQpR,KAAKmT,wBACXnT,KAAKuR,WAAY,CACnB,CAAE,MAAO3J,GACPjE,QAAQiE,MAAM,8BAA+BA,EAC/C,CACF,IG5CJ,MAAM,IAA2B,OAAgB,GAAQ,CAAC,CAAC,SAAS,MAEpE,UlBQA,IACEjL,KAAM,OACN+S,WAAY,CAAC2D,OAAM,EAAEC,QAAO,GAAEC,cAAa,GAAEC,OAAM,EAAEC,UAAS,EAAEC,OAAMA,GACtE9O,OAAAA,GACE5E,KAAKkD,OAAOgB,SAAS,aACvB,GmBjBF,MAAM,IAA2B,OAAgB,GAAQ,CAAC,CAAC,SAAS,KAEpE,U,SCPA,e,IAAAvJ,IAAA,EAGiCC,MAAM,c,GAHvC,iB,IAWaA,MAAM,e,IACJA,MAAM,a,IACHA,MAAM,a,IACNA,MAAM,a,IAETA,MAAM,gB,GAhBrB,Y,GAAA,Y,IAgCaA,MAAM,wB,IACLA,MAAM,e,IACLA,MAAM,gB,IACHA,MAAM,gB,IACNA,MAAM,a,IApCxBD,IAAA,EAsCgEC,MAAM,a,IAOrDA,MAAM,qB,IA7CvBD,IAAA,EAkDsBC,MAAM,gB,IAlD5BD,IAAA,EAwDgBC,MAAM,e,sEAvDpBC,EAAAA,EAAAA,IA0DM,OA1DDD,OADPE,EAAAA,EAAAA,IAAA,CACa,QAAO,YAAsBC,EAAAC,cAAc,aAAYD,EAAAE,YAAc,OAAS,S,EACvFY,EAAAA,EAAAA,IAAyB8X,EAAA,CAAjBjX,MAAM,YACHf,EAAAiY,MAAMhO,OAAS,IAAH,WAAvB/K,EAAAA,EAAAA,IAoDM,MApDNS,GAoDM,gBAnDJT,EAAAA,EAAAA,IAkDMqB,EAAAA,GAAA,MAtDZ0B,EAAAA,EAAAA,IAKyBjC,EAAAkY,aAARzG,K,WADXvS,EAAAA,EAAAA,IAkDM,OAhDDF,IAAKyS,EAAKqB,GACX7T,OAPVE,EAAAA,EAAAA,IAAA,CAOgB,YAAW,qBACcsS,EAAKqB,KAAO5J,EAAAiP,gBAC1C,eAAc1G,EAAKqB,I,EAEtBlT,EAAAA,EAAAA,IAoBM,MApBN6C,GAoBM,EAnBJ7C,EAAAA,EAAAA,IAGM,MAHNoD,GAGM,EAFJpD,EAAAA,EAAAA,IAA0D,OAA1DuD,IAA0DtC,EAAAA,EAAAA,IAA/Bb,EAAAoY,WAAW3G,EAAK3O,OAAI,IAC/ClD,EAAAA,EAAAA,IAA8C,OAA9C6J,IAA8C5I,EAAAA,EAAAA,IAAnB4Q,EAAKd,MAAI,MAEtC/Q,EAAAA,EAAAA,IAcM,MAdNmR,GAcM,EAbJnR,EAAAA,EAAAA,IAOS,UANJgC,QAAKW,GAAEvC,EAAAqY,aAAa5G,GACrBxS,MAAM,iB,cAERW,EAAAA,EAAAA,IAEM,OAFD2B,MAAM,KAAKC,OAAO,KAAKC,QAAQ,YAAYC,KAAK,OAAOC,MAAM,8B,EAChE/B,EAAAA,EAAAA,IAAkK,QAA5JoC,EAAE,sEAAsEoP,OAAO,UAAU,eAAa,MAAM,iBAAe,QAAQ,kBAAgB,Y,OAtBzK4E,KAyBYpW,EAAAA,EAAAA,IAIS,UAJAgC,QAAKW,GAAE2G,EAAAoP,WAAW7G,EAAKqB,IAAK7T,MAAM,mB,cACzCW,EAAAA,EAAAA,IAEM,OAFD2B,MAAM,KAAKC,OAAO,KAAKC,QAAQ,YAAYC,KAAK,OAAOC,MAAM,8B,EAChE/B,EAAAA,EAAAA,IAA2F,QAArFoC,EAAE,uBAAuBoP,OAAO,UAAU,eAAa,MAAM,iBAAe,Y,OA3BlG8E,SAgCQtW,EAAAA,EAAAA,IAqBM,MArBNyW,GAqBM,EApBJzW,EAAAA,EAAAA,IAA8C,KAA9C2W,IAA8C1V,EAAAA,EAAAA,IAAnB4Q,EAAKb,QAAM,IACtChR,EAAAA,EAAAA,IAGM,MAHN4W,GAGM,EAFJ5W,EAAAA,EAAAA,IAAoD,OAApD+W,IAAoD9V,EAAAA,EAAAA,IAAtB4Q,EAAKtF,SAAO,IAC1CvM,EAAAA,EAAAA,IAA8C,OAA9CgX,IAA8C/V,EAAAA,EAAAA,IAAnB4Q,EAAK1C,MAAI,KAE3B3P,EAAAmZ,aAAenZ,EAAAmZ,YAAYzF,KAAOrB,EAAKqB,KAAE,WAApD5T,EAAAA,EAAAA,IAWM,MAXN4X,GAWM,WAVJlX,EAAAA,EAAAA,IAKY,YA5CxB,sBAAAiC,EAAA,KAAAA,EAAA,GAAAU,GAwCyBnD,EAAAmZ,YAAYC,QAAOjW,GAC5BtD,MAAM,qBACN+L,YAAY,2BA1C5ByN,SAAA,EA2CgBnN,IAAI,Y,iBAHKlM,EAAAmZ,YAAYC,YAKzB5Y,EAAAA,EAAAA,IAGM,MAHN8Y,GAGM,EAFJ9Y,EAAAA,EAAAA,IAAuE,UAA9DgC,QAAKC,EAAA,KAAAA,EAAA,OAAAC,IAAE9B,EAAA2Y,eAAA3Y,EAAA2Y,iBAAA7W,IAAe7C,MAAM,oBAAmB,WACxDW,EAAAA,EAAAA,IAAmE,UAA1DgC,QAAKC,EAAA,KAAAA,EAAA,OAAAC,IAAE9B,EAAA4Y,UAAA5Y,EAAA4Y,YAAA9W,IAAU7C,MAAM,kBAAiB,oBAAS,WAG9DC,EAAAA,EAAAA,IAEM,MAFN2Z,IAEMhY,EAAAA,EAAAA,IADD4Q,EAAK+G,SAAW,sBAAJ,UAnD3B3Y,O,sBAwDIX,EAAAA,EAAAA,IAEM,MAFN4Z,GAAgC,8BAEhC,GA1DJxY,G,CAkEA,QACEU,KAAM,QACN+S,WAAY,CAAE2D,OAAMA,GACpBtU,IAAAA,GACE,MAAO,CACLmV,YAAa,KACbQ,iBAAkB,KAClB1Z,YAAY,EACZC,aAAa,EACbuE,cAAe,CAAC,EAEpB,EACAI,OAAAA,GAEMC,OAAOC,UAAYD,OAAOC,SAASC,SACrCC,KAAKhF,YAAa,EAClBgF,KAAKC,oBACLD,KAAKE,0BACLL,OAAOC,SAASC,OAAOI,SAE3B,EACAV,SAAU,KACLC,EAAAA,EAAAA,IAAW,CAAC,WAAY,iBAC3BkU,KAAAA,GAEE,OAAO5T,KAAKmN,SAASrK,KAAIsK,IAAG,IACvBA,EACHd,KAAMc,EAAKd,KAAKpD,QAAQ,OAAQ,UAEpC,EACA2K,WAAAA,GACE,MAAO,IAAI7T,KAAK4T,OAAOe,MAAK,CAACC,EAAGC,KAC9B,MAAMC,EAAQ,IAAI7V,KAAK2V,EAAEnW,MACnBsW,EAAQ,IAAI9V,KAAK4V,EAAEpW,MACzB,OAAOsW,EAAQD,GAASF,EAAEtI,KAAK0I,cAAcH,EAAEvI,KAAK,GAExD,GAEFlM,QAAS,KACJC,EAAAA,EAAAA,IAAW,CAAC,aAAc,eAC7BJ,iBAAAA,GACE,MAAMF,EAASF,OAAOC,SAASC,OAC/BC,KAAKR,cAAgBO,EAAOO,aAAe,CAAC,EAC5CN,KAAK/E,YAAqC,SAAvB8E,EAAOQ,YAC1BP,KAAKQ,qBACLT,EAAOU,QAAQ,eAAgBT,KAAKQ,mBACtC,EACAA,kBAAAA,GACE,MAAMT,EAASF,OAAOC,SAASC,OAC/BC,KAAK/E,YAAqC,SAAvB8E,EAAOQ,YAC1BG,SAASC,gBAAgBC,MAAMC,YAAY,gBAAiBb,KAAKR,cAAcsB,WAAad,KAAK/E,YAAc,UAAY,YAC3HyF,SAASC,gBAAgBC,MAAMC,YAAY,kBAAmBb,KAAKR,cAAcuB,aAAef,KAAK/E,YAAc,UAAY,YAC/HyF,SAASC,gBAAgBC,MAAMC,YAAY,oBAAqBb,KAAKR,cAAcwB,cAAgB,WACnGN,SAASC,gBAAgBC,MAAMC,YAAY,yBAA0Bb,KAAKR,cAAcyB,mBAAqB,WAC7GP,SAASC,gBAAgBC,MAAMC,YAAY,kBAAmBb,KAAKR,cAAc0B,aAAelB,KAAK/E,YAAc,UAAY,YAC/HyF,SAASC,gBAAgBC,MAAMC,YAAY,kBAAmBb,KAAKR,cAAc2B,YAAc,WAC/FT,SAASC,gBAAgBC,MAAMC,YAAY,0BAA2Bb,KAAKR,cAAc4B,qBAAuBpB,KAAK/E,YAAc,UAAY,WACjJ,EACAiF,uBAAAA,GACE,MAAMH,EAASF,OAAOC,SAASC,OAC/BA,EAAOuB,WAAWC,OAClBxB,EAAOuB,WAAW/D,SAAQ,KACxBwC,EAAOyB,OAAO,GAElB,EACAuS,UAAAA,CAAWkB,GACT,MAAMxW,EAAO,IAAIQ,KAAKgW,GAChBpX,EAAO,CAAC,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,MAC5CqX,EAAUrX,EAAKY,EAAKS,UACpBiW,EAAgB1W,EAAK2W,mBAAmB,QAAS,CACrDtX,IAAK,UACLoE,MAAO,OACPmT,KAAM,YAER,MAAO,GAAGH,MAAYC,GACxB,EACAnB,YAAAA,CAAa5G,GACXpN,KAAKkU,YAAc,IAAK9G,GACxBpN,KAAK+H,WAAU,KACb,MAAMuN,EAAWtV,KAAKqL,IAAIkK,cAAc,kBAAkBnI,EAAKqB,iBAC3D6G,GACFA,EAASrN,OACX,GAEJ,EACAqM,aAAAA,GACEtU,KAAKkU,YAAc,IACrB,EACA,cAAMK,GACAvU,KAAKkU,cAEHlU,KAAKkU,YAAYC,SAA+C,uBAApCnU,KAAKkU,YAAYC,QAAQ/L,SACvDpI,KAAKkU,YAAYC,QAAU,sCAGvBnU,KAAKwV,WAAWxV,KAAKkU,aAC3BlU,KAAKkU,YAAc,KAEvB,EACAuB,mBAAAA,GACMzV,KAAK0U,mBACPgB,aAAa1V,KAAK0U,kBAClB1U,KAAK0U,iBAAmB,KAE5B,GAEFiB,aAAAA,GACE3V,KAAKyV,qBACP,GCvKF,MAAM,IAA2B,OAAgB,GAAQ,CAAC,CAAC,SAAS,IAAQ,CAAC,YAAY,qBAEzF,U,UCRU7a,MAAM,U,2CAAdC,EAAAA,EAAAA,IA2CS,SA3CToB,GA2CS,EA1CPV,EAAAA,EAAAA,IAqBM,OApBFX,OAHRE,EAAAA,EAAAA,IAAA,CAGc,eAAc,cACkB,aAAd+J,EAAA+Q,aACvBrY,QAAKC,EAAA,KAAAA,EAAA,GAAAU,GAAEvC,EAAAka,UAAU,c,cAL1BxE,EAAAA,EAAAA,IAAA,m6NAyBI9V,EAAAA,EAAAA,IASM,OARFX,OA1BRE,EAAAA,EAAAA,IAAA,CA0Bc,eAAc,cACkB,UAAd+J,EAAA+Q,aACvBrY,QAAKC,EAAA,KAAAA,EAAA,GAAAU,GAAEvC,EAAAka,UAAU,W,cAEpBta,EAAAA,EAAAA,IAGM,OAHD2B,MAAM,KAAKC,OAAO,KAAKC,QAAQ,YAAYC,KAAK,OAAOC,MAAM,8B,EAChE/B,EAAAA,EAAAA,IAAugB,QAAjgBoC,EAAE,2aAA2aoP,OAAO,UAAU,eAAa,MAAM,iBAAe,QAAQ,kBAAgB,WAC9fxR,EAAAA,EAAAA,IAAqgB,QAA/foC,EAAE,2aAA2aoP,OAAO,QAAQ,eAAa,MAAM,iBAAe,QAAQ,kBAAgB,Y,qBAKhgBxR,EAAAA,EAAAA,IAKM,OALDX,MAAM,kBAAgB,EACzBW,EAAAA,EAAAA,IAGM,OAHD2B,MAAM,KAAKC,OAAO,KAAKC,QAAQ,YAAYC,KAAK,OAAOC,MAAM,8B,EAChE/B,EAAAA,EAAAA,IAA6T,QAAvToC,EAAE,gRAAgRoP,OAAO,UAAU,eAAa,SACtTxR,EAAAA,EAAAA,IAA2T,QAArToC,EAAE,gRAAgRoP,OAAO,QAAQ,eAAa,Y,MAU5T,QACEpQ,KAAM,SACN8C,SAAU,KACLC,EAAAA,EAAAA,IAAW,CAAC,eAEjBU,QAAS,KACJC,EAAAA,EAAAA,IAAW,CAAC,iBACfwV,SAAAA,CAAUC,GACR9V,KAAK+V,aAAaD,EACpB,ICpDJ,MAAM,IAA2B,OAAgB,GAAQ,CAAC,CAAC,SAAS,IAAQ,CAAC,YAAY,qBAEzF,U,SCTA,e,IAGWlb,MAAM,S,IACJA,MAAM,gB,IAINA,MAAM,iB,GARnB,Y,GAAA,c,IAiBiBA,MAAM,gB,IACNA,MAAM,kB,IAlBvBD,IAAA,EAmBiDC,MAAM,mB,IAnBvDD,IAAA,EAuB+CC,MAAM,c,2CAtBnDO,EAAAA,EAAAA,IA4BakD,EAAAA,GAAA,CA5BD1B,KAAK,QAAM,CADzB4B,SAAAC,EAAAA,EAAAA,KAEI,IA0BM,CA1BoF7C,EAAAqa,SAAM,WAAhGnb,EAAAA,EAAAA,IA0BM,OA5BVF,IAAA,EAEUC,OAFVE,EAAAA,EAAAA,IAAA,aAE8BC,EAAAC,YAA8E,kBAAhE,aAAYD,EAAAE,YAAc,OAAS,QAA8CsC,QAAKC,EAAA,KAAAA,EAAA,IAFlIiK,EAAAA,EAAAA,KAAA,IAAAhK,IAEyI9B,EAAA+V,YAAA/V,EAAA+V,cAAAjU,IAAU,Y,EAC7IlC,EAAAA,EAAAA,IAwBM,MAxBND,GAwBM,EAvBJC,EAAAA,EAAAA,IAGM,MAHNC,GAGM,cAFJD,EAAAA,EAAAA,IAAkC,UAA9B,6BAAyB,KAC7BA,EAAAA,EAAAA,IAA8D,UAArDgC,QAAKC,EAAA,KAAAA,EAAA,OAAAC,IAAE9B,EAAA+V,YAAA/V,EAAA+V,cAAAjU,IAAY7C,MAAM,aAAY,QAEhDW,EAAAA,EAAAA,IAkBM,MAlBN6C,GAkBM,gBAjBJvD,EAAAA,EAAAA,IAaMqB,EAAAA,GAAA,MAtBhB0B,EAAAA,EAAAA,IAU+BjC,EAAAsa,eAAV1J,K,WADX1R,EAAAA,EAAAA,IAaM,OAXDF,IAAK4R,EAAOD,KACb1R,OAZdE,EAAAA,EAAAA,IAAA,CAYoB,cAAa,yBACgBa,EAAAua,iBAAiB3J,MACnDhP,QAAKW,IAAGvC,EAAAua,iBAAiB3J,IAAW5Q,EAAAwa,cAAc5J,I,EAErDhR,EAAAA,EAAAA,IAAoD,OAA/CX,MAAM,cAAcyR,UAAQE,EAAOD,M,OAhBpDxN,KAiBYvD,EAAAA,EAAAA,IAAmD,MAAnD6J,IAAmD5I,EAAAA,EAAAA,IAAtB+P,EAAOA,QAAM,IAC1ChR,EAAAA,EAAAA,IAAsD,MAAtDmR,IAAsDlQ,EAAAA,EAAAA,IAAvB+P,EAAOzE,SAAO,GAClCnM,EAAAua,iBAAiB3J,KAAM,WAAlC1R,EAAAA,EAAAA,IAEM,MAFN8W,GAA6D,6BAnBzE3M,EAAAA,EAAAA,IAAA,WAAArG,O,MAuB4C,IAAzBhD,EAAAsa,cAAcrQ,SAAM,WAA7B/K,EAAAA,EAAAA,IAEI,IAFJgX,GAAwD,gDAvBlE7M,EAAAA,EAAAA,IAAA,eAAA/I,MAAA+I,EAAAA,EAAAA,IAAA,UAAAtG,EAAA,G,CAmCA,QACE/B,KAAM,eACNoC,IAAAA,GACE,MAAO,CACL/D,YAAY,EACZC,aAAa,EACbuE,cAAe,CAAC,EAEpB,EACAC,SAAU,KACLC,EAAAA,EAAAA,IAAW,CAAC,qBAAsB,mBAAoB,WAAY,cAAe,sBAAuB,qBAC3GsW,MAAAA,GACE,OAAOhW,KAAKoW,kBACd,EACA9W,YAAAA,GACE,OAAOU,KAAKiN,aAAanL,cAAcoL,cAAczH,MAAM,KAAK,KAAM,IAAIxG,MAAOiO,cAAczH,MAAM,KAAK,EAC5G,EACAwQ,aAAAA,GAEE,OAAOjW,KAAK8P,oBAAoB9P,KAAKuE,mBAAqB,EAC5D,GAEFnE,QAAS,KACJC,EAAAA,EAAAA,IAAW,CAAC,oBAAqB,YACpCJ,iBAAAA,GACE,MAAMF,EAASF,OAAOC,SAASC,OAC/BC,KAAKR,cAAgBO,EAAOO,aAAe,CAAC,EAC5CN,KAAK/E,YAAqC,SAAvB8E,EAAOQ,YAC1BP,KAAKQ,qBACLT,EAAOU,QAAQ,eAAgBT,KAAKQ,mBACtC,EACAA,kBAAAA,GACE,MAAMT,EAASF,OAAOC,SAASC,OAC/BC,KAAK/E,YAAqC,SAAvB8E,EAAOQ,YAC1BG,SAASC,gBAAgBC,MAAMC,YAAY,gBAAiBb,KAAKR,cAAcsB,WAAad,KAAK/E,YAAc,UAAY,YAC3HyF,SAASC,gBAAgBC,MAAMC,YAAY,kBAAmBb,KAAKR,cAAcuB,aAAef,KAAK/E,YAAc,UAAY,YAC/HyF,SAASC,gBAAgBC,MAAMC,YAAY,oBAAqBb,KAAKR,cAAcwB,cAAgB,WACnGN,SAASC,gBAAgBC,MAAMC,YAAY,yBAA0Bb,KAAKR,cAAcyB,mBAAqB,WAC7GP,SAASC,gBAAgBC,MAAMC,YAAY,kBAAmBb,KAAKR,cAAc0B,aAAelB,KAAK/E,YAAc,UAAY,YAC/HyF,SAASC,gBAAgBC,MAAMC,YAAY,kBAAmBb,KAAKR,cAAc2B,YAAc,WAC/FT,SAASC,gBAAgBC,MAAMC,YAAY,0BAA2Bb,KAAKR,cAAc4B,qBAAuBpB,KAAK/E,YAAc,UAAY,WACjJ,EACAiF,uBAAAA,GACE,MAAMH,EAASF,OAAOC,SAASC,OAC/BA,EAAOuB,WAAWC,OAClBxB,EAAOuB,WAAW/D,SAAQ,KACxBwC,EAAOyB,OAAO,GAElB,EACAkQ,UAAAA,GACE1R,KAAKqW,mBACP,EACAH,gBAAAA,CAAiB3J,GACf,OAAOvM,KAAKmN,SAAShD,MAAKiD,GACtBA,EAAK3O,OAASuB,KAAKV,cACnB8N,EAAKb,SAAWA,EAAOA,QACvBa,EAAKd,OAASC,EAAOD,MAE3B,EACA6J,aAAAA,CAAc5J,GACZ,MAAM+J,EAAU,CACd7H,GAAIxP,KAAKsX,MACThK,OAAQA,EAAOA,OACfD,KAAMC,EAAOD,KACbxE,QAASyE,EAAOzE,QAChB4C,KAAM6B,EAAO7B,KACbyJ,QAAS,GACT1V,KAAMuB,KAAKV,cAEbU,KAAKwW,QAAQF,GACbtW,KAAK0R,YACP,ICnGJ,MAAM,IAA2B,OAAgB,GAAQ,CAAC,CAAC,SAAS,IAAQ,CAAC,YAAY,qBAEzF,U,SCTA,e,IAES9W,MAAM,e,IAEJA,MAAM,e,IACHA,MAAM,iB,IACNA,MAAM,e,IASTA,MAAM,kB,gCAd2EiK,EAAA4R,WAAWT,SAAM,WAA3Gnb,EAAAA,EAAAA,IA8BM,OA/BRF,IAAA,EACQC,OADRE,EAAAA,EAAAA,IAAA,aAC4B+J,EAAA7J,YAAyF,wBAA3E,aAAY6J,EAAA5J,YAAc,OAAS,QAA+DsC,QAAKC,EAAA,KAAAA,EAAA,IADjJiK,EAAAA,EAAAA,KAAA,IAAAhK,IACwJ9B,EAAA+a,aAAA/a,EAAA+a,eAAAjZ,IAAW,Y,EAC/JlC,EAAAA,EAAAA,IA4BM,MA5BND,GA4BM,cA3BJC,EAAAA,EAAAA,IAAoD,MAAhDX,MAAM,gBAAe,0BAAsB,KAC/CW,EAAAA,EAAAA,IAGM,MAHNC,GAGM,EAFJD,EAAAA,EAAAA,IAA2D,OAA3D6C,IAA2D5B,EAAAA,EAAAA,IAA5Bb,EAAAgb,YAAYpK,QAAM,IACjDhR,EAAAA,EAAAA,IAAoD,OAApDoD,IAAoDnC,EAAAA,EAAAA,IAAvBb,EAAAib,eAAa,eAE5Crb,EAAAA,EAAAA,IAMY,YAdlB,sBAAAiC,EAAA,KAAAA,EAAA,GAAAU,GASmBvC,EAAAgb,YAAYxC,QAAOjW,GAC5BtD,MAAM,kBACN+L,YAAY,2BACZM,IAAI,WACH1J,QAAKC,EAAA,KAAAA,EAAA,OAAAC,IAAE9B,EAAAkb,eAAAlb,EAAAkb,iBAAApZ,K,iBAJC9B,EAAAgb,YAAYxC,YAMzB5Y,EAAAA,EAAAA,IAcM,MAdNuD,GAcM,EAbJvD,EAAAA,EAAAA,IAKS,UALAgC,QAAKC,EAAA,KAAAA,EAAA,OAAAC,IAAE9B,EAAAsY,YAAAtY,EAAAsY,cAAAxW,IAAY7C,MAAM,wB,cAChCW,EAAAA,EAAAA,IAEM,OAFD2B,MAAM,KAAKC,OAAO,KAAKC,QAAQ,YAAYC,KAAK,OAAOC,MAAM,8B,EAChE/B,EAAAA,EAAAA,IAAyF,QAAnFoC,EAAE,uBAAuBoP,OAAO,QAAQ,eAAa,MAAM,iBAAe,Y,IAlB5F9H,EAAAA,EAAAA,IAmBgB,iBAGR1J,EAAAA,EAAAA,IAKS,UALAgC,QAAKC,EAAA,KAAAA,EAAA,OAAAC,IAAE9B,EAAAmb,gBAAAnb,EAAAmb,kBAAArZ,IAAgB7C,MAAM,sB,cACpCW,EAAAA,EAAAA,IAEM,OAFD2B,MAAM,KAAKC,OAAO,KAAKC,QAAQ,YAAYC,KAAK,OAAOC,MAAM,8B,EAChE/B,EAAAA,EAAAA,IAAg2D,QAA11D,YAAU,UAAU,YAAU,UAAUoC,EAAE,kyDAAkyDN,KAAK,Y,IAxBn2D4H,EAAAA,EAAAA,IAyBgB,mBAGR1J,EAAAA,EAAAA,IAAuE,UAA9DgC,QAAKC,EAAA,KAAAA,EAAA,OAAAC,IAAE9B,EAAA4Y,UAAA5Y,EAAA4Y,YAAA9W,IAAU7C,MAAM,sBAAqB,kBAAS,GA5BtEqB,MAAA+I,EAAAA,EAAAA,IAAA,M,CAqCA,QACErI,KAAM,aACNoC,IAAAA,GACE,MAAO,CACLgY,UAAW,CACTtI,GAAI,KACJlC,OAAQ,GACRD,KAAM,GACN6H,QAAS,GACT1V,KAAM,GAGNzD,YAAY,EACZC,aAAa,EACbuE,cAAe,CAAC,GAGtB,EACAI,OAAAA,GAEMC,OAAOC,UAAYD,OAAOC,SAASC,SACrCC,KAAKhF,YAAa,EAClBgF,KAAKC,oBACLD,KAAKE,0BACLL,OAAOC,SAASC,OAAOI,SAE3B,EACAV,SAAU,KACLC,EAAAA,EAAAA,IAAW,CAAC,aAAc,gBAC7BO,iBAAAA,GACE,MAAMF,EAASF,OAAOC,SAASC,OAC/BC,KAAKR,cAAgBO,EAAOO,aAAe,CAAC,EAC5CN,KAAK/E,YAAqC,SAAvB8E,EAAOQ,YAC1BP,KAAKQ,qBACLT,EAAOU,QAAQ,eAAgBT,KAAKQ,mBACtC,EACAA,kBAAAA,GACE,MAAMT,EAASF,OAAOC,SAASC,OAC/BC,KAAK/E,YAAqC,SAAvB8E,EAAOQ,YAC1BG,SAASC,gBAAgBC,MAAMC,YAAY,gBAAiBb,KAAKR,cAAcsB,WAAad,KAAK/E,YAAc,UAAY,YAC3HyF,SAASC,gBAAgBC,MAAMC,YAAY,kBAAmBb,KAAKR,cAAcuB,aAAef,KAAK/E,YAAc,UAAY,YAC/HyF,SAASC,gBAAgBC,MAAMC,YAAY,oBAAqBb,KAAKR,cAAcwB,cAAgB,WACnGN,SAASC,gBAAgBC,MAAMC,YAAY,yBAA0Bb,KAAKR,cAAcyB,mBAAqB,WAC7GP,SAASC,gBAAgBC,MAAMC,YAAY,kBAAmBb,KAAKR,cAAc0B,aAAelB,KAAK/E,YAAc,UAAY,YAC/HyF,SAASC,gBAAgBC,MAAMC,YAAY,kBAAmBb,KAAKR,cAAc2B,YAAc,WAC/FT,SAASC,gBAAgBC,MAAMC,YAAY,0BAA2Bb,KAAKR,cAAc4B,qBAAuBpB,KAAK/E,YAAc,UAAY,WACjJ,EACAiF,uBAAAA,GACE,MAAMH,EAASF,OAAOC,SAASC,OAC/BA,EAAOuB,WAAWC,OAClBxB,EAAOuB,WAAW/D,SAAQ,KACxBwC,EAAOyB,OAAO,GAElB,EACAmV,WAAAA,GACE,MAAMvJ,EAAOpN,KAAKgX,YAAYhX,KAAKyW,WAAWQ,QAC9C,OAAO7J,GAAQpN,KAAK+W,SACtB,EACAH,aAAAA,GACE,OAAK5W,KAAK2W,YAAYrK,KACftM,KAAK2W,YAAYrK,KAAKpD,QAAQ,OAAQ,OADV,EAErC,GAEF9I,QAAS,KACJC,EAAAA,EAAAA,IAAW,CACZ,aACA,aACA,kBACA,eACA,kBAEFkU,QAAAA,GACEvU,KAAKwV,WAAWxV,KAAK2W,aACrB3W,KAAK0W,aACP,EACAA,WAAAA,GACE1W,KAAKkX,iBACP,EACAL,aAAAA,GAEE7W,KAAKgI,MAAMsN,UAAUrN,OACvB,EACA6O,cAAAA,GACE9W,KAAK+V,aAAa,SAClB/V,KAAKmX,cAAcnX,KAAK2W,YAAYlI,IACpCzO,KAAK0W,aACP,EACAzC,UAAAA,GAEEjU,KAAKkD,OAAOgB,SAAS,aAAclE,KAAK2W,YAAYlI,IACpDzO,KAAK0W,aACP,GAEFvS,MAAO,CACL,oBAAoBiT,GAEpB,IC9HJ,MAAM,IAA2B,OAAgB,GAAQ,CAAC,CAAC,SAAS,IAAQ,CAAC,YAAY,qBAEzF,U,SCTA,e,2CACIvc,EAAAA,EAAAA,IAKM,OALDD,OADTE,EAAAA,EAAAA,IAAA,CACe,YAAW,YAAuB2B,EAAAzB,cAAe,aAAYyB,EAAApB,OAAS,OAAS,S,cACxFE,EAAAA,EAAAA,IAGM,OAHDX,MAAM,sBAAoB,EAC7BW,EAAAA,EAAAA,IAAsC,OAAjCX,MAAM,wBACXW,EAAAA,EAAAA,IAA2C,OAAtCX,MAAM,mBAAkB,cAAQ,QAJ7CqB,G,CAUE,QACEU,KAAM,YACNC,MAAO,CACL5B,WAAY,CACV6B,KAAMgS,QACNtQ,SAAS,GAEXlD,OAAQ,CACNwB,KAAMgS,QACNtQ,SAAS,KCZjB,MAAM,IAA2B,OAAgB,GAAQ,CAAC,CAAC,SAAS,IAAQ,CAAC,YAAY,qBAEzF,U9BmBA,IACE5B,KAAM,MACN+S,WAAY,CACV2H,OAAM,GACNC,KAAI,GACJC,MAAK,GACLC,aAAY,GACZC,WAAU,GACVC,UAASA,IAEX3Y,IAAAA,GACE,MAAO,CACL7D,WAAW,EACXF,YAAY,EACZC,aAAa,EACbuE,cAAe,CAAC,EAEpB,EACAC,SAAU,KACLC,EAAAA,EAAAA,IAAW,CAAC,cACf9D,gBAAAA,GACE,MAA0B,aAAnBoE,KAAK4V,UAA2B,OAAS,OAClD,GAEF,aAAMhW,GAEAC,OAAOC,UAAYD,OAAOC,SAASC,SACrCC,KAAKhF,YAAa,EAClBgF,KAAKC,oBACLD,KAAKE,0BACLL,OAAOC,SAASC,OAAOI,UAIzB,MAAMwX,EAAa,IAAIC,SAAQC,GAAWxP,WAAWwP,EAAS,OAGxDC,EAAc,WAClB,MAAM9Y,EAAQ,IAAIC,KACZ8Y,EAAW,CAAC,cAAe,cAAe,UAAW,QAAS,UAAW,UAAW,WACpF1Y,EAAa,CAAC,SAAU,UAAW,QAAS,SAAU,MAAO,OAAQ,OAAQ,UAAW,WAAY,UAAW,SAAU,iBAEzHuY,QAAQI,IAAI,CAChBhY,KAAKkD,OAAOgB,SAAS,kBACrBlE,KAAKkD,OAAOgB,SAAS,qBAAqByD,OAAM,KAC9ChE,QAAQC,IAAI,8DAA8D,IAE5E5D,KAAKkD,OAAOgB,SAAS,wBAAyB,CAC5ClC,YAAa+V,EAAS/Y,EAAME,UAC5BT,KAAMO,EAAMiD,UACZC,MAAO7C,EAAWL,EAAMmD,YACxBL,aAAc9C,KAGnB,EAjBmB,SAoBd4Y,QAAQI,IAAI,CAACL,EAAYG,IAAcnQ,OAAMC,IACjDjE,QAAQiE,MAAM,mBAAoBA,EAAM,IAG1C5H,KAAK9E,WAAY,CACnB,EACAkF,QAAS,CACPH,iBAAAA,GACE,MAAMF,EAASF,OAAOC,SAASC,OAC/BC,KAAKR,cAAgBO,EAAOO,aAAe,CAAC,EAC5CN,KAAK/E,YAAqC,SAAvB8E,EAAOQ,YAC1BP,KAAKQ,qBACLT,EAAOU,QAAQ,eAAgBT,KAAKQ,mBACtC,EACAA,kBAAAA,GACE,MAAMT,EAASF,OAAOC,SAASC,OAC/BC,KAAK/E,YAAqC,SAAvB8E,EAAOQ,YAC1BG,SAASC,gBAAgBC,MAAMC,YAAY,gBAAiBb,KAAKR,cAAcsB,WAAad,KAAK/E,YAAc,UAAY,YAC3HyF,SAASC,gBAAgBC,MAAMC,YAAY,kBAAmBb,KAAKR,cAAcuB,aAAef,KAAK/E,YAAc,UAAY,YAC/HyF,SAASC,gBAAgBC,MAAMC,YAAY,oBAAqBb,KAAKR,cAAcwB,cAAgB,WACnGN,SAASC,gBAAgBC,MAAMC,YAAY,yBAA0Bb,KAAKR,cAAcyB,mBAAqB,WAC7GP,SAASC,gBAAgBC,MAAMC,YAAY,kBAAmBb,KAAKR,cAAc0B,aAAelB,KAAK/E,YAAc,UAAY,YAC/HyF,SAASC,gBAAgBC,MAAMC,YAAY,kBAAmBb,KAAKR,cAAc2B,YAAc,WAC/FT,SAASC,gBAAgBC,MAAMC,YAAY,0BAA2Bb,KAAKR,cAAc4B,qBAAuBpB,KAAK/E,YAAc,UAAY,WACjJ,EACAiF,uBAAAA,GACE,MAAMH,EAASF,OAAOC,SAASC,OAC/BA,EAAOuB,WAAWC,OAClBxB,EAAOuB,WAAW/D,SAAQ,KACxBwC,EAAOyB,OAAO,GAElB,I+B7GJ,MAAM,IAA2B,OAAgB,GAAQ,CAAC,CAAC,SAASyW,KAEpE,UCNA,MAAMC,GAAY,iBAElB,SAASC,GAAsB1Z,EAAO,IAAIQ,MAEtC,MAAMmZ,EAAc,IAAInZ,KAAKR,EAAKgE,cAAe,EAAG,GAGhDhE,EAAO2Z,GACPA,EAAYC,YAAYD,EAAY3V,cAAgB,GAIxD,MAAM6V,EAAW7Z,EAAO2Z,EAGlBG,EAAYC,KAAKC,MAAMH,EAAW,QAGxC,OAASC,EAAY,GAAK,EAAK,CACnC,CACA,QAAeG,EAAAA,EAAAA,IAAY,CACvBlV,MAAO,CACHoQ,MAAO+E,KAAKC,MAAMlX,aAAamX,QAAQ,WAAa,GACpDjD,UAAW,WACX3I,YAAa,KACb1I,iBAAkB,EAClB1G,KAAM,GACNuY,oBAAoB,EACpB0C,iBAAkB,GAClBhF,aAAc,KACd2C,WAAY,CACRT,QAAQ,EACRiB,OAAQ,MAEZ1R,kBAAmB,EACnBwL,gBAAiB,QAEjBzL,kBAAmByT,SAASrX,aAAamX,QAAQ,uBAAyB,EAC1EpV,eAAgB,KAChBtE,SAAU,CAAC,KAAM,KAAM,KAAM,KAAM,KAAM,MACzCC,aAAc,CAAC,cAAe,UAAW,QAAS,UAAW,UAAW,WACxEC,WAAY,CAAC,SAAU,UAAW,QAAS,SAAU,MAAO,OAAQ,OAAQ,UAAW,WAAY,UAAW,SAAU,WAExH2Z,UAAW,CACPC,MAAO,CAAE,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,IAC/CC,MAAO,CAAE,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,KAEnD9U,aAAc1C,aAAamX,QAAQ,iBAAmB,KACtDxU,eAAgB,KAChBC,YAAa,KACbkJ,WAAY,QAEZ3D,UAAW,GACXT,YAAa,GACbU,SAAU,GACVqP,UAAW,IAIfC,UAAW,CACPC,6BAAAA,CAA8B7V,GAAO,OAAEK,EAAM,WAAEyV,IAC3C9V,EAAM+B,kBAAoB1B,EAC1BL,EAAM8B,kBAAoBgU,EAC1B9V,EAAMuN,gBAAkB,OAAOuI,GACnC,EACAC,gBAAAA,CAAiB/V,GAGbA,EAAM8B,kBAAoB,EAC1B9B,EAAMuN,gBAAkB,QACxBrP,aAAa8X,QAAQ,oBAAqB,IAC9C,EACAC,mBAAAA,CAAoBjW,EAAOkW,GACvBlW,EAAMa,eAAiBqV,EAAQrP,cAAgBqP,EAC/ClW,EAAMgK,WAAa,SACvB,EACAmM,YAAAA,CAAanW,GACTA,EAAMY,aAAe,KACrBZ,EAAMa,eAAiB,KACvBb,EAAMc,YAAc,IACxB,EACAsV,QAAAA,CAASpW,EAAO4J,GACZ5J,EAAMoQ,MAAMZ,KAAK5F,GACjB1L,aAAa8X,QAAQ,QAASb,KAAKkB,UAAUrW,EAAMoQ,OACvD,EACAkG,WAAAA,CAAYtW,EAAOuW,GACf,MAAMhc,EAAQyF,EAAMoQ,MAAMtQ,WAAU0W,GAAKA,EAAEvL,KAAOsL,EAAYtL,MAC/C,IAAX1Q,IACAyF,EAAMoQ,MAAMqG,OAAOlc,EAAO,EAAGgc,GAC7BrY,aAAa8X,QAAQ,QAASb,KAAKkB,UAAUrW,EAAMoQ,QAE3D,EACAsG,WAAAA,CAAY1W,EAAOyT,GACfzT,EAAMoQ,MAAQpQ,EAAMoQ,MAAMtK,QAAO8D,GAAQA,EAAKqB,KAAOwI,IACrDvV,aAAa8X,QAAQ,QAASb,KAAKkB,UAAUrW,EAAMoQ,OACvD,EACAuG,cAAAA,CAAe3W,EAAOsS,GAClBtS,EAAMoS,UAAYE,CACtB,EACAsE,gBAAAA,CAAiB5W,EAAO1F,GACpB0F,EAAMyJ,YAAcnP,EAChBA,QAAwB2G,IAAjB3G,EAAIsE,WACXoB,EAAMe,iBAAmBzG,EAAIsE,SAErC,EACAiY,kBAAAA,CAAmB7W,EAAO8W,GACtB9W,EAAM4S,mBAAqBkE,CAC/B,EACAC,qBAAAA,CAAsB/W,EAAOsP,GACzBtP,EAAMsV,iBAAmBhG,CAC7B,EACA0H,eAAAA,CAAgBhX,EAAOyT,GACnBzT,EAAMsQ,aAAemD,CACzB,EAEAwD,gBAAAA,CAAiBjX,EAAOkW,GACpBlW,EAAMiT,WAAWT,QAAS,EAC1BxS,EAAMiT,WAAWQ,OAASyC,EAAQzC,MACtC,EACAyD,iBAAAA,CAAkBlX,GACdA,EAAMiT,WAAWT,QAAS,EAC1BxS,EAAMiT,WAAWQ,OAAS,IAC9B,EACA0D,eAAAA,CAAgBnX,EAAOK,GACnBL,EAAM+B,kBAAoB1B,CAC9B,EACA+W,QAAAA,CAASpX,EAAO3F,GACZ2F,EAAM3F,KAAOA,CACjB,EACAgd,sBAAAA,CAAuBrX,EAAOzF,GAC1ByF,EAAMe,iBAAmBxG,CAC7B,EACA+c,sBAAAA,CAAuBtX,GAAO,SAAEpB,EAAQ,SAAE2Y,IACtCvX,EAAMwX,iBAAiB5Y,GAAY2Y,CACvC,EACAE,qBAAAA,CAAsBzX,EAAOO,GACzBP,EAAMuN,gBAAkBhN,CAC5B,EACAmX,uBAAAA,CAAwB1X,EAAO2X,GAC3B3X,EAAM8B,kBAAoB6V,EAC1BzZ,aAAa8X,QAAQ,oBAAqB2B,EAAOnY,WACrD,EACAoY,oBAAAA,CAAqB5X,EAAO2X,GACxB3X,EAAMC,eAAiB0X,CAC3B,EACAE,iBAAAA,CAAkB7X,GAAO,SAAEO,EAAQ,SAAE3B,EAAQ,SAAE2Y,IAC3CvX,EAAMwV,UAAUjV,GAAU3B,GAAY2Y,CAC1C,EACAO,WAAAA,CAAY9X,EAAOtI,GACfsI,EAAMtI,UAAYA,CACtB,EACAqgB,SAAAA,CAAU/X,EAAOoE,GACbpE,EAAMoE,MAAQA,CAClB,EACA4T,iBAAAA,CAAkBhY,EAAO+E,GACrB/E,EAAMY,aAAemE,EACrB/E,EAAMgK,WAAa,QACnB9L,aAAa8X,QAAQ,eAAgBjR,EACzC,EAKAkR,mBAAAA,CAAoBjW,EAAOkW,GAEA,kBAAZA,GACTlW,EAAMa,eAAiBqV,EAAQrP,aAC/B7G,EAAMiY,gBAAkB/B,EAAQjR,QAEhCjF,EAAMa,eAAiBqV,EACvBlW,EAAMiY,gBAAkB/B,EAAQxQ,QAAQ,KAAM,MAEhD1F,EAAMgK,WAAa,SACrB,EACFkO,gBAAAA,CAAiBlY,EAAOkH,GACpBlH,EAAMc,YAAcoG,EACpBlH,EAAMgK,WAAa,MACvB,EACAmO,cAAAA,CAAenY,GACXA,EAAMwV,UAAY,CACdC,MAAO,CAAE,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,IAC/CC,MAAO,CAAE,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,IAEvD,EACA0C,kBAAAA,CAAmBpY,EAAOzE,GACtByE,EAAMqG,UAAY9K,EAAK0O,QAAU,GACjCjK,EAAM4F,YAAcrK,EAAKuO,UAAY,GACrC9J,EAAMsG,SAAW/K,EAAK8c,OAAS,EACnC,EACAC,cAAAA,CAAetY,EAAOoQ,GAClBpQ,EAAM2V,UAAYvF,GAAS,EAC/B,GAMJmI,QAAS,CACLvF,OAAAA,EAAQ,OAAErT,GAAUiK,GAChBjK,EAAO,WAAYiK,EACvB,EACAoI,UAAAA,EAAW,OAAErS,GAAUiK,GACnBjK,EAAO,cAAeiK,EAC1B,EACA6G,UAAAA,EAAW,OAAE9Q,GAAU8T,GACnB9T,EAAO,cAAe8T,EAC1B,EACAlB,YAAAA,EAAa,OAAE5S,GAAU2S,GACrB3S,EAAO,iBAAkB2S,EAC7B,EACA/T,cAAAA,EAAe,OAAEoB,GAAUrF,GACvBqF,EAAO,mBAAoBrF,EAC/B,EACAqZ,aAAAA,EAAc,OAAEhU,GAAU8T,GACtB9T,EAAO,kBAAmB8T,GAGtBA,GACA5O,YAAW,KACPlF,EAAO,kBAAmB,KAAK,GAChC,IAEX,EACAmO,gBAAAA,EAAiB,OAAEnO,IACfA,EAAO,sBAAsB,EACjC,EACAkT,iBAAAA,EAAkB,OAAElT,IAChBA,EAAO,sBAAsB,EACjC,EACAsN,sBAAAA,EAAuB,OAAEtN,GAAU2P,GAC/B3P,EAAO,wBAAyB2P,EACpC,EAEAkJ,cAAAA,EAAe,OAAE7Y,GAAU8T,GACvB9T,EAAO,mBAAoB,CAAE8T,UACjC,EACAC,eAAAA,EAAgB,OAAE/T,IACdA,EAAO,oBACX,EACAvB,UAAAA,EAAW,OAAEuB,EAAM,MAAEK,IACjB,MAAMxE,EAAQ,IAAIC,KACZ0D,EAAY,IAAI1D,KAAKD,GAC3B2D,EAAUD,QAAQ1D,EAAMiD,UAAsC,EAA1BuB,EAAM+B,mBAE1C,MAAM3C,EAAiC,IAAvBD,EAAUzD,SAAiB,EAAIyD,EAAUzD,SAAW,EACpEyD,EAAUD,QAAQC,EAAUV,UAAYW,GAExC,MAAM/E,EAAO2F,EAAMrE,SAAS2D,KAAI,CAAChF,EAAKC,KAClC,MAAMU,EAAO,IAAIQ,KAAK0D,GACtBlE,EAAKiE,QAAQC,EAAUV,UAAYlE,GAEnC,MAAME,EAAeQ,EAAKwd,iBAAmBjd,EAAMid,eAEnD,MAAO,CACHxd,KAAMA,EAAKwD,UAAUe,WAAWC,SAAS,EAAG,KAC5CrE,QAASd,EACToE,MAAOsB,EAAMnE,WAAWZ,EAAK0D,YAC7B+Z,SAAUzd,EACVR,eACH,IAML,GAHAkF,EAAO,WAAYtF,GAGY,OAA3B2F,EAAMe,kBAAyD,IAA5Bf,EAAM+B,kBAAyB,CAClE,MAAM5F,EAAkB9B,EAAKyF,WAAUxF,GAAOA,EAAIG,gBACzB,IAArB0B,GACAwD,EAAO,yBAA0BxD,EAEzC,CACJ,EACAwc,UAAAA,EAAW,OAAEhZ,EAAM,SAAEe,EAAQ,MAAEV,GAASK,GAEpC,MAAMN,EAAWC,EAAMC,gBAAkB,EACzC,IAAIC,EAAgBH,EACL,IAAXM,IACAH,GAAiBH,EAAWM,GAAU,EACtCH,EAAkC,IAAlBA,EAAsB,EAAIA,GAG9CP,EAAO,gCAAiC,CACpCU,SACAyV,WAAY5V,IAGhBQ,EAAS,aACb,EAEA7B,gBAAAA,EAAiB,OAAEc,EAAM,MAAEK,GAASK,GAChC,MAAMN,EAAWC,EAAMC,gBAAkB,EAGnCC,IAAkBH,EAAW,EAAIM,GAAU,EAAI,GAAK,EAAI,EAC9DV,EAAO,0BAA2BO,EACtC,EAEA0Y,SAAAA,EAAU,OAAEjZ,EAAM,MAAEK,GAASzF,GACzBoF,EAAO,yBAA0BpF,GACjC,MAAMD,EAAM0F,EAAM3F,KAAKE,GACvBoF,EAAO,mBAAoB,CACvBnB,YAAawB,EAAMpE,aAAarB,GAChCU,KAAMX,EAAIW,KACVyD,MAAOpE,EAAIoE,MACXJ,aAAchE,EAAIoe,UAE1B,EACAG,WAAAA,EAAY,OAAElZ,EAAM,MAAEK,EAAK,SAAEU,GAAYiH,GACrC,GAA+B,OAA3B3H,EAAMe,mBAA8Bf,EAAM3F,KAAK+H,OAAQ,OAE3D,MAAMpB,EAAWhB,EAAMe,iBAAmB4G,EAC1C,GAAI3G,GAAY,GAAKA,EAAWhB,EAAM3F,KAAK+H,OACvC1B,EAAS,YAAaM,OACnB,CAEH,MAAM8X,EAAY9Y,EAAM+B,mBAAqB4F,EAAY,EAAI,GAAK,GAC9DmR,IAAc,GAAKA,GAAa,GAChCpY,EAAS,aAAcoY,GAAWC,MAAK,KACnC,MAAMC,EAAcrR,EAAY,EAAI,EAAI3H,EAAM3F,KAAK+H,OAAS,EAC5D1B,EAAS,YAAasY,EAAY,GAG9C,CACJ,EACAC,sBAAAA,EAAuB,OAAEtZ,IAAU,SAAEf,EAAQ,SAAE2Y,IAC3C5X,EAAO,yBAA0B,CAAEf,WAAU2Y,YACjD,EASA,oBAAM2B,EAAe,OAAEvZ,EAAM,SAAEe,IAAY,KAAErH,EAAI,MAAE4L,IAC/C,IAKI,OAJAtF,EAAO,eAAe,GACtBA,EAAO,kBACPA,EAAO,gBAECtG,GACJ,IAAK,QACDsG,EAAO,oBAAqBsF,GAC5B,MACJ,IAAK,UACDtF,EAAO,sBAAuBsF,GAC9B,MACJ,IAAK,OACDtF,EAAO,mBAAoBsF,GAC3B,YAGFvE,EAAS,wBACnB,CAAE,MAAO0D,GACLzE,EAAO,YAAayE,EAAM+U,SAC1BhZ,QAAQiE,MAAM,iBAAkBA,EACpC,CAAE,QACEzE,EAAO,eAAe,EAC1B,CACJ,EAEA,2BAAMgQ,EAAsB,OAAEhQ,EAAM,MAAEK,EAAK,SAAEU,IACzC,IAOI,IAAI0Y,EAAUnU,EAEd,OARAtF,EAAO,eAAe,GAEjBK,EAAMC,gBACPN,EAAO,kBAKHK,EAAMgK,YACV,IAAK,QACD,IAAKhK,EAAMY,aAAc,OACzBwY,EAAW,SACXnU,EAAQoU,mBAAmBrZ,EAAMY,cACjC,MACJ,IAAK,UACD,IAAKZ,EAAMa,eAAgB,OAC3BuY,EAAW,WACXnU,EAAQoU,mBAAmBrZ,EAAMa,gBACjC,MACJ,IAAK,OACD,IAAKb,EAAMc,YAAa,OACxBsY,EAAW,QACXnU,EAAQoU,mBAAmBrZ,EAAMc,aACjC,MACJ,QACI,OAGR,MAAMwY,QAAiBC,MAAM,UAAU7E,UAAiB0E,KAAYnU,KACpE,IAAKqU,EAASE,GAAI,MAAM,IAAIC,MAAM,8BAElC,MAAMC,QAAqBJ,EAASK,OAGpC,GAFAxZ,QAAQC,IAAI,8BAA+BsZ,IAEtC1Z,EAAMC,eAAgB,CACvB,MAAM2Z,EAAiBjF,KACvBxU,QAAQC,IAAI,qCAAsCwZ,GAElD,MAAMC,EAAa,IAAI,IAAIxP,IAAIqP,EAAapK,QAAQhQ,KAAIwa,GAAKA,EAAEC,eAC/D5Z,QAAQC,IAAI,gBAAiByZ,GAE7B,MAAM9Z,EAAW8Z,EAAWvU,SAASsU,GAAkBA,EACnDC,EAAWvU,SAAS,GAAK,EAAI,EAEjCnF,QAAQC,IAAI,8BAA+BL,GAC3CJ,EAAO,uBAAwBI,GAC/BJ,EAAO,0BAA2BI,GAClCJ,EAAO,wBAAyB,OAAOI,IAC3C,OAGMW,EAAS,sBAAuB,CAAEgZ,eAAc1P,WAAYhK,EAAMgK,YAE5E,CAAE,MAAO5F,GACLjE,QAAQiE,MAAM,8BAA+BA,GAC7CzE,EAAO,YAAayE,EAAM+U,QAC9B,CAAE,QACExZ,EAAO,eAAe,EAC1B,CACJ,EAEA,yBAAMqa,EAAoB,OAAEra,IAAU,aAAE+Z,EAAY,WAAE1P,IAClD,MAAMiQ,EAAoBtC,IACtB,MAAMuC,EAAQ,CACV,EAAG,iBACH,EAAG,iBACH,EAAG,iBACH,EAAG,iBACH,EAAG,iBACH,EAAG,iBACH,GAAI,iBACJ,GAAI,iBACJ,GAAI,iBACJ,GAAI,iBACJ,GAAI,iBACJ,GAAI,kBAER,OAAOA,EAAMvC,IAAW,EAAE,EAGxBwC,EAAkB,CACpB1E,MAAO,CAAE,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,IAC/CC,MAAO,CAAE,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,KAGnDgE,EAAapK,QAAQpO,SAAQ6H,IACzB,MAAMxI,EAAW,OAAOwI,EAAOgR,aACzBnb,EAAWmK,EAAOqR,UAAY,EACpC,IAAIC,EAA2B,IAArBtR,EAAOqR,UAAkBrR,EAAO4O,OAAS,GAAK5O,EAAO4O,OAE/D,MAAM2C,EAAoB,CACtBxR,KAAMmR,EAAiBI,GACvBhhB,KAAM0P,EAAO1P,KACb0P,OAAQA,EAAO5P,KACf2c,WAAY/M,EAAOgR,YAGvB,OAAQ/P,GACJ,IAAK,QACDsQ,EAAkBxQ,SAAWf,EAAOmB,SAAW,GAC/C,MACJ,IAAK,UACDoQ,EAAkBpT,KAAO6B,EAAO7B,MAAQ,GACxCoT,EAAkBpQ,QAAUnB,EAAOmB,SAAW,GAC9C,MACJ,IAAK,OACDoQ,EAAkBpQ,QAAUnB,EAAOmB,SAAS5K,KAAInF,IAAK,CACjDhB,KAAMgB,EAAEhB,KACR8Q,OAAQ9P,EAAE8P,QAAU,QACjB,GACP,MAGRkQ,EAAgB5Z,GAAU3B,GAAU4Q,KAAK8K,EAAkB,IAG/D,IAAK,MAAM/Z,IAAY,CAAC,QAAS,SAC7B,IAAK,IAAI3B,EAAW,EAAGA,EAAW,EAAGA,IACjCe,EAAO,oBAAqB,CACxBY,WACA3B,WACA2Y,SAAU4C,EAAgB5Z,GAAU3B,IAAa,IAIjE,EAIA,uBAAM2b,EAAkB,OAAE5a,IACtB,IAEE,MAAM6a,EAAW,CACfvP,GAAI,OACJwP,UAAW,OACXC,SAAU,gBAINpB,QAAiBC,MAAM,UAAU7E,eAAuB,CAC5DiG,OAAQ,OACRC,QAAS,CACP,eAAgB,oBAElBC,KAAM1F,KAAKkB,UAAUmE,KAGvB,IAAKlB,EAASE,GAAI,CAChB,MAAMsB,QAAkBxB,EAASK,OAAOxV,OAAM,KAAM,CAAG,KACvD,MAAM,IAAIsV,MAAMqB,EAAU3B,SAAW,0BACvC,CAEA,MAAM5d,QAAa+d,EAASK,OAGtBoB,EAAexf,EAAKyf,MAAQzf,EAElC,IAAKwf,EACH,MAAM,IAAItB,MAAM,qCAkBlB,OAdAtZ,QAAQC,IAAI,iBAAkB7E,GAC9B4E,QAAQC,IAAI,cAAe2a,EAAa9Q,QAAU8Q,EAAaxf,MAAM0O,QACrE9J,QAAQC,IAAI,qBAAsB2a,EAAajR,UAAYiR,EAAaxf,MAAMuO,UAC9E3J,QAAQC,IAAI,iBAAkB2a,EAAa1C,OAAS0C,EAAaxf,MAAM8c,OAGvE1Y,EAAO,qBAAsB,CAC3BsK,OAAQ8Q,EAAa9Q,QAAU8Q,EAAaxf,MAAM0O,QAAU,GAC5DH,SAAUiR,EAAajR,UAAYiR,EAAaxf,MAAMuO,UAAY,GAClEuO,MAAO0C,EAAa1C,OAAS0C,EAAaxf,MAAM8c,OAAS,KAG3D1Y,EAAO,iBAAkBob,EAAa3K,OAAS,IAExC2K,CACT,CAAE,MAAO3W,GAIP,MAHAjE,QAAQiE,MAAM,+BAAgCA,EAAM+U,SAEpDxZ,EAAO,YAAayE,EAAM+U,SACpB/U,CACR,CACF,EAMF6W,kBAAAA,EAAmB,OAAEtb,GAAUY,GAC3BZ,EAAO,wBAAyBY,EACpC,EACA2a,kBAAAA,EAAmB,OAAEvb,IAAU,SAAEY,EAAQ,SAAE3B,EAAQ,SAAE2Y,IACjD5X,EAAO,oBAAqB,CAAEY,WAAU3B,WAAU2Y,YACtD,EACA4D,gBAAAA,EAAiB,OAAExb,GAAUU,GACzBV,EAAO,kBAAmBU,EAC9B,EACA+a,cAAAA,EAAe,OAAEzb,IACbA,EAAO,mBACX,GAIJa,QAAS,CACLmJ,SAAU3J,GAASA,EAAMoQ,MACzBgC,UAAWpS,GAASA,EAAMoS,UAC1B3I,YAAazJ,GAASA,EAAMyJ,YAC5BmJ,mBAAoB5S,GAASA,EAAM4S,mBACnC0C,iBAAkBtV,GAASA,EAAMsV,iBAAiBxP,QAAOiD,GAAUA,EAAOA,SAC1EuH,aAActQ,GAASA,EAAMsQ,aAE7B2C,WAAYjT,GAASA,EAAMiT,WAE3BO,YAAaxT,GAASiL,GAAMjL,EAAMoQ,MAAMvQ,MAAK+J,GAAQA,EAAKqB,KAAOA,IACjE5Q,KAAM2F,GAASA,EAAM3F,KAAKiF,KAAI,CAAChF,EAAKC,KAAU,IACvCD,EACHkE,YAAawB,EAAMpE,aAAarB,GAChCmE,MAAOsB,EAAMnE,WAAW,IAAIJ,KAAKnB,EAAIgE,cAAcK,gBAEvDoD,kBAAmB/B,GAASA,EAAM+B,kBAClChB,iBAAkBf,GAASA,EAAMe,iBACjCsa,gBAAiBrb,GAASA,EAAM+B,mBAAqB,EACrDuZ,gBAAiBtb,GAASA,EAAM+B,kBAAoB,EACpDwL,gBAAiBvN,GAASA,EAAMuN,gBAChCjB,oBAAqBA,CAACtM,EAAOQ,IAAYR,EAAMwV,UAAUhV,EAAQ+M,kBAAoB,CAAC,EACtFzL,kBAAmB9B,GAASA,EAAM8B,kBAClClB,aAAcZ,GAASA,EAAMY,aAC7BoJ,WAAYhK,GAASA,EAAMgK,WAC3BnJ,eAAgBb,GAASA,EAAMa,eAC/BC,YAAad,GAASA,EAAMc,YAC5Bb,eAAgBD,GAASA,EAAMC,eAC/BQ,oBAAsBT,GAAWK,IAE7B,MAAMkb,EAAiBvG,KAAKwG,IAAInb,GAChC,OAAOkb,EAAiB,IAAM,EAAI,QAAU,OAAO,EAEvD1f,WAAYmE,GAASA,EAAMnE,WAC3B2b,iBAAkBA,CAACxX,EAAOQ,IAAYA,EAAQ8L,oBAE9CjG,UAAWrG,GAASA,EAAMqG,UAC1BT,YAAa5F,GAASA,EAAM4F,YAC5BU,SAAUtG,GAASA,EAAMsG,SACzBqP,UAAW3V,GAASA,EAAM2V,aC9lBlC,MAAM8F,IAAMC,EAAAA,EAAAA,IAAUC,IAGtBF,GAAIG,OAAOC,iBAAiBC,IAAMzf,OAAOC,UAAUC,OAGnD,MAAMS,GAAqBA,KACzB,MAAM+e,EAAK1f,OAAOC,UAAUC,OAC5B,IAAKwf,EAAI,OAET,MAAMC,EAAQD,EAAGjf,aAAe,CAAC,EAC3Bmf,EAAO/e,SAASC,gBAGtB8e,EAAK7e,MAAMC,YAAY,gBAAiB2e,EAAM1e,UAAY,WAC1D2e,EAAK7e,MAAMC,YAAY,kBAAmB2e,EAAMze,YAAc,WAC9D0e,EAAK7e,MAAMC,YAAY,oBAAqB2e,EAAMxe,cAAgB,WAClEye,EAAK7e,MAAMC,YAAY,yBAA0B2e,EAAMve,mBAAqB,WAGrD,SAAnBse,EAAGhf,YACLG,SAAS2d,KAAKqB,UAAU1R,IAAI,WAE5BtN,SAAS2d,KAAKqB,UAAUC,OAAO,UACjC,EAIFnf,KAGAX,OAAOC,UAAUC,QAAQU,QAAQ,eAAgBD,IAEjDye,GAAIW,IAAIC,IACRZ,GAAIa,MAAM,O,GCrCNC,EAA2B,CAAC,EAGhC,SAASC,EAAoBC,GAE5B,IAAIC,EAAeH,EAAyBE,GAC5C,QAAqBxb,IAAjByb,EACH,OAAOA,EAAaC,QAGrB,IAAIC,EAASL,EAAyBE,GAAY,CAGjDE,QAAS,CAAC,GAOX,OAHAE,EAAoBJ,GAAUK,KAAKF,EAAOD,QAASC,EAAQA,EAAOD,QAASH,GAGpEI,EAAOD,OACf,CAGAH,EAAoBO,EAAIF,E,WCzBxB,IAAIG,EAAW,GACfR,EAAoBS,EAAI,SAAShX,EAAQiX,EAAUC,EAAIC,GACtD,IAAGF,EAAH,CAMA,IAAIG,EAAeC,IACnB,IAASnc,EAAI,EAAGA,EAAI6b,EAAS5a,OAAQjB,IAAK,CACrC+b,EAAWF,EAAS7b,GAAG,GACvBgc,EAAKH,EAAS7b,GAAG,GACjBic,EAAWJ,EAAS7b,GAAG,GAE3B,IAJA,IAGIoc,GAAY,EACPC,EAAI,EAAGA,EAAIN,EAAS9a,OAAQob,MACpB,EAAXJ,GAAsBC,GAAgBD,IAAa5T,OAAOiU,KAAKjB,EAAoBS,GAAGS,OAAM,SAASvmB,GAAO,OAAOqlB,EAAoBS,EAAE9lB,GAAK+lB,EAASM,GAAK,IAChKN,EAASzG,OAAO+G,IAAK,IAErBD,GAAY,EACTH,EAAWC,IAAcA,EAAeD,IAG7C,GAAGG,EAAW,CACbP,EAASvG,OAAOtV,IAAK,GACrB,IAAIuL,EAAIyQ,SACElc,IAANyL,IAAiBzG,EAASyG,EAC/B,CACD,CACA,OAAOzG,CArBP,CAJCmX,EAAWA,GAAY,EACvB,IAAI,IAAIjc,EAAI6b,EAAS5a,OAAQjB,EAAI,GAAK6b,EAAS7b,EAAI,GAAG,GAAKic,EAAUjc,IAAK6b,EAAS7b,GAAK6b,EAAS7b,EAAI,GACrG6b,EAAS7b,GAAK,CAAC+b,EAAUC,EAAIC,EAwB/B,C,eC5BAZ,EAAoBhG,EAAI,SAASoG,GAChC,IAAIe,EAASf,GAAUA,EAAOgB,WAC7B,WAAa,OAAOhB,EAAO,UAAY,EACvC,WAAa,OAAOA,CAAQ,EAE7B,OADAJ,EAAoBriB,EAAEwjB,EAAQ,CAAEvM,EAAGuM,IAC5BA,CACR,C,eCNAnB,EAAoBriB,EAAI,SAASwiB,EAASkB,GACzC,IAAI,IAAI1mB,KAAO0mB,EACXrB,EAAoBsB,EAAED,EAAY1mB,KAASqlB,EAAoBsB,EAAEnB,EAASxlB,IAC5EqS,OAAOuU,eAAepB,EAASxlB,EAAK,CAAE6mB,YAAY,EAAMpS,IAAKiS,EAAW1mB,IAG3E,C,eCPAqlB,EAAoBlS,EAAI,WACvB,GAA0B,kBAAf2T,WAAyB,OAAOA,WAC3C,IACC,OAAOzhB,MAAQ,IAAI0hB,SAAS,cAAb,EAChB,CAAE,MAAOpT,GACR,GAAsB,kBAAXzO,OAAqB,OAAOA,MACxC,CACA,CAPuB,E,eCAxBmgB,EAAoBsB,EAAI,SAASK,EAAKC,GAAQ,OAAO5U,OAAO6U,UAAUC,eAAexB,KAAKqB,EAAKC,EAAO,C,eCKtG,IAAIG,EAAkB,CACrB,IAAK,GAaN/B,EAAoBS,EAAEO,EAAI,SAASgB,GAAW,OAAoC,IAA7BD,EAAgBC,EAAgB,EAGrF,IAAIC,EAAuB,SAASC,EAA4BnjB,GAC/D,IAKIkhB,EAAU+B,EALVtB,EAAW3hB,EAAK,GAChBojB,EAAcpjB,EAAK,GACnBqjB,EAAUrjB,EAAK,GAGI4F,EAAI,EAC3B,GAAG+b,EAASvW,MAAK,SAASsE,GAAM,OAA+B,IAAxBsT,EAAgBtT,EAAW,IAAI,CACrE,IAAIwR,KAAYkC,EACZnC,EAAoBsB,EAAEa,EAAalC,KACrCD,EAAoBO,EAAEN,GAAYkC,EAAYlC,IAGhD,GAAGmC,EAAS,IAAI3Y,EAAS2Y,EAAQpC,EAClC,CAEA,IADGkC,GAA4BA,EAA2BnjB,GACrD4F,EAAI+b,EAAS9a,OAAQjB,IACzBqd,EAAUtB,EAAS/b,GAChBqb,EAAoBsB,EAAES,EAAiBC,IAAYD,EAAgBC,IACrED,EAAgBC,GAAS,KAE1BD,EAAgBC,GAAW,EAE5B,OAAOhC,EAAoBS,EAAEhX,EAC9B,EAEI4Y,EAAqBC,KAAK,4BAA8BA,KAAK,6BAA+B,GAChGD,EAAmB3d,QAAQud,EAAqBM,KAAK,KAAM,IAC3DF,EAAmBrP,KAAOiP,EAAqBM,KAAK,KAAMF,EAAmBrP,KAAKuP,KAAKF,G,IC/CvF,IAAIG,EAAsBxC,EAAoBS,OAAEhc,EAAW,CAAC,MAAM,WAAa,OAAOub,EAAoB,KAAO,IACjHwC,EAAsBxC,EAAoBS,EAAE+B,E","sources":["webpack://sked-vue-app/./src/App.vue","webpack://sked-vue-app/./src/components/Sked/sked.vue","webpack://sked-vue-app/./src/components/header.vue","webpack://sked-vue-app/./src/components/header.vue?3f13","webpack://sked-vue-app/./src/components/Sked/Slider.vue","webpack://sked-vue-app/./src/components/Sked/Slider.vue?0e43","webpack://sked-vue-app/./src/components/Sked/GroupInfo.vue","webpack://sked-vue-app/./src/components/Sked/GroupInfo.vue?5bb3","webpack://sked-vue-app/./src/components/Sked/Search.vue","webpack://sked-vue-app/./src/components/Sked/Search.vue?8d80","webpack://sked-vue-app/./src/components/Sked/ScheduleTable.vue","webpack://sked-vue-app/./src/components/Sked/ScheduleTableContent.vue","webpack://sked-vue-app/./src/components/Sked/ScheduleTableRow.vue","webpack://sked-vue-app/./src/components/Sked/ScheduleTableRow.vue?233c","webpack://sked-vue-app/./src/components/Sked/ScheduleTableContent.vue?5fe5","webpack://sked-vue-app/./src/components/Sked/ScheduleTable.vue?062d","webpack://sked-vue-app/./src/components/UI/Buttons.vue","webpack://sked-vue-app/./src/components/FullScheduleModal.vue","webpack://sked-vue-app/./src/components/FullScheduleModal.vue?c832","webpack://sked-vue-app/./src/components/UI/Buttons.vue?4ab0","webpack://sked-vue-app/./src/components/Sked/sked.vue?a64c","webpack://sked-vue-app/./src/views/Notes.vue","webpack://sked-vue-app/./src/views/Notes.vue?2de6","webpack://sked-vue-app/./src/components/Footer.vue","webpack://sked-vue-app/./src/components/Footer.vue?7cca","webpack://sked-vue-app/./src/components/AddNoteModal.vue","webpack://sked-vue-app/./src/components/AddNoteModal.vue?dc8b","webpack://sked-vue-app/./src/components/NoteDialog.vue","webpack://sked-vue-app/./src/components/NoteDialog.vue?bb55","webpack://sked-vue-app/./src/components/Preloader.vue","webpack://sked-vue-app/./src/components/Preloader.vue?ae1f","webpack://sked-vue-app/./src/App.vue?7ccd","webpack://sked-vue-app/./src/store/index.js","webpack://sked-vue-app/./src/main.js","webpack://sked-vue-app/webpack/bootstrap","webpack://sked-vue-app/webpack/runtime/chunk loaded","webpack://sked-vue-app/webpack/runtime/compat get default export","webpack://sked-vue-app/webpack/runtime/define property getters","webpack://sked-vue-app/webpack/runtime/global","webpack://sked-vue-app/webpack/runtime/hasOwnProperty shorthand","webpack://sked-vue-app/webpack/runtime/jsonp chunk loading","webpack://sked-vue-app/webpack/startup"],"sourcesContent":["<template>\r\n  <div class=\"schedule\" :class=\"{ 'tg-theme': isTelegram }\" :data-theme=\"isDarkTheme ? 'dark' : 'light'\">\r\n    <!-- Preloader показывается до загрузки данных -->\r\n    <Preloader v-if=\"isLoading\" :isTelegram=\"isTelegram\" :isDark=\"isDarkTheme\" />\r\n\r\n    <div v-else class=\"container\">\r\n      <div class=\"grid\">\r\n        <keep-alive>\r\n          <component :is=\"currentComponent\"></component>\r\n        </keep-alive>\r\n      </div>\r\n    </div>\r\n\r\n    <AddNoteModal />\r\n    <NoteDialog />\r\n    <Footer />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters } from 'vuex'\r\nimport sked from \"@/components/Sked/sked.vue\"\r\nimport Notes from \"@/views/Notes.vue\"\r\nimport Footer from \"@/components/Footer.vue\"\r\nimport AddNoteModal from \"@/components/AddNoteModal.vue\"\r\nimport NoteDialog from \"@/components/NoteDialog.vue\"\r\nimport Preloader from \"@/components/Preloader.vue\" // Импортируем Preloader\r\n\r\nexport default {\r\n  name: 'App',\r\n  components: {\r\n    Footer,\r\n    sked,\r\n    Notes,\r\n    AddNoteModal,\r\n    NoteDialog,\r\n    Preloader\r\n  },\r\n  data() {\r\n    return {\r\n      isLoading: true, // Флаг загрузки\r\n      isTelegram: false,\r\n      isDarkTheme: false,\r\n      tgThemeParams: {}\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters(['activeTab']),\r\n    currentComponent() {\r\n      return this.activeTab === 'schedule' ? 'sked' : 'Notes'\r\n    }\r\n  },\r\n  async created() {\r\n    // Проверяем, открыто ли приложение в Telegram\r\n    if (window.Telegram && window.Telegram.WebApp) {\r\n      this.isTelegram = true;\r\n      this.initTelegramTheme();\r\n      this.setupTelegramBackButton();\r\n      window.Telegram.WebApp.expand();\r\n    }\r\n\r\n    // Фиксированная задержка 2 секунды\r\n    const fixedDelay = new Promise(resolve => setTimeout(resolve, 2000));\r\n\r\n    // Ваши текущие асинхронные операции\r\n    const dataLoading = (async () => {\r\n      const today = new Date();\r\n      const dayNames = ['Воскресенье', 'Понедельник', 'Вторник', 'Среда', 'Четверг', 'Пятница', 'Суббота'];\r\n      const monthNames = ['января', 'февраля', 'марта', 'апреля', 'мая', 'июня', 'июля', 'августа', 'сентября', 'октября', 'ноября', 'декабря'];\r\n\r\n      await Promise.all([\r\n        this.$store.dispatch('initWeekNumber'),\r\n        this.$store.dispatch('fetchAllDataLists').catch(() => {\r\n          console.log('Не удалось загрузить списки, но приложение продолжит работу');\r\n        }),\r\n        this.$store.dispatch('fetchFullWeekSchedule', {\r\n          fullDayName: dayNames[today.getDay()],\r\n          date: today.getDate(),\r\n          month: monthNames[today.getMonth()],\r\n          originalDate: today\r\n        })\r\n      ]);\r\n    })();\r\n\r\n    // Ждем либо завершения загрузки данных, либо истечения 2 секунд\r\n    await Promise.all([fixedDelay, dataLoading]).catch(error => {\r\n      console.error('Ошибка загрузки:', error);\r\n    });\r\n\r\n    this.isLoading = false;\r\n  },\r\n  methods: {\r\n    initTelegramTheme() {\r\n      const WebApp = window.Telegram.WebApp;\r\n      this.tgThemeParams = WebApp.themeParams || {};\r\n      this.isDarkTheme = WebApp.colorScheme === 'dark';\r\n      this.applyTelegramTheme();\r\n      WebApp.onEvent('themeChanged', this.applyTelegramTheme);\r\n    },\r\n    applyTelegramTheme() {\r\n      const WebApp = window.Telegram.WebApp;\r\n      this.isDarkTheme = WebApp.colorScheme === 'dark';\r\n      document.documentElement.style.setProperty('--tg-bg-color', this.tgThemeParams.bg_color || (this.isDarkTheme ? '#18222d' : '#ffffff'));\r\n      document.documentElement.style.setProperty('--tg-text-color', this.tgThemeParams.text_color || (this.isDarkTheme ? '#ffffff' : '#000000'));\r\n      document.documentElement.style.setProperty('--tg-button-color', this.tgThemeParams.button_color || '#2481cc');\r\n      document.documentElement.style.setProperty('--tg-button-text-color', this.tgThemeParams.button_text_color || '#ffffff');\r\n      document.documentElement.style.setProperty('--tg-hint-color', this.tgThemeParams.hint_color || (this.isDarkTheme ? '#aaaaaa' : '#707579'));\r\n      document.documentElement.style.setProperty('--tg-link-color', this.tgThemeParams.link_color || '#168acd');\r\n      document.documentElement.style.setProperty('--tg-secondary-bg-color', this.tgThemeParams.secondary_bg_color || (this.isDarkTheme ? '#212529' : '#f4f4f5'));\r\n    },\r\n    setupTelegramBackButton() {\r\n      const WebApp = window.Telegram.WebApp;\r\n      WebApp.BackButton.show();\r\n      WebApp.BackButton.onClick(() => {\r\n        WebApp.close();\r\n      });\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"sass\">\r\n@import \"@/assets/styles/variables.sass\"\r\n@import \"@/assets/styles/mixins.sass\"\r\n\r\n*\r\n  margin: 0\r\n  padding: 0\r\n  user-zoom: fixed\r\n  box-sizing: border-box\r\n\r\nhtml\r\n  background-color: var(--tg-bg-color)\r\n  height: 100%\r\n  @include respond(big-screen)\r\n    font-size: 82.5%\r\n  @include respond(computer)\r\n    font-size: 80%\r\n  @include respond(tab-lend)\r\n    font-size: 80%\r\n  @include respond(tab-port)\r\n    font-size: 77.5%\r\n  @include respond(phone)\r\n    font-size: 72.5%\r\n  @include respond(small-phone)\r\n    font-size: 62.5%\r\n\r\nbody\r\n  display: flex\r\n  flex-direction: column\r\n  height: 100%\r\n  font-family: 'Roboto', sans-serif\r\n  color: $color-text\r\n  margin: 0 auto\r\n  max-width: $content-max-width\r\n  background-color: $color-white\r\n  min-height: 100vh\r\n  position: relative\r\n  user-select: none\r\n  -webkit-tap-highlight-color: transparent\r\n  \r\n  // Применяем Telegram тему, если приложение открыто в Telegram\r\n  &.tg-theme\r\n    background-color: var(--tg-secondary-bg-color)\r\n    color: var(--tg-text-color)\r\n\r\n.schedule\r\n  flex: 1\r\n  display: flex\r\n  flex-direction: column\r\n\r\n.container\r\n  flex: 1\r\n  overflow-y: auto\r\n  overflow-x: hidden\r\n  width: 100%\r\n  min-height: calc(100vh - #{$footer-height})\r\n  padding: 1.5rem\r\n  position: relative\r\n  z-index: 0\r\n  // transition: all 0.3s ease\r\n  background-color: $color-white\r\n  color: $color-text\r\n  \r\n  .tg-theme &\r\n    background-color: var(--tg-secondary-bg-color)\r\n    color: var(--tg-text-color)\r\n\r\n// Анимация переключения вкладок\r\n.fade-enter-active,\r\n.fade-leave-active\r\n  transition: opacity 0.3s, transform 0.3s\r\n\r\n.fade-enter,\r\n.fade-leave-to\r\n  opacity: 0\r\n  transform: translateY(10px)\r\n\r\n// Стили для Telegram-кнопок\r\n.button-tg\r\n  +telegram-button\r\n  font-size: 1rem\r\n</style>","<template>\r\n  <Slider/>\r\n  <GroupInfo/>\r\n  <Search/>\r\n  <ScheduleTable/>\r\n  <Buttons/>\r\n\r\n</template>\r\n\r\n<script>\r\nimport Header from \"@/components/header.vue\";\r\nimport Slider from \"@/components/Sked/Slider.vue\";\r\nimport GroupInfo from \"@/components/Sked/GroupInfo.vue\";\r\nimport Search from \"@/components/Sked/Search.vue\";\r\nimport ScheduleTable from \"@/components/Sked/ScheduleTable.vue\";\r\nimport Buttons from \"@/components/UI/Buttons.vue\";\r\n\r\nexport default {\r\n  name: 'sked',\r\n  components: {Header, Buttons, ScheduleTable, Search, GroupInfo, Slider},\r\n  mounted() {\r\n    this.$store.dispatch('updateDays')\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"sass\" scoped>\r\n\r\n</style>","<template>\r\n  <header class=\"top\">\r\n    <h2 class=\"top__title\">{{ title }}</h2>\r\n  </header>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'Header',\r\n  props: {\r\n    title: {\r\n      type: String,\r\n      required: true\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"sass\" scoped>\r\n.top\r\n  margin-bottom: 2rem\r\n  &__title\r\n    font-size: 1.6rem\r\n    font-weight: 600\r\n    letter-spacing: -2%\r\n    line-height: 1.9rem\r\n    text-align: center\r\n</style>","import { render } from \"./header.vue?vue&type=template&id=36bfc327&scoped=true\"\nimport script from \"./header.vue?vue&type=script&lang=js\"\nexport * from \"./header.vue?vue&type=script&lang=js\"\n\nimport \"./header.vue?vue&type=style&index=0&id=36bfc327&lang=sass&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-36bfc327\"]])\n\nexport default __exports__","<template>\r\n  <section class=\"slider\" :class=\"{'tg-theme': isTelegram, 'tg-dark': isDarkTheme}\">\r\n    <!-- Стрелки -->\r\n    <svg class=\"slider__left\" :class=\"{ 'slider__arrow-disabled': weekOffset <= -1 }\" width=\"6\" height=\"10\"\r\n      viewBox=\"0 0 6 10\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" @click=\"prevWeek\">\r\n      <path\r\n        d=\"M5.74688 0.246261C5.66733 0.168229 5.57268 0.106294 5.46841 0.0640274C5.36413 0.021761 5.25228 0 5.13931 0C5.02635 0 4.9145 0.021761 4.81022 0.0640274C4.70594 0.106294 4.6113 0.168229 4.53175 0.246261L0.253122 4.4089C0.172916 4.4863 0.109255 4.57838 0.0658112 4.67983C0.0223672 4.78128 0 4.8901 0 5C0 5.1099 0.0223672 5.21872 0.0658112 5.32017C0.109255 5.42162 0.172916 5.5137 0.253122 5.5911L4.53175 9.75374C4.6113 9.83177 4.70594 9.89371 4.81022 9.93597C4.9145 9.97824 5.02635 10 5.13931 10C5.25228 10 5.36413 9.97824 5.46841 9.93597C5.57268 9.89371 5.66733 9.83177 5.74688 9.75374C5.82708 9.67634 5.89074 9.58427 5.93419 9.48281C5.97763 9.38136 6 9.27255 6 9.16264C6 9.05274 5.97763 8.94392 5.93419 8.84247C5.89074 8.74102 5.82708 8.64894 5.74688 8.57155L2.06726 5L5.74688 1.42845C5.82708 1.35106 5.89074 1.25898 5.93419 1.15753C5.97763 1.05608 6 0.94726 6 0.837356C6 0.727452 5.97763 0.618636 5.93419 0.517185C5.89074 0.415733 5.82708 0.323655 5.74688 0.246261Z\"\r\n        :fill=\"weekOffset <= -1 ? '#CCCCCC' : '#1E1E1E'\" />\r\n    </svg>\r\n\r\n    <div class=\"slider-days\">\r\n      <div v-for=\"(day, index) in days\" :key=\"'day-' + index\" class=\"slider__day\" :class=\"{\r\n        'slider__day-active': day.isActive,\r\n        'slider__day-prev-active': day.isCurrentDay\r\n      }\" @click=\"handleDayClick(index)\">\r\n        <div class=\"date-container\">\r\n          <transition name=\"date-flip\" mode=\"out-in\">\r\n            <p :key=\"day.date\" class=\"slider__day-date\">{{ day.date }}</p>\r\n          </transition>\r\n        </div>\r\n        <h2 class=\"slider__day-week\">{{ day.weekDay }}</h2>\r\n      </div>\r\n    </div>\r\n\r\n    <svg class=\"slider__right\" :class=\"{ 'slider__arrow-disabled': weekOffset >= 2 }\" width=\"6\" height=\"10\"\r\n      viewBox=\"0 0 6 10\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" @click=\"nextWeek\">\r\n      <path\r\n        d=\"M0.253122 0.246261C0.332673 0.168229 0.427317 0.106294 0.531595 0.0640274C0.635873 0.021761 0.747721 0 0.860687 0C0.973653 0 1.0855 0.021761 1.18978 0.0640274C1.29406 0.106294 1.3887 0.168229 1.46825 0.246261L5.74688 4.4089C5.82708 4.4863 5.89074 4.57838 5.93419 4.67983C5.97763 4.78128 6 4.8901 6 5C6 5.1099 5.97763 5.21872 5.93419 5.32017C5.89074 5.42162 5.82708 5.5137 5.74688 5.5911L1.46825 9.75374C1.3887 9.83177 1.29406 9.89371 1.18978 9.93597C1.0855 9.97824 0.973653 10 0.860687 10C0.747721 10 0.635873 9.97824 0.531595 9.93597C0.427317 9.89371 0.332673 9.83177 0.253122 9.75374C0.172916 9.67634 0.109255 9.58427 0.0658112 9.48281C0.022367 9.38136 0 9.27255 0 9.16264C0 9.05274 0.022367 8.94392 0.0658112 8.84247C0.109255 8.74102 0.172916 8.64894 0.253122 8.57155L3.93274 5L0.253122 1.42845C0.172916 1.35106 0.109255 1.25898 0.0658112 1.15753C0.022367 1.05608 0 0.94726 0 0.837356C0 0.727452 0.022367 0.618636 0.0658112 0.517185C0.109255 0.415733 0.172916 0.323655 0.253122 0.246261Z\"\r\n        :fill=\"weekOffset >= 2 ? '#CCCCCC' : '#1E1E1E'\" />\r\n    </svg>\r\n  </section>\r\n</template>\r\n\r\n<script>\r\nimport { mapActions, mapGetters } from 'vuex'\r\n\r\nexport default {\r\n  name: 'Slider',\r\n  data() {\r\n    const today = new Date()\r\n    let weekOffset = 0\r\n\r\n    // Если сегодня воскресенье, стартуем со следующей недели\r\n    if (today.getDay() === 0) {\r\n      weekOffset = 1\r\n    }\r\n\r\n    return {\r\n      weekOffset,\r\n      weekDays: ['Пн', 'Вт', 'Ср', 'Чт', 'Пт', 'Сб'],\r\n      fullDayNames: ['Понедельник', 'Вторник', 'Среда', 'Четверг', 'Пятница', 'Суббота'],\r\n      monthNames: ['января', 'февраля', 'марта', 'апреля', 'мая', 'июня', 'июля', 'августа', 'сентября', 'октября', 'ноября', 'декабря'],\r\n      days: [],\r\n      selectedDate: null,\r\n      todayAdjusted: new Date(),\r\n      // Telegram\r\n      isTelegram: false,\r\n      isDarkTheme: false,\r\n      tgThemeParams: {}\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters(['selectedDayIndex', 'days', 'currentWeekType', 'currentWeekNumber']),\r\n    currentDayIndex() {\r\n      const today = new Date()\r\n      if (today.getDay() === 0) return 0 // Если воскресенье, показываем понедельник\r\n      return today.getDay() - 1\r\n    },\r\n  },\r\n  created() {\r\n    // Проверяем, открыто ли приложение в Telegram\r\n    if (window.Telegram && window.Telegram.WebApp) {\r\n      this.isTelegram = true;\r\n      this.initTelegramTheme();\r\n      this.setupTelegramBackButton();\r\n\r\n      // Развернуть приложение на весь экран\r\n      window.Telegram.WebApp.expand();\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapActions(['setSelectedDay', 'setCurrentWeekType']),\r\n    initTelegramTheme() {\r\n      const WebApp = window.Telegram.WebApp;\r\n      \r\n      // Получаем параметры темы\r\n      this.tgThemeParams = WebApp.themeParams || {};\r\n      this.isDarkTheme = WebApp.colorScheme === 'dark';\r\n      \r\n      // Применяем тему\r\n      this.applyTelegramTheme();\r\n      \r\n      // Подписываемся на изменение темы\r\n      WebApp.onEvent('themeChanged', this.applyTelegramTheme);\r\n    },\r\n    applyTelegramTheme() {\r\n      const WebApp = window.Telegram.WebApp;\r\n      this.isDarkTheme = WebApp.colorScheme === 'dark';\r\n      \r\n      // Обновляем CSS-переменные\r\n      document.documentElement.style.setProperty('--tg-bg-color', this.tgThemeParams.bg_color || '#ffffff');\r\n      document.documentElement.style.setProperty('--tg-text-color', this.tgThemeParams.text_color || '#000000');\r\n      document.documentElement.style.setProperty('--tg-button-color', this.tgThemeParams.button_color || '#2481cc');\r\n      document.documentElement.style.setProperty('--tg-button-text-color', this.tgThemeParams.button_text_color || '#ffffff');\r\n      document.documentElement.style.setProperty('--tg-hint-color', this.tgThemeParams.hint_color || '#707579');\r\n      document.documentElement.style.setProperty('--tg-link-color', this.tgThemeParams.link_color || '#168acd');\r\n      document.documentElement.style.setProperty('--tg-secondary-bg-color', this.tgThemeParams.secondary_bg_color || '#f4f4f5');\r\n      document.documentElement.style.setProperty('--tg-disabled', this.tgThemeParams.disabled || '#5c5c5c');\r\n    },\r\n    setupTelegramBackButton() {\r\n      const WebApp = window.Telegram.WebApp;\r\n      \r\n      // Показываем кнопку \"Назад\", если это необходимо\r\n      WebApp.BackButton.show();\r\n      WebApp.BackButton.onClick(() => {\r\n        // Здесь можно добавить логику навигации назад\r\n        WebApp.close(); // или другая логика\r\n      });\r\n    },\r\n    resetWeekState() {\r\n      this.weekOffset = 0;\r\n      localStorage.removeItem('currentWeekNumber');\r\n      this.updateDays();\r\n    },\r\n\r\n    handleDayClick(index) {\r\n      const clickedDate = new Date(this.days[index].originalDate);\r\n      this.selectedDate = clickedDate;\r\n\r\n      // Не пересчитываем diffWeeks и не меняем weekOffset\r\n      // Просто используем текущий weekOffset, чтобы оставить выбранную неделю\r\n\r\n      // Обновляем выбранный день\r\n      this.setSelectedDay({\r\n        fullDayName: this.fullDayNames[index],\r\n        date: clickedDate.getDate(),\r\n        month: this.monthNames[clickedDate.getMonth()],\r\n        originalDate: clickedDate,\r\n        dayIndex: index\r\n      });\r\n\r\n      // Можно дополнительно обновить отображение, если нужно\r\n      this.updateWeekNumber();\r\n      this.updateDays();\r\n    },\r\n\r\n    isSameDay(date1, date2) {\r\n      return date1.getDate() === date2.getDate() &&\r\n        date1.getMonth() === date2.getMonth() &&\r\n        date1.getFullYear() === date2.getFullYear();\r\n    },\r\n\r\n    updateDays() {\r\n      const today = new Date();\r\n\r\n      // Если сегодня воскресенье, переключаем на понедельник следующей недели\r\n      if (today.getDay() === 0) {\r\n        this.todayAdjusted = new Date(today);\r\n        this.todayAdjusted.setDate(today.getDate() + 1);\r\n      } else {\r\n        this.todayAdjusted = new Date(today);\r\n      }\r\n\r\n      const weekStart = new Date(this.todayAdjusted);\r\n      weekStart.setDate(weekStart.getDate() + this.weekOffset * 7);\r\n\r\n      // Вычисляем начало недели (понедельник)\r\n      const dayDiff = weekStart.getDay() === 0 ? 6 : weekStart.getDay() - 1;\r\n      weekStart.setDate(weekStart.getDate() - dayDiff);\r\n\r\n      const newDays = this.weekDays.map((day, index) => {\r\n        const date = new Date(weekStart);\r\n        date.setDate(weekStart.getDate() + index);\r\n\r\n        const isCurrentDay = this.isSameDay(date, this.todayAdjusted);\r\n        const isSelectedDay = this.selectedDate\r\n          ? date.getDay() === this.selectedDate.getDay()\r\n          : isCurrentDay;\r\n\r\n        return {\r\n          date: date.getDate().toString().padStart(2, '0'),\r\n          weekDay: day,\r\n          fullDayName: this.fullDayNames[index],\r\n          month: this.monthNames[date.getMonth()],\r\n          originalDate: date,\r\n          isCurrentDay: isCurrentDay,\r\n          isActive: isSelectedDay\r\n        };\r\n      });\r\n\r\n      this.$store.commit('SET_DAYS', newDays);\r\n      this.days = newDays;\r\n\r\n      if (!this.selectedDate) {\r\n        const activeDay = newDays.find(day => day.isActive);\r\n        if (activeDay) {\r\n          this.selectedDate = activeDay.originalDate;\r\n          const index = newDays.findIndex(day => day.isActive);\r\n          this.setSelectedDay({\r\n            fullDayName: activeDay.fullDayName,\r\n            date: activeDay.date,\r\n            month: activeDay.month,\r\n            originalDate: activeDay.originalDate,\r\n            dayIndex: index\r\n          });\r\n        }\r\n      }\r\n    },\r\n\r\n    prevWeek() {\r\n      if (this.weekOffset > -1) {\r\n        this.weekOffset--;\r\n        this.updateWeekNumber();\r\n        this.updateDays();\r\n      }\r\n    },\r\n\r\n    nextWeek() {\r\n      if (this.weekOffset < 2) {\r\n        this.weekOffset++;\r\n        this.updateWeekNumber();\r\n        this.updateDays();\r\n      }\r\n    },\r\n\r\n    updateWeekNumber() {\r\n      const baseWeek = this.$store.state.baseWeekNumber;\r\n      if (baseWeek) {\r\n        // Определяем номер недели на основе смещения\r\n        let newWeekNumber = baseWeek;\r\n        if (this.weekOffset !== 0) {\r\n          newWeekNumber = (baseWeek + this.weekOffset) % 2;\r\n          newWeekNumber = newWeekNumber === 0 ? 2 : newWeekNumber;\r\n        }\r\n\r\n        console.log('Updating week number:', {\r\n          baseWeek,\r\n          offset: this.weekOffset,\r\n          newWeekNumber\r\n        });\r\n\r\n        this.$store.commit('SET_CURRENT_WEEK_NUMBER', newWeekNumber);\r\n        this.$store.commit('SET_CURRENT_WEEK_TYPE', `week${newWeekNumber}`);\r\n      }\r\n    },\r\n\r\n    updateWeekType() {\r\n      const weekType = this.$store.getters.getWeekTypeByOffset(this.weekOffset);\r\n      this.$store.dispatch('setCurrentWeekType', weekType);\r\n    }\r\n  },\r\n  watch: {\r\n    currentGroup() {\r\n      this.resetWeekState();\r\n    },\r\n    currentTeacher() {\r\n      this.resetWeekState();\r\n    },\r\n    currentRoom() {\r\n      this.resetWeekState();\r\n    },\r\n    selectedDayIndex(newIndex) {\r\n      if (newIndex !== undefined && this.days[newIndex]) {\r\n        const day = this.days[newIndex];\r\n        this.selectedDate = day.originalDate;\r\n\r\n        // Обновляем активные дни\r\n        this.days.forEach((d, i) => {\r\n          d.isActive = i === newIndex;\r\n        });\r\n      }\r\n    },\r\n  },\r\n  mounted() {\r\n    const today = new Date()\r\n    if (today.getDay() === 0) {\r\n      this.weekOffset = 1\r\n    }\r\n    this.updateDays()\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"sass\" scoped>\r\n@import \"@/assets/styles/variables.sass\"\r\n@import \"@/assets/styles/mixins.sass\"\r\n\r\n.slider\r\n  display: flex\r\n  width: 100%\r\n  justify-content: space-between\r\n  margin: 0 auto 1.5rem auto\r\n  align-items: center\r\n  position: relative\r\n\r\n  &-days\r\n    display: flex\r\n    flex: 1\r\n    justify-content: space-around\r\n\r\n  &__left, &__right\r\n    cursor: pointer\r\n    min-width: 1.2rem\r\n    min-height: 1.2rem\r\n    transition: transform 0.2s\r\n    path\r\n      fill: #1E1E1E\r\n      transition: fill .3s ease\r\n\r\n    .tg-theme & path\r\n      fill: var(--tg-text-color)\r\n\r\n    &.slider__arrow-disabled path\r\n      fill: #CCCCCC\r\n    @include respond(small-phone)\r\n      min-height: 1rem\r\n      min-width: 1rem\r\n    @include respond(phone)\r\n      min-height: 1.2rem\r\n      min-width: 1.2rem\r\n\r\n    // Hover-эффекты только для устройств с мышью\r\n    @media (hover: hover) and (pointer: fine)\r\n      &:hover:not(.slider__arrow-disabled)\r\n        transform: scale(1.3)\r\n\r\n    &:active:not(.slider__arrow-disabled)\r\n      transform: scale(0.8)\r\n\r\n  &__arrow-disabled\r\n    cursor: not-allowed\r\n    opacity: 0.5\r\n\r\n  &__day\r\n    display: flex\r\n    flex-direction: column\r\n    align-items: center\r\n    cursor: pointer\r\n    padding: .4rem\r\n    min-width: 3rem\r\n    position: relative\r\n    transition: all .3s ease\r\n    @include respond(small-phone)\r\n      padding: .5rem\r\n      min-width: 2.5rem\r\n    @include respond(phone)\r\n      padding: .6rem\r\n      min-width: 3rem\r\n\r\n    // Hover-эффекты только для устройств с мышью\r\n    @media (hover: hover) and (pointer: fine)\r\n      &:hover\r\n        border-radius: .3rem\r\n        box-shadow: 0 .2rem .8rem rgba(0,0,0,0.2)\r\n\r\n    .date-container\r\n      height: 1rem\r\n      position: relative\r\n      width: 100%\r\n      text-align: center\r\n\r\n    &-date\r\n      font-size: 0.8rem\r\n      font-weight: 400\r\n      line-height: 0.9rem\r\n      display: block\r\n      width: 100%\r\n      @include respond(small-phone)\r\n        font-size: 1rem\r\n      @include respond(phone)\r\n        font-size: 1rem\r\n\r\n    &-week\r\n      font-size: 1.6rem\r\n      font-weight: 400\r\n      line-height: 1.9rem\r\n      .tg-theme.tg-dark &\r\n        color: var(--tg-text-color)\r\n\r\n    &-prev-active\r\n      background-color: $color-light-grey\r\n      border-radius: 0.3rem\r\n      transition: all .3s ease\r\n      .tg-theme &\r\n        background-color: var(--tg-hint-color)\r\n\r\n    &-active\r\n      background-color: $color-light-green\r\n      color: white\r\n      border-radius: 0.3rem\r\n      transition: all .3s ease\r\n      .tg-theme &\r\n        background-color: $color-light-green\r\n\r\n      // Отключаем hover для активного элемента\r\n      @media (hover: hover) and (pointer: fine)\r\n        &:hover\r\n          box-shadow: none\r\n\r\n// Анимации изменения даты\r\n.date-flip-enter-active,\r\n.date-flip-leave-active\r\n  transition: all .2s ease\r\n  position: absolute\r\n  left: 0\r\n  right: 0\r\n\r\n.date-flip-enter-from\r\n  opacity: 0\r\n  transform: translateY(-1rem)\r\n\r\n.date-flip-leave-to\r\n  opacity: 0\r\n  transform: translateY(1rem)\r\n</style>","import { render } from \"./Slider.vue?vue&type=template&id=13b37833&scoped=true\"\nimport script from \"./Slider.vue?vue&type=script&lang=js\"\nexport * from \"./Slider.vue?vue&type=script&lang=js\"\n\nimport \"./Slider.vue?vue&type=style&index=0&id=13b37833&lang=sass&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-13b37833\"]])\n\nexport default __exports__","<template>\r\n  <section class=\"name\">\r\n    <h1 class=\"name__title\">\r\n      <span v-if=\"currentGroup\">{{ formattedGroupName }}</span>\r\n      <span v-else-if=\"currentTeacher\">{{ formattedTeacherName }}</span>\r\n      <span v-else-if=\"currentRoom\">{{ currentRoom }}</span>\r\n    </h1>\r\n    <strong class=\"name__slash\">|</strong>\r\n    <h2 class=\"name__week\">\r\n      {{ weekName }}\r\n      <span v-if=\"debugInfo\">(Неделя API: {{ apiWeekNumber }}, Смещение: {{ weekOffset }})</span>\r\n    </h2>\r\n  </section>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters } from 'vuex'\r\n\r\nexport default {\r\n  name: 'GroupInfo',\r\n  data() {\r\n    return {\r\n      debugInfo: false\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters([\r\n      'currentGroup',\r\n      'currentTeacher',\r\n      'currentRoom',\r\n      'currentWeekNumber',\r\n      'baseWeekNumber',\r\n      'currentWeekOffset'\r\n    ]),\r\n    apiWeekNumber() {\r\n      return this.baseWeekNumber || 'N/A';\r\n    },\r\n    weekName() {\r\n      return ` Неделя ${this.currentWeekNumber}`;\r\n    },\r\n    weekOffset() {\r\n      return this.currentWeekOffset || 0;\r\n    },\r\n    formattedTeacherName() {\r\n      if (!this.currentTeacher) return '';\r\n      const parts = this.currentTeacher.split('_');\r\n      let formatted = this.capitalizeFirstLetter(parts[0]);\r\n      if (parts.length > 1 && parts[1]) {\r\n        formatted += ` ${this.capitalizeFirstLetter(parts[1])}.`;\r\n      }\r\n      if (parts.length > 2 && parts[2]) {\r\n        formatted += ` ${this.capitalizeFirstLetter(parts[2])}.`;\r\n      }\r\n      return formatted;\r\n    },\r\n    formattedGroupName() {\r\n      if (!this.currentGroup) return '';\r\n      // Форматируем группу (ПИ2303 вместо пи2303)\r\n      const firstDigitIndex = this.currentGroup.search(/\\d/);\r\n      if (firstDigitIndex === -1) return this.currentGroup.toUpperCase();\r\n      \r\n      const letters = this.currentGroup.slice(0, firstDigitIndex).toUpperCase();\r\n      const numbers = this.currentGroup.slice(firstDigitIndex);\r\n      return letters + numbers;\r\n    }\r\n  },\r\n  methods: {\r\n    capitalizeFirstLetter(str) {\r\n      if (!str) return '';\r\n      return str.charAt(0).toUpperCase() + str.slice(1).toLowerCase();\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"sass\" scoped>\r\n@import \"@/assets/styles/variables.sass\"\r\n@import \"@/assets/styles/mixins.sass\"\r\n\r\n.name\r\n  display: flex\r\n  gap: 0.5rem\r\n  margin-bottom: 1.5rem\r\n  align-items: center\r\n  &__title,\r\n  &__slash\r\n    font-size: 2.6rem\r\n    font-weight: 400\r\n    letter-spacing: -0.05rem\r\n  &__week\r\n    font-size: 1.6rem\r\n    font-weight: 400\r\n    letter-spacing: -0.05rem\r\n\r\n  @include respond(small-phone)\r\n    &__title,\r\n    &__slash\r\n      font-size: 2rem\r\n    &__week\r\n      font-size: 1.4rem\r\n  @include respond(phone)\r\n    &__title,\r\n    &__slash\r\n      font-size: 2.6rem\r\n    &__week\r\n      font-size: 1.8rem\r\n</style>","import { render } from \"./GroupInfo.vue?vue&type=template&id=ee065612&scoped=true\"\nimport script from \"./GroupInfo.vue?vue&type=script&lang=js\"\nexport * from \"./GroupInfo.vue?vue&type=script&lang=js\"\n\nimport \"./GroupInfo.vue?vue&type=style&index=0&id=ee065612&lang=sass&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-ee065612\"]])\n\nexport default __exports__","<template>\r\n  <section class=\"search\" :class=\"{ 'tg-theme': isTelegram, 'tg-dark': isDarkTheme }\">\r\n    <input class=\"search__input\" \r\n           type=\"text\" \r\n           v-model=\"searchInput\" \r\n           @input=\"handleInput\"\r\n           @blur=\"hideSuggestions\"\r\n           placeholder=\"Группа, преподаватель, аудитория\"\r\n           @keyup.enter=\"handleSearch\"\r\n           @keydown.down=\"moveSelection(1)\"\r\n           @keydown.up=\"moveSelection(-1)\"\r\n           ref=\"searchInput\">\r\n    <transition name=\"fade\">\r\n      <div v-if=\"errorMessage\" class=\"search-error\">\r\n        {{ errorMessage }}\r\n      </div>\r\n    </transition>\r\n    <div v-if=\"showSuggestions && suggestions.length > 0\" class=\"suggestions\">\r\n      <div v-for=\"(item, index) in suggestions\" :key=\"item\" class=\"suggestion-item\"\r\n        :class=\"{ 'suggestion-active': index === activeSuggestionIndex }\" @keyup.enter=\"handleEnter\" @mousedown.prevent=\"selectSuggestion(item)\">\r\n        {{ item }}\r\n      </div>\r\n    </div>\r\n    <svg class=\"search__loupe btn\" width=\"13\" height=\"13\" viewBox=\"0 0 13 13\" fill=\"none\"\r\n      xmlns=\"http://www.w3.org/2000/svg\" @click=\"handleSearch\">\r\n      <path fill-rule=\"evenodd\" clip-rule=\"evenodd\"\r\n        d=\"M1.46466 1.40156C1.00031 1.86591 0.631959 2.41718 0.380652 3.02389C0.129346 3.6306 6.91942e-09 4.28086 0 4.93756C-6.91942e-09 5.59426 0.129346 6.24452 0.380652 6.85123C0.631959 7.45794 1.00031 8.0092 1.46466 8.47356C1.92901 8.93791 2.48028 9.30626 3.08699 9.55757C3.6937 9.80887 4.34396 9.93822 5.00066 9.93822C5.65736 9.93822 6.30762 9.80887 6.91433 9.55757C7.52104 9.30626 8.0723 8.93791 8.53666 8.47356C9.44745 7.53055 9.95142 6.26754 9.94003 4.95655C9.92864 3.64557 9.40279 2.39151 8.47575 1.46447C7.54871 0.537426 6.29465 0.0115811 4.98366 0.000189013C3.67268 -0.0112031 2.40967 0.492769 1.46666 1.40356M7.83066 7.76756C7.46074 8.14579 7.01946 8.44687 6.53238 8.65339C6.04529 8.8599 5.52208 8.96773 4.99303 8.97065C4.46399 8.97356 3.93962 8.8715 3.45029 8.67036C2.96096 8.46922 2.51639 8.17302 2.14233 7.79889C1.76826 7.42476 1.47213 6.98014 1.27108 6.49077C1.07003 6.00141 0.968061 5.47702 0.971068 4.94797C0.974075 4.41893 1.082 3.89573 1.2886 3.40869C1.4952 2.92164 1.79637 2.48041 2.17466 2.11056C2.92767 1.37434 3.94064 0.964788 4.99374 0.970774C6.04683 0.976759 7.05508 1.3978 7.79968 2.14253C8.54428 2.88726 8.96514 3.89558 8.97094 4.94868C8.97674 6.00178 8.56701 7.01468 7.83066 7.76756Z\"\r\n        :fill=\"isTelegram ? 'var(--tg-button-text-color)' : 'white'\" />\r\n      <path\r\n        d=\"M7.82859 9.20055C7.64108 9.01291 7.53579 8.75847 7.53589 8.4932C7.53598 8.22793 7.64145 7.97356 7.82909 7.78605C8.01673 7.59854 8.27117 7.49325 8.53644 7.49335C8.80172 7.49344 9.05608 7.59891 9.24359 7.78655L12.0716 10.6155C12.1671 10.7078 12.2433 10.8181 12.2957 10.9401C12.3481 11.0621 12.3757 11.1934 12.3768 11.3261C12.378 11.4589 12.3527 11.5906 12.3024 11.7135C12.2521 11.8364 12.1779 11.9481 12.084 12.0419C11.9901 12.1358 11.8784 12.2101 11.7555 12.2604C11.6326 12.3107 11.501 12.336 11.3682 12.3348C11.2354 12.3336 11.1042 12.3061 10.9822 12.2537C10.8602 12.2012 10.7498 12.1251 10.6576 12.0295L7.82859 9.20055Z\"\r\n        :fill=\"isTelegram ? 'var(--tg-button-text-color)' : 'white'\" />\r\n    </svg>\r\n  </section>\r\n</template>\r\n\r\n<script>\r\nimport { mapActions } from 'vuex'\r\n\r\nexport default {\r\n  name: 'Search',\r\n  data() {\r\n    return {\r\n      searchInput: '',\r\n      errorMessage: '',\r\n      // Telegram\r\n      isTelegram: false,\r\n      isDarkTheme: false,\r\n      tgThemeParams: {},\r\n      showSuggestions: false,\r\n      activeSuggestionIndex: -1,\r\n    }\r\n  },\r\n  created() {\r\n    // Проверяем, открыто ли приложение в Telegram\r\n    if (window.Telegram && window.Telegram.WebApp) {\r\n      this.isTelegram = true;\r\n      this.initTelegramTheme();\r\n      this.setupTelegramBackButton();\r\n\r\n      // Развернуть приложение на весь экран\r\n      window.Telegram.WebApp.expand();\r\n    }\r\n\r\n    this.$store.dispatch('fetchAllDataLists').catch(error => {\r\n      console.error('Ошибка загрузки списков:', error);\r\n    });\r\n  },\r\n  methods: {\r\n    ...mapActions(['searchSchedule']),\r\n    initTelegramTheme() {\r\n      const WebApp = window.Telegram.WebApp;\r\n\r\n      // Получаем параметры темы\r\n      this.tgThemeParams = WebApp.themeParams || {};\r\n      this.isDarkTheme = WebApp.colorScheme === 'dark';\r\n\r\n      // Применяем тему\r\n      this.applyTelegramTheme();\r\n\r\n      // Подписываемся на изменение темы\r\n      WebApp.onEvent('themeChanged', this.applyTelegramTheme);\r\n    },\r\n    applyTelegramTheme() {\r\n      const WebApp = window.Telegram.WebApp;\r\n      this.isDarkTheme = WebApp.colorScheme === 'dark';\r\n\r\n      // Обновляем CSS-переменные\r\n      document.documentElement.style.setProperty('--tg-bg-color', this.tgThemeParams.bg_color || '#ffffff');\r\n      document.documentElement.style.setProperty('--tg-text-color', this.tgThemeParams.text_color || '#000000');\r\n      document.documentElement.style.setProperty('--tg-button-color', this.tgThemeParams.button_color || '#2481cc');\r\n      document.documentElement.style.setProperty('--tg-button-text-color', this.tgThemeParams.button_text_color || '#ffffff');\r\n      document.documentElement.style.setProperty('--tg-hint-color', this.tgThemeParams.hint_color || '#707579');\r\n      document.documentElement.style.setProperty('--tg-link-color', this.tgThemeParams.link_color || '#168acd');\r\n      document.documentElement.style.setProperty('--tg-secondary-bg-color', this.tgThemeParams.secondary_bg_color || '#f4f4f5');\r\n      document.documentElement.style.setProperty('--tg-disabled', this.tgThemeParams.disabled || '#5c5c5c');\r\n    },\r\n    setupTelegramBackButton() {\r\n      const WebApp = window.Telegram.WebApp;\r\n\r\n      // Показываем кнопку \"Назад\", если это необходимо\r\n      WebApp.BackButton.show();\r\n      WebApp.BackButton.onClick(() => {\r\n        // Здесь можно добавить логику навигации назад\r\n        WebApp.close(); // или другая логика\r\n      });\r\n    },\r\n    selectTeacher(teacher) {\r\n      try {\r\n        if (!teacher || typeof teacher !== 'string') return;\r\n\r\n        this.searchInput = teacher;\r\n        this.showSuggestions = false;\r\n\r\n        this.$nextTick(() => {\r\n          if (this.$refs.searchInput) {\r\n            this.$refs.searchInput.focus();\r\n          }\r\n          this.handleSearch();\r\n        });\r\n      } catch (error) {\r\n        console.error('Ошибка при выборе преподавателя:', error);\r\n      }\r\n    },\r\n\r\n    getteacherSuggestions() {\r\n      return this.getTeacherSuggestions(this.searchInput);\r\n    },\r\n\r\n    onInput() {\r\n      if (this.searchInput.trim().length >= 3) {\r\n        this.showSuggestions = true;\r\n      } else {\r\n        this.showSuggestions = false;\r\n      }\r\n    },\r\n\r\n    hideSuggestions() {\r\n      // Небольшая задержка, чтобы можно было кликнуть на подсказку\r\n      setTimeout(() => {\r\n        this.showSuggestions = false;\r\n      }, 200);\r\n    },\r\n\r\n    handleEnter() {\r\n  if (this.activeSuggestionIndex >= 0 && this.suggestions.length) {\r\n    this.selectSuggestion(this.suggestions[this.activeSuggestionIndex]);\r\n  } else {\r\n    this.handleSearch();\r\n  }\r\n},\r\n\r\n    // Форматируем группу (делаем буквы перед цифрами заглавными)\r\n    formatGroupName(group) {\r\n      if (!group) return group;\r\n      // Находим индекс первой цифры\r\n      const firstDigitIndex = group.search(/\\d/);\r\n      if (firstDigitIndex === -1) return group.toUpperCase();\r\n\r\n      const letters = group.slice(0, firstDigitIndex).toUpperCase();\r\n      const numbers = group.slice(firstDigitIndex);\r\n      return letters + numbers;\r\n    },\r\n\r\n    // Проверка стандартных аудиторий (цифры+буквы)\r\n    isStandardRoom(query) {\r\n      return /^\\d+[а-яё]+$/i.test(query); // Например: 229гл, 704гл\r\n    },\r\n\r\n    // Проверка аудиторий с пробелом (цифры пробел буквы)\r\n    isRoomWithSpace(query) {\r\n      return /^\\d+[а-яё]?\\s[а-яё]+$/i.test(query); // Например: 130а зоо, 459а мх\r\n    },\r\n\r\n    // Проверка специальных аудиторий (точное совпадение)\r\n    isSpecialRoom(query) {\r\n      const specialRooms = [\r\n        '129 1общ',\r\n        'бокс мтп', 'бокс пм', 'бокс тр',\r\n        'спортивный комплекс', 'учхоз'\r\n      ];\r\n      return specialRooms.includes(query.toLowerCase());\r\n    },\r\n\r\n    // Форматирование имени преподавателя для API (убираем точки)\r\n    formatTeacherForApi(input) {\r\n      if (!input) return null;\r\n\r\n      // Нормализуем ввод\r\n      const normalizedInput = input.trim().toLowerCase()\r\n        .replace(/\\./g, '') // Удаляем точки\r\n        .replace(/\\s+/g, ' ') // Заменяем множественные пробелы\r\n        .replace(/-/g, ' '); // Заменяем дефисы на пробелы\r\n\r\n      const inputParts = normalizedInput.split(' ');\r\n      const allTeachers = this.$store.getters.allTeachers || [];\r\n\r\n      // Ищем всех преподавателей с подходящей фамилией\r\n      let candidates = allTeachers.filter(teacher => {\r\n        const teacherParts = teacher.toLowerCase().split(' ');\r\n        return teacherParts[0] === inputParts[0];\r\n      });\r\n\r\n      // Если ввели только фамилию\r\n      if (inputParts.length === 1) {\r\n        return candidates.length === 1\r\n          ? candidates[0].replace(/ /g, '_')\r\n          : null;\r\n      }\r\n\r\n      // Фильтруем по имени (первая буква)\r\n      if (inputParts.length > 1) {\r\n        candidates = candidates.filter(teacher => {\r\n          const teacherParts = teacher.toLowerCase().split(' ');\r\n          return teacherParts[1]?.charAt(0) === inputParts[1].charAt(0);\r\n        });\r\n      }\r\n\r\n      // Фильтруем по отчеству (первая буква)\r\n      if (inputParts.length > 2) {\r\n        candidates = candidates.filter(teacher => {\r\n          const teacherParts = teacher.toLowerCase().split(' ');\r\n          return teacherParts[2]?.charAt(0) === inputParts[2].charAt(0);\r\n        });\r\n      }\r\n\r\n      return candidates.length === 1\r\n        ? candidates[0].replace(/ /g, '_')\r\n        : null;\r\n    },\r\n\r\n    // Форматирование для отображения: \"иванов иван\" → \"Иванов И.\"\r\n    formatTeacherForDisplay(name) {\r\n      if (!name || typeof name !== 'string') return '';\r\n\r\n      // Удаляем точки и лишние пробелы\r\n      const parts = name.replace(/\\./g, '').replace(/\\s+/g, ' ').trim().split(' ');\r\n\r\n      // Фамилия с большой буквы\r\n      let result = parts[0].charAt(0).toUpperCase() + parts[0].slice(1).toLowerCase();\r\n\r\n      // Инициал имени\r\n      if (parts.length > 1 && parts[1]) {\r\n        result += ` ${parts[1].charAt(0).toUpperCase()}.`;\r\n      }\r\n\r\n      // Инициал отчества\r\n      if (parts.length > 2 && parts[2]) {\r\n        result += ` ${parts[2].charAt(0).toUpperCase()}.`;\r\n      }\r\n\r\n      return result;\r\n    },\r\n\r\n    // Основное определение типа поиска\r\n    determineSearchType(query) {\r\n      query = query.trim();\r\n\r\n      // 1. Специальные аудитории\r\n      if (this.isSpecialRoom(query)) return 'room';\r\n\r\n      // 2. Аудитории с пробелом\r\n      if (this.isRoomWithSpace(query)) return 'room';\r\n\r\n      // 3. Стандартные аудитории\r\n      if (this.isStandardRoom(query)) return 'room';\r\n\r\n      // 4. Группы (буквы + цифры)\r\n      if (/^[а-яё]+\\d+$/i.test(query)) return 'group';\r\n\r\n      // 5. Всё остальное - преподаватель\r\n      return 'teacher';\r\n    },\r\n\r\n    // Валидация ввода\r\n    validateInput(query) {\r\n      query = query.trim();\r\n      if (!query) return null;\r\n\r\n      // Проверяем, загружены ли списки\r\n      const listsLoaded = this.$store.getters.allGroups &&\r\n        this.$store.getters.allTeachers &&\r\n        this.$store.getters.allRooms;\r\n\r\n      if (!listsLoaded) {\r\n        console.error('Списки данных не загружены');\r\n        return null;\r\n      }\r\n\r\n      const type = this.determineSearchType(query);\r\n\r\n      // Дополнительная валидация для преподавателей\r\n      if (type === 'teacher' && !/^[а-яё\\s\\-\\.]+$/i.test(query)) {\r\n        return null;\r\n      }\r\n\r\n      return type;\r\n    },\r\n\r\n    async handleSearch() {\r\n\r\n\r\n\r\n      console.log('Поиск:', {\r\n        input: this.searchInput,\r\n        type: this.validateInput(this.searchInput),\r\n        allTeachers: this.$store.getters.allTeachers,\r\n        apiFormat: this.formatTeacherForApi(this.searchInput)\r\n      });\r\n\r\n      if (this.activeSuggestionIndex >= 0 && this.suggestions.length) {\r\n        this.searchInput = this.suggestions[this.activeSuggestionIndex];\r\n      }\r\n\r\n      const query = this.searchInput.trim();\r\n      if (!query) return;\r\n\r\n      const type = this.validateInput(query);\r\n      if (!type) {\r\n        this.errorMessage = 'Введите: группу (ПИ2303), преподавателя (Иванов) или аудиторию (405эк)';\r\n        setTimeout(() => this.errorMessage = '', 3000);\r\n        return;\r\n      }\r\n\r\n      try {\r\n        if (type === 'teacher') {\r\n          const apiQuery = this.formatTeacherForApi(query);\r\n          const allTeachers = this.$store.getters.allTeachers || [];\r\n\r\n          if (apiQuery === null) {\r\n            const suggestions = this.getTeacherSuggestions(query);\r\n            this.errorMessage = suggestions.length\r\n              ? `Уточните преподавателя: ${suggestions.join(', ')}`\r\n              : 'Найдено несколько преподавателей с такой фамилией. Уточните имя.';\r\n            setTimeout(() => this.errorMessage = '', 5000);\r\n            return;\r\n          }\r\n\r\n          if (!apiQuery) {\r\n            this.errorMessage = 'Преподаватель не найден';\r\n            setTimeout(() => this.errorMessage = '', 3000);\r\n            return;\r\n          }\r\n\r\n          // Проверяем существование в списке\r\n          const exists = allTeachers.some(t =>\r\n            t.replace(/ /g, '_').toLowerCase() === apiQuery.toLowerCase()\r\n          );\r\n\r\n          if (!exists) {\r\n            this.errorMessage = `Преподаватель ${this.formatTeacherForDisplay(apiQuery.replace(/_/g, ' '))} не найден`;\r\n            setTimeout(() => this.errorMessage = '', 3000);\r\n            return;\r\n          }\r\n\r\n          await this.$store.dispatch('searchSchedule', {\r\n            type,\r\n            query: apiQuery,\r\n            displayQuery: this.formatTeacherForDisplay(apiQuery.replace(/_/g, ' '))\r\n          });\r\n          return;\r\n        } else {\r\n          // Логика для групп и аудиторий\r\n          const list = type === 'group'\r\n            ? this.$store.getters.allGroups || []\r\n            : this.$store.getters.allRooms || [];\r\n\r\n          const exists = list.some(item =>\r\n            item.toLowerCase() === query.toLowerCase()\r\n          );\r\n\r\n          if (!exists) {\r\n            this.errorMessage = `${this.getTypeName(type)} \"${query}\" не найден(а)`;\r\n            setTimeout(() => this.errorMessage = '', 3000);\r\n            return;\r\n          }\r\n\r\n          await this.$store.dispatch('searchSchedule', {\r\n            type,\r\n            query,\r\n            displayQuery: query\r\n          });\r\n        }\r\n      } catch (error) {\r\n        console.error('Ошибка поиска:', error);\r\n        this.errorMessage = 'Ошибка при загрузке расписания';\r\n        setTimeout(() => this.errorMessage = '', 3000);\r\n      } finally {\r\n        this.showSuggestions = false;\r\n      }\r\n    },\r\n\r\n    formatSearchQuery(type, query) {\r\n      if (type !== 'teacher') return query;\r\n\r\n      // Приводим к формату \"Фамилия И О\"\r\n      const parts = query.split(' ');\r\n      let formatted = parts[0]; // Фамилия\r\n\r\n      if (parts.length > 1) {\r\n        formatted += ` ${parts[1][0].toUpperCase()}.`; // Инициал имени\r\n      }\r\n\r\n      if (parts.length > 2) {\r\n        formatted += ` ${parts[2][0].toUpperCase()}.`; // Инициал отчества\r\n      }\r\n\r\n      return formatted;\r\n    },\r\n\r\n    getTypeName(type) {\r\n      const names = {\r\n        group: 'Группа',\r\n        teacher: 'Преподаватель',\r\n        room: 'Аудитория'\r\n      };\r\n      return names[type] || '';\r\n    },\r\n\r\n    async checkIfExists(type, query) {\r\n      if (type !== 'teacher') {\r\n        const list = this.$store.getters[`all${type.charAt(0).toUpperCase() + type.slice(1)}`] || [];\r\n        return list.some(item => item.toLowerCase() === query.toLowerCase());\r\n      }\r\n\r\n      const apiFormat = this.formatTeacherForApi(query);\r\n      if (!apiFormat) return false;\r\n\r\n      const allTeachers = this.$store.getters.allTeachers || [];\r\n      return allTeachers.some(t => {\r\n        const teacherApiFormat = t.replace(/ /g, '_').toLowerCase();\r\n        return teacherApiFormat === apiFormat.toLowerCase();\r\n      });\r\n    },\r\n    getTeacherSuggestions(input) {\r\n      // Добавляем проверку на undefined и null\r\n      if (!input || typeof input.trim !== 'function') return [];\r\n\r\n      const query = input.trim();\r\n      if (query.length < 3) return [];\r\n\r\n      const allTeachers = this.$store.getters.allTeachers || [];\r\n      if (!allTeachers.length) return [];\r\n\r\n      const queryLower = query.toLowerCase();\r\n      const queryParts = queryLower.split(' ');\r\n\r\n      return allTeachers.filter(teacher => {\r\n        if (!teacher || typeof teacher !== 'string') return false;\r\n\r\n        const teacherLower = teacher.toLowerCase();\r\n        const teacherParts = teacherLower.split(' ');\r\n\r\n        // Проверяем совпадение фамилии\r\n        if (!teacherParts[0]?.includes(queryParts[0])) return false;\r\n\r\n        // Проверяем совпадение инициалов имени\r\n        if (queryParts.length > 1 && teacherParts[1]) {\r\n          return teacherParts[1].startsWith(queryParts[1].charAt(0));\r\n        }\r\n\r\n        return true;\r\n      }).slice(0, 5);\r\n    },\r\n    getSuggestions(input) {\r\n      if (!input || input.trim().length < 3) return []; // Показываем после 2 символов\r\n\r\n      const type = this.determineSearchType(input);\r\n      const searchLower = input.toLowerCase();\r\n\r\n      switch (type) {\r\n        case 'teacher':\r\n          const allTeachers = this.$store.getters.allTeachers || [];\r\n          return allTeachers\r\n            .filter(teacher => teacher.toLowerCase().includes(searchLower))\r\n            .slice(0, 5);\r\n\r\n        case 'group':\r\n          const allGroups = this.$store.getters.allGroups || [];\r\n          return allGroups\r\n            .filter(group => group.toLowerCase().includes(searchLower))\r\n            .slice(0, 5);\r\n\r\n        case 'room':\r\n          const allRooms = this.$store.getters.allRooms || [];\r\n          return allRooms\r\n            .filter(room => room.toLowerCase().includes(searchLower))\r\n            .slice(0, 5);\r\n\r\n        default:\r\n          return [];\r\n      }\r\n    },\r\n\r\n    // Выбор подсказки\r\n    selectSuggestion(item) {\r\n      this.searchInput = item;\r\n      this.showSuggestions = false;\r\n      this.activeSuggestionIndex = -1;\r\n      this.handleSearch();\r\n    },\r\n\r\n    // Навигация по подсказкам клавиатурой\r\n    moveSelection(direction) {\r\n      if (!this.showSuggestions) return;\r\n\r\n      const newIndex = this.activeSuggestionIndex + direction;\r\n      if (newIndex >= 0 && newIndex < this.suggestions.length) {\r\n        this.activeSuggestionIndex = newIndex;\r\n      }\r\n\r\n      // Автопрокрутка списка\r\n      const suggestionElements = this.$el.querySelectorAll('.suggestion-item');\r\n      if (suggestionElements[newIndex]) {\r\n        suggestionElements[newIndex].scrollIntoView({\r\n          block: 'nearest',\r\n          behavior: 'smooth'\r\n        });\r\n      }\r\n    },\r\n\r\n    // Обработка ввода\r\n    handleInput() {\r\n      if (this.searchInput && this.searchInput.trim().length >= 2) {\r\n        this.showSuggestions = true;\r\n        this.activeSuggestionIndex = -1;\r\n      } else {\r\n        this.showSuggestions = false;\r\n      }\r\n    },\r\n\r\n\r\n\r\n  },\r\n  computed: {\r\n    suggestions() {\r\n      return this.getSuggestions(this.searchInput);\r\n    },\r\n    teacherSuggestions() {\r\n      try {\r\n        return this.searchInput ? this.getTeacherSuggestions(this.searchInput) : [];\r\n      } catch (error) {\r\n        console.error('Ошибка получения подсказок:', error);\r\n        return [];\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"sass\" scoped>\r\n@import \"@/assets/styles/variables.sass\"\r\n@import \"@/assets/styles/mixins.sass\"\r\n\r\n\r\n.search-error\r\n  position: absolute\r\n  top: 18%\r\n  left: 5%\r\n  color: #ff4444\r\n  font-size: 0.9rem\r\n  padding: 0.5rem\r\n  background: #fff\r\n  border-radius: 0.3rem\r\n  box-shadow: 0 2px 4px rgba(0,0,0,0.1)\r\n  z-index: 10\r\n  margin-top: 0.5rem\r\n  .tg-theme &\r\n    background-color: var(--tg-secondary-bg-color)\r\n    color: var(--tg-text-color)\r\n\r\n.fade-enter-active,\r\n.fade-leave-active\r\n  transition: opacity 0.3s\r\n\r\n.fade-enter,\r\n.fade-leave-to\r\n  opacity: 0\r\n  \r\n.search\r\n  display: flex\r\n  flex-wrap: nowrap\r\n  justify-content: space-between\r\n  align-items: center\r\n  margin-bottom: 1.5rem\r\n\r\n  &__input\r\n    padding: 0.9rem 1rem\r\n    border: solid 0.1rem $color-light-grey\r\n    border-radius: 0.3rem\r\n    width: 100%\r\n    height: max-content\r\n    margin-right: 1rem\r\n    &:focus \r\n      outline: none\r\n    \r\n    .tg-theme &\r\n      background-color: var(--tg-secondary-bg-color)\r\n      border-color: var(--tg-hint-color)\r\n      color: var(--tg-text-color)\r\n    \r\n    @include respond(small-phone)\r\n      height: 3.5rem\r\n    @include respond(phone)\r\n      height: 3.5rem\r\n\r\n    &::placeholder\r\n      font-size: 1.3rem\r\n      line-height: 1.5rem\r\n      font-weight: 400\r\n      color: $color-table-border\r\n      .tg-theme &\r\n        color: var(--tg-hint-color)\r\n      \r\n      @include respond(small-phone)\r\n        font-size: 1.3rem\r\n      @include respond(phone)\r\n        font-size: 1.4rem\r\n\r\n  &__loupe\r\n    position: relative\r\n    background-color: $color-light-green\r\n    border-radius: 0.3rem\r\n    padding: 0.8rem\r\n    width: 3rem\r\n    height: 3rem\r\n    display: flex\r\n    align-items: center\r\n    justify-content: center\r\n    cursor: pointer\r\n  \r\n    \r\n    @include respond(small-phone)\r\n      height: 3.2rem\r\n      width: 3.2rem\r\n    @include respond(phone)\r\n      height: 3.4rem\r\n      width: 3.4rem\r\n\r\n    // Hover-эффекты только для устройств с мышью\r\n    @media (hover: hover) and (pointer: fine)\r\n      &:hover path\r\n        fill: $color-light-green\r\n      .tg-theme:hover path\r\n        fill: var(--tg-button-color)\r\n\r\n    &:after\r\n      content: ''\r\n      z-index: -1\r\n      position: absolute\r\n      bottom: -0.2rem\r\n      right: -0.1rem\r\n      width: 100%\r\n      height: 100%\r\n      border-radius: 0.3rem\r\n      background-color: $color-dark-green\r\n      .tg-theme &\r\n        background-color: var(--tg-button-color)\r\n        opacity: 0.8\r\n</style>","import { render } from \"./Search.vue?vue&type=template&id=e368df38&scoped=true\"\nimport script from \"./Search.vue?vue&type=script&lang=js\"\nexport * from \"./Search.vue?vue&type=script&lang=js\"\n\nimport \"./Search.vue?vue&type=style&index=0&id=e368df38&lang=sass&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-e368df38\"]])\n\nexport default __exports__","<template>\r\n  <section>\r\n    <swiper\r\n        class=\"table-swiper\"\r\n        :slides-per-view=\"1\"\r\n        :space-between=\"50\"\r\n        @swiper=\"onSwiper\"\r\n        @slide-change=\"onSlideChange\"\r\n        :initial-slide=\"initialSlide\"\r\n        :key=\"swiperKey\"\r\n    >\r\n      <swiper-slide v-for=\"(day, index) in days\" :key=\"index\">\r\n        <section class=\"table\">\r\n          <h2 class=\"table__title\">\r\n            {{ day?.fullDayName || '' }} | {{ day?.date || '' }} {{ day?.month || '' }}\r\n          </h2>\r\n          <ScheduleTableContent :day-index=\"index\" />\r\n        </section>\r\n      </swiper-slide>\r\n    </swiper>\r\n  </section>\r\n</template>\r\n\r\n<script>\r\nimport { Swiper, SwiperSlide } from 'swiper/vue'\r\nimport 'swiper/css'\r\nimport { mapGetters, mapActions } from 'vuex'\r\nimport ScheduleTableContent from \"@/components/Sked/ScheduleTableContent.vue\"\r\n\r\nexport default {\r\n  name: 'ScheduleTable',\r\n  components: {\r\n    Swiper,\r\n    SwiperSlide,\r\n    ScheduleTableContent\r\n  },\r\n  data() {\r\n    return {\r\n      swiperInstance: null,\r\n      localSelectedDayIndex: 0 // Track the selected day index locally\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters(['days', 'selectedDayIndex', 'monthNames', 'currentWeekType']),\r\n    initialSlide() {\r\n      // Initialize with the stored selected day index\r\n      return this.localSelectedDayIndex;\r\n    },\r\n    swiperKey() {\r\n      // Include currentWeekType to force swiper recreation when week changes\r\n      return `${this.currentWeekType}`;\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapActions(['setSelectedDay']),\r\n\r\n    onSwiper(swiper) {\r\n      this.swiperInstance = swiper;\r\n      // Set initial slide based on localSelectedDayIndex\r\n      swiper.slideTo(this.localSelectedDayIndex);\r\n    },\r\n\r\n    onSlideChange(swiper) {\r\n      const dayIndex = swiper.activeIndex;\r\n      this.localSelectedDayIndex = dayIndex; // Update local index\r\n      if (this.days[dayIndex]) {\r\n        this.setSelectedDay({\r\n          ...this.days[dayIndex],\r\n          dayIndex: dayIndex\r\n        });\r\n      }\r\n    },\r\n  },\r\n  watch: {\r\n    // When days change (week switch), reset to the stored day index\r\n    days() {\r\n      this.$nextTick(() => {\r\n        if (this.swiperInstance && this.localSelectedDayIndex !== undefined) {\r\n          this.swiperInstance.slideTo(this.localSelectedDayIndex);\r\n        }\r\n      });\r\n    },\r\n\r\n    // Handle external changes to selectedDayIndex\r\n    selectedDayIndex(newIndex) {\r\n      if (newIndex !== undefined && newIndex !== this.localSelectedDayIndex) {\r\n        this.localSelectedDayIndex = newIndex;\r\n        if (this.swiperInstance) {\r\n          this.swiperInstance.slideTo(newIndex);\r\n        }\r\n      }\r\n    },\r\n    currentWeekType() {\r\n      // При изменении типа недели пересоздаем swiper\r\n      this.$nextTick(() => {\r\n        if (this.swiperInstance) {\r\n          this.swiperInstance.update();\r\n        }\r\n      });\r\n    }\r\n  },\r\n  created() {\r\n    // Initialize localSelectedDayIndex with the store value\r\n    this.localSelectedDayIndex = this.selectedDayIndex || 0;\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"sass\" scoped>\r\n@import \"@/assets/styles/variables.sass\"\r\n@import \"@/assets/styles/mixins.sass\"\r\n.table\r\n  width: 100%\r\n  min-height: 100%\r\n  background-color: $color-table-border\r\n  border-radius: 0.3rem 0.3rem 0 0\r\n  overflow: hidden\r\n  margin-bottom: 1.5rem\r\n  display: flex\r\n  flex-direction: column\r\n  user-select: none\r\n  touch-action: pan-y // Разрешаем вертикальную прокрутку\r\n\r\n  &__title\r\n    font-size: 1.5rem\r\n    font-weight: 400\r\n    padding: 0.5rem 1rem\r\n    background-color: $color-light-green\r\n    color: $color-white\r\n  &__content\r\n    width: 100%\r\n    border-collapse: collapse\r\n    display: flex\r\n    flex-direction: column\r\n    &-row\r\n      position: relative\r\n      display: flex\r\n      width: 100%\r\n      justify-content: space-between\r\n      &-time\r\n        align-self: center\r\n        padding: 1.5rem 0.5rem\r\n        flex: 0 0 auto\r\n      &-color--seminar\r\n        width: 0.75rem\r\n        background-color: $color-table-border\r\n        flex: 0 0 auto\r\n      &-color--lection\r\n        width: 0.75rem\r\n        background-color: $color-orange\r\n        flex: 0 0 auto\r\n      &-lesson\r\n        padding: 0.5rem 0.8rem\r\n        flex: 1\r\n        &--class\r\n          display: inline-block\r\n          line-height: 1rem\r\n          margin-bottom: 0.2rem\r\n        &--teacher\r\n          color: $color-light-green\r\n      &-room\r\n        align-self: flex-start\r\n        text-align: center\r\n        padding: 0.5rem 0.3rem 0.5rem 0\r\n        flex: 0 0 auto\r\n        &--num\r\n          letter-spacing: -0.03rem\r\n        &-note\r\n          margin-top: 0.3rem\r\n          cursor: pointer\r\n\r\n    tr\r\n      height: 5rem\r\n      background-color: white\r\n      border: solid 0.1rem $color-table-border\r\n      margin-top: -0.1rem\r\n      @include respond(small-phone)\r\n        height: 6rem\r\n        border: solid 0.15rem $color-table-border\r\n      @include respond(phone)\r\n        height: 6rem\r\n        border: solid 0.15rem $color-table-border\r\n    th,\r\n    td\r\n      font-size: 0.8rem\r\n      font-weight: 400\r\n      @include respond(small-phone)\r\n        font-size: 1.2rem\r\n      @include respond(phone)\r\n        font-size: 1.2rem\r\n\r\n.table-swiper\r\n  width: 100%\r\n  height: 100%\r\n\r\n\r\n.swiper-slide\r\n  height: 100%\r\n\r\n</style>","<template>\r\n  <table v-if=\"normalizedRows.length\" class=\"table__content\">\r\n    <tbody>\r\n    <ScheduleTableRow v-for=\"(row, index) in normalizedRows\" :key=\"index\" :row=\"row\"/>\r\n    </tbody>\r\n  </table>\r\n  <div v-else class=\"no-data\">\r\n    Нет данных для отображения\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {mapActions} from 'vuex'\r\nimport ScheduleTableRow from './ScheduleTableRow.vue'\r\n\r\nconst defaultRows = [\r\n  {time: '08:00<br>09:30', type: 'seminar'},\r\n  {time: '09:45<br>11:15', type: 'seminar'},\r\n  {time: '11:30<br>13:00', type: 'seminar'},\r\n  {time: '13:50<br>15:20', type: 'seminar'},\r\n  {time: '15:35<br>17:05', type: 'seminar'},\r\n  {time: '17:20<br>18:50', type: 'seminar'},\r\n];\r\n\r\nconst saturdayRows = [\r\n  {time: '08:00<br>09:30', type: 'seminar'},\r\n  {time: '09:45<br>11:15', type: 'seminar'},\r\n  {time: '11:30<br>13:00', type: 'seminar'},\r\n  {time: '13:15<br>14:45', type: 'seminar'},\r\n  {time: '15:00<br>16:30', type: 'seminar'},\r\n  {time: '16:45<br>18:15', type: 'seminar'},\r\n];\r\n\r\nexport default {\r\n  name: 'ScheduleTableContent',\r\n  components: {\r\n    ScheduleTableRow\r\n  },\r\n  props: {\r\n    dayIndex: {\r\n      type: Number,\r\n      required: true\r\n    }\r\n  },\r\n  computed: {\r\n    currentDaySchedule() {\r\n      return this.$store.getters.currentWeekSchedule[this.dayIndex] || [];\r\n    },\r\n    timeSlots() {\r\n      return this.dayIndex === 5 ? saturdayRows : defaultRows\r\n    },\r\n    normalizedRows() {\r\n  return this.timeSlots.map(defaultRow => {\r\n    const dataRow = this.currentDaySchedule.find(r => r.time === defaultRow.time) || {};\r\n    \r\n    return {\r\n      ...defaultRow,\r\n      type: dataRow.type || defaultRow.type,\r\n      lesson: dataRow.lesson || '',\r\n      teachers: dataRow.teachers || [],\r\n      room: dataRow.room || '',\r\n      details: dataRow.details || []\r\n    };\r\n  });\r\n},\r\n  },\r\n  methods: {\r\n    ...mapActions(['updateAvailableLessons', 'updateFullWeekSchedule']),\r\n    getUniqueRoomsWithSubgroups(teachers) {\r\n    const roomMap = {};\r\n    const allSubgroups = new Set();\r\n    \r\n    // Сначала собираем все существующие подгруппы\r\n    teachers.forEach(t => {\r\n      if (t.subgroup) {\r\n        allSubgroups.add(t.subgroup);\r\n      }\r\n    });\r\n    \r\n    // Группируем аудитории по номерам и собираем подгруппы\r\n    teachers.forEach(t => {\r\n      if (t.room) {\r\n        if (!roomMap[t.room]) {\r\n          roomMap[t.room] = new Set();\r\n        }\r\n        if (t.subgroup) {\r\n          roomMap[t.room].add(t.subgroup);\r\n        }\r\n      }\r\n    });\r\n    \r\n    // Формируем итоговую строку\r\n    return Object.entries(roomMap)\r\n      .map(([room, subgroups]) => {\r\n        // Не показываем подгруппы если в аудитории занимаются все подгруппы\r\n        if (subgroups.size > 0 && subgroups.size !== allSubgroups.size) {\r\n          return `${room} (${Array.from(subgroups).join(', ')})`;\r\n        }\r\n        return room;\r\n      })\r\n      .join(', ');\r\n\r\n      \r\n  },\r\n},\r\n  watch: {\r\n    normalizedRows: {\r\n      immediate: true,\r\n      handler(rows) {\r\n        this.updateAvailableLessons(rows)\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>","<template>\r\n  <tr class=\"table__content-row\" :class=\"{'tg-theme': isTelegram}\" :data-theme=\"isDarkTheme ? 'dark' : 'light'\">\r\n    <td class=\"table__content-row-time\" v-html=\"row.time\"></td>\r\n    <td :class=\"['table__content-row-color', `table__content-row-color--${row.type}`]\"></td>\r\n    <td class=\"table__content-row-lesson\">\r\n      <span class=\"table__content-row-lesson--class\">{{ row.lesson }}</span><br>\r\n      <span class=\"table__content-row-lesson--details\" v-html=\"displayMainDetails\"></span>\r\n    </td>\r\n    <td class=\"table__content-row-room\">\r\n      <span class=\"table__content-row-room--num\" v-html=\"displayRoomDetails\"></span>\r\n      <div class=\"table__content-row-room-note-container\">\r\n        <svg v-if=\"hasNote && isLessonExists\" @click.stop=\"handleNoteClick\" @touchstart.stop=\"handleNoteClick\"\r\n          class=\"table__content-row-room-note\" width=\"18\" height=\"18\" viewBox=\"0 0 15 16\" fill=\"none\"\r\n          xmlns=\"http://www.w3.org/2000/svg\">\r\n          <path\r\n            d=\"M12.3333 8.33333V6.33333C12.3333 4.13333 12.3333 3.03333 11.65 2.35C10.9667 1.66667 9.86667 1.66667 7.66667 1.66667H5.66667C3.46667 1.66667 2.36667 1.66667 1.68333 2.35C1 3.03333 1 4.13333 1 6.33333V9.66667C1 11.8667 1 12.9667 1.68333 13.65C2.36667 14.3333 3.46667 14.3333 5.66667 14.3333H6.66667M10 1V2.33333M6.66667 1V2.33333M3.33333 1V2.33333M8.33333 13C8.33333 13 9 13 9.66667 14.3333C9.66667 14.3333 11.7847 11 13.6667 10.3333M4 9.66667H6.66667M4 6.33333H9.33333\"\r\n            stroke=\"var(--app-primary-color)\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\" />\r\n        </svg>\r\n      </div>\r\n    </td>\r\n  </tr>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters } from 'vuex'\r\n\r\nexport default {\r\n  name: 'ScheduleTableRow',\r\n  props: {\r\n    row: {\r\n      type: Object,\r\n      required: true\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      // Telegram\r\n      isTelegram: false,\r\n      isDarkTheme: false,\r\n      tgThemeParams: {}\r\n    }\r\n  },\r\n  created() {\r\n    // Проверяем, открыто ли приложение в Telegram\r\n    if (window.Telegram && window.Telegram.WebApp) {\r\n      this.isTelegram = true;\r\n      this.initTelegramTheme();\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters(['selectedDay', 'getNotes', 'searchType']),\r\n\r\n    isLessonExists() {\r\n      return this.row.lesson?.trim() !== ''\r\n    },\r\n\r\n    hasNote() {\r\n      const selectedDate = this.selectedDay?.originalDate?.toISOString().split('T')[0] || new Date().toISOString().split('T')[0]\r\n      return this.getNotes.some(note =>\r\n        note.lesson === this.row.lesson &&\r\n        note.time === this.row.time &&\r\n        note.date === selectedDate\r\n      )\r\n    },\r\n\r\n    displayTeachers() {\r\n      return this.row.teachers?.map(t => t.name).join(', ') || '';\r\n    },\r\n\r\n    displayGroups() {\r\n      if (this.searchType === 'teacher') {\r\n        // Для преподавателя: Группа (подгруппа)\r\n        const groups = {};\r\n        this.row.details?.forEach(d => {\r\n          if (d.group) {\r\n            const key = d.group + (d.subgroup ? `_${d.subgroup}` : '');\r\n            groups[key] = d.group + (d.subgroup ? ` (${d.subgroup})` : '');\r\n          }\r\n        });\r\n        return Object.values(groups).join(', ');\r\n      }\r\n\r\n      if (this.searchType === 'room') {\r\n        // Для аудитории: только уникальные группы без подгрупп и повторений\r\n        const groups = new Set();\r\n        this.row.details?.forEach(d => {\r\n          d.groups?.forEach(g => {\r\n            if (g.group) {\r\n              // Убираем номер подгруппы в скобках, если он есть\r\n              const baseGroup = g.group.split('(')[0];\r\n              groups.add(baseGroup);\r\n            }\r\n          });\r\n        });\r\n        return [...groups].join(', ');\r\n      }\r\n\r\n      return '';\r\n    },\r\n\r\n    displayRooms() {\r\n      if (this.searchType === 'group') {\r\n        return this.row.room || '';\r\n      }\r\n      if (this.searchType === 'teacher') {\r\n        return this.row.room || '';\r\n      }\r\n      return '';\r\n    },\r\n    \r\n    displayMainDetails() {\r\n      switch (this.searchType) {\r\n        case 'group':\r\n          // Для групп: преподаватели с подгруппами\r\n          return this.formatTeachersWithSubgroups(this.row.teachers);\r\n        case 'teacher':\r\n          // Для преподавателей: группы с подгруппами\r\n          return this.formatGroupsWithSubgroups(this.row.details);\r\n        case 'room':\r\n          // Для аудиторий: преподаватели с подгруппами\r\n          return this.formatTeachersWithSubgroups(this.row.details);\r\n        default:\r\n          return '';\r\n      }\r\n    },\r\n\r\n    displayRoomDetails() {\r\n      switch (this.searchType) {\r\n        case 'group':\r\n          // Для групп: все аудитории с подгруппами\r\n          return this.formatRoomsWithSubgroups(this.row.teachers);\r\n        case 'teacher':\r\n          // Для преподавателей: аудитории с подгруппами\r\n          return this.row.room || '';\r\n        case 'room':\r\n          // Для аудиторий: группы с подгруппами\r\n          return this.formatGroupsWithSubgroups(\r\n            this.row.details?.flatMap(d => d.groups || [])\r\n          );\r\n        default:\r\n          return '';\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    initTelegramTheme() {\r\n      const WebApp = window.Telegram.WebApp;\r\n      \r\n      this.tgThemeParams = WebApp.themeParams || {};\r\n      this.isDarkTheme = WebApp.colorScheme === 'dark';\r\n      this.applyTelegramTheme();\r\n      WebApp.onEvent('themeChanged', this.applyTelegramTheme);\r\n    },\r\n    \r\n    applyTelegramTheme() {\r\n      const WebApp = window.Telegram.WebApp;\r\n      this.isDarkTheme = WebApp.colorScheme === 'dark';\r\n      \r\n      // Обновляем CSS-переменные\r\n      document.documentElement.style.setProperty('--app-bg-color', this.tgThemeParams.bg_color || (this.isDarkTheme ? '#212529' : '#ffffff'));\r\n      document.documentElement.style.setProperty('--app-text-color', this.tgThemeParams.text_color || (this.isDarkTheme ? '#ffffff' : '#1E1E1E'));\r\n      document.documentElement.style.setProperty('--app-secondary-bg', this.tgThemeParams.secondary_bg_color || (this.isDarkTheme ? '#212529' : '#f4f4f5'));\r\n      document.documentElement.style.setProperty('--app-border-color', this.isDarkTheme ? '#444' : '#D9D9D9');\r\n      document.documentElement.style.setProperty('--app-primary-color', this.isDarkTheme ? '#3DB95E' : '#3DB95E');\r\n      document.documentElement.style.setProperty('--app-hint-color', this.tgThemeParams.hint_color || (this.isDarkTheme ? '#aaaaaa' : '#707579'));\r\n    },\r\n\r\n    handleNoteClick(e) {\r\n      if (!this.isLessonExists) {\r\n        e.preventDefault()\r\n        e.stopPropagation()\r\n        return\r\n      }\r\n      \r\n      e.preventDefault()\r\n      e.stopPropagation()\r\n\r\n      const selectedDate = this.selectedDay?.originalDate?.toISOString().split('T')[0] || new Date().toISOString().split('T')[0]\r\n      const note = this.getNotes.find(note =>\r\n        note.lesson === this.row.lesson &&\r\n        note.time === this.row.time &&\r\n        note.date === selectedDate\r\n      )\r\n\r\n      if (note) {\r\n        this.$store.dispatch('openNoteDialog', note.id)\r\n      }\r\n    },\r\n    \r\n    formatTeachersWithSubgroups(items) {\r\n      if (!items || !items.length) return '';\r\n      \r\n      return items.map(item => {\r\n        // Для поиска по аудиториям структура данных другая\r\n        const teacherName = item.name || item.teacher || '';\r\n        const subgroup = item.subgroup || \r\n                        (item.groups?.[0]?.subgroup) || \r\n                        '';\r\n        \r\n        if (!teacherName) return '';\r\n        \r\n        const nameParts = teacherName.split(' ');\r\n        const shortName = nameParts[0] + ' ' + \r\n                         (nameParts[1] ? nameParts[1][0] + '.' : '') + \r\n                         (nameParts[2] ? nameParts[2][0] + '.' : '');\r\n        \r\n        return subgroup ? `${teacherName}(${subgroup})` : teacherName;\r\n      }).filter(Boolean).join('<br>');\r\n    },\r\n\r\n    formatGroupsWithSubgroups(groups) {\r\n      if (!groups) return '';\r\n      \r\n      if (this.searchType === 'room') {\r\n        // Для аудиторий: только базовые группы без подгрупп\r\n        const uniqueGroups = new Set();\r\n        groups.forEach(g => {\r\n          if (g.group) {\r\n            // Убираем номер подгруппы в скобках, если он есть\r\n            const baseGroup = g.group.split('(')[0];\r\n            uniqueGroups.add(baseGroup);\r\n          }\r\n        });\r\n        return [...uniqueGroups].join('<br>');\r\n      }\r\n      \r\n      // Для других типов поиска оставляем как было\r\n      return groups.map(g => {\r\n        let str = g.group;\r\n        if (g.subgroup) str += `(${g.subgroup})`;\r\n        return str;\r\n      }).join('<br>');\r\n    },\r\n\r\n    formatRoomsWithSubgroups(items) {\r\n      if (!items) return '';\r\n      const roomMap = new Map();\r\n      const allSubgroups = new Set();\r\n\r\n      // Собираем все подгруппы\r\n      items.forEach(item => {\r\n        if (item.subgroup) {\r\n          allSubgroups.add(item.subgroup);\r\n        }\r\n      });\r\n\r\n      // Группируем по аудиториям\r\n      items.forEach(item => {\r\n        if (item.room) {\r\n          if (!roomMap.has(item.room)) {\r\n            roomMap.set(item.room, new Set());\r\n          }\r\n          if (item.subgroup) {\r\n            roomMap.get(item.room).add(item.subgroup);\r\n          }\r\n        }\r\n      });\r\n\r\n      // Формируем результат\r\n      return [...roomMap.entries()].map(([room, subgroups]) => {\r\n        // Не показываем подгруппы если в аудитории все подгруппы\r\n        return subgroups.size === allSubgroups.size ? room : `${room}(${[...subgroups].join(',')})`;\r\n      }).join('<br>');\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"sass\" scoped>\r\n@import \"@/assets/styles/variables.sass\"\r\n@import \"@/assets/styles/mixins.sass\"\r\n\r\n.table\r\n  width: 100%\r\n  min-height: 100%\r\n  background-color: $color-table-border\r\n  border-radius: 0.3rem 0.3rem 0 0\r\n  overflow: hidden\r\n  margin-bottom: 1.5rem\r\n  display: flex\r\n  flex-direction: column\r\n  \r\n  &__content\r\n    width: 100%\r\n    border-collapse: collapse\r\n    display: flex\r\n    flex-direction: column\r\n    \r\n    &-row\r\n      position: relative\r\n      display: flex\r\n      width: 100%\r\n      justify-content: space-between\r\n      align-items: flex-start\r\n      background-color: var(--app-bg-color)\r\n      border: solid 0.1rem var(--app-border-color)\r\n      \r\n      &-time\r\n        align-self: center\r\n        padding: 1.5rem 0.5rem\r\n        flex: 0 0 auto\r\n        color: var(--app-text-color)\r\n      \r\n      &-color\r\n        width: 0.75rem\r\n        flex: 0 0 auto\r\n        min-height: 5rem\r\n        align-self: stretch\r\n      \r\n      &-color--seminar\r\n        background-color: var(--app-border-color)\r\n      \r\n      &-color--lection\r\n        background-color: $color-orange\r\n      \r\n      &-lesson\r\n        padding: 0.5rem 0.8rem\r\n        flex: 1\r\n        \r\n        &--class,\r\n        &--teacher\r\n          white-space: normal\r\n          word-break: break-word\r\n          display: inline-block\r\n          width: 100%\r\n          color: var(--app-text-color)\r\n        \r\n        &--class\r\n          line-height: 1rem\r\n          margin-bottom: 0.2rem\r\n        \r\n        &--details\r\n          color: var(--app-primary-color)\r\n      \r\n      &-room\r\n        align-self: flex-start\r\n        text-align: center\r\n        padding: 0.5rem 0.3rem 0.5rem 0\r\n        flex: 0 0 auto\r\n        display: flex\r\n        flex-direction: column\r\n        align-items: flex-end\r\n        font-weight: 400\r\n        position: relative\r\n        \r\n        &--num\r\n          letter-spacing: -0.03rem\r\n          font-weight: 500\r\n          color: var(--app-text-color)\r\n        \r\n        &-note\r\n          width: 2.5rem\r\n          cursor: pointer\r\n          transition: transform .2s ease\r\n          touch-action: manipulation\r\n          -webkit-tap-highlight-color: transparent\r\n          \r\n          &:hover\r\n            transform: scale(1.1)\r\n          \r\n          &-container\r\n            display: flex\r\n            justify-content: flex-end\r\n            align-items: center\r\n            height: 100%\r\n            padding-top: 0.3rem\r\n            z-index: 1\r\n\r\n    tr\r\n      min-height: 5rem\r\n      height: auto !important\r\n      margin-top: -0.1rem\r\n\r\n    th,\r\n    td\r\n      font-size: 1rem\r\n      font-weight: 400\r\n      box-sizing: border-box\r\n      overflow-wrap: break-word\r\n      \r\n      @include respond(small-phone)\r\n        font-size: 0.8rem\r\n</style>","import { render } from \"./ScheduleTableRow.vue?vue&type=template&id=31de33d4&scoped=true\"\nimport script from \"./ScheduleTableRow.vue?vue&type=script&lang=js\"\nexport * from \"./ScheduleTableRow.vue?vue&type=script&lang=js\"\n\nimport \"./ScheduleTableRow.vue?vue&type=style&index=0&id=31de33d4&lang=sass&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-31de33d4\"]])\n\nexport default __exports__","import { render } from \"./ScheduleTableContent.vue?vue&type=template&id=03f1def6\"\nimport script from \"./ScheduleTableContent.vue?vue&type=script&lang=js\"\nexport * from \"./ScheduleTableContent.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./ScheduleTable.vue?vue&type=template&id=878bc67c&scoped=true\"\nimport script from \"./ScheduleTable.vue?vue&type=script&lang=js\"\nexport * from \"./ScheduleTable.vue?vue&type=script&lang=js\"\n\nimport \"./ScheduleTable.vue?vue&type=style&index=0&id=878bc67c&lang=sass&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-878bc67c\"]])\n\nexport default __exports__","<template>\r\n  <section class=\"btns\">\r\n    <button class=\"btn btn__sked\" @click=\"showFullSchedule\">Полное расписание\r\n      <span>\r\n        <svg class=\"btn__full-sked\" width=\"23\" height=\"23\" viewBox=\"0 0 23 23\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n              <g clip-path=\"url(#clip0_135_258)\">\r\n              <path d=\"M23 4.3125V20.125C23 20.8875 22.6971 21.6188 22.1579 22.1579C21.6188 22.6971 20.8875 23 20.125 23H2.875C2.1125 23 1.38124 22.6971 0.842068 22.1579C0.302901 21.6188 0 20.8875 0 20.125V2.875C0 2.1125 0.302901 1.38124 0.842068 0.842068C1.38124 0.302901 2.1125 0 2.875 0L20.125 0C20.8875 0 21.6188 0.302901 22.1579 0.842068C22.6971 1.38124 23 2.1125 23 2.875V4.3125ZM21.5625 4.3125V2.875C21.5625 2.49375 21.411 2.12812 21.1415 1.85853C20.8719 1.58895 20.5062 1.4375 20.125 1.4375H2.875C2.49375 1.4375 2.12812 1.58895 1.85853 1.85853C1.58895 2.12812 1.4375 2.49375 1.4375 2.875V4.3125H21.5625ZM21.5625 5.75H1.4375V20.125C1.4375 20.5062 1.58895 20.8719 1.85853 21.1415C2.12812 21.411 2.49375 21.5625 2.875 21.5625H20.125C20.5062 21.5625 20.8719 21.411 21.1415 21.1415C21.411 20.8719 21.5625 20.5062 21.5625 20.125V5.75ZM6.46875 8.625C6.65937 8.625 6.84219 8.70073 6.97698 8.83552C7.11177 8.97031 7.1875 9.15313 7.1875 9.34375C7.1875 9.53437 7.11177 9.71719 6.97698 9.85198C6.84219 9.98677 6.65937 10.0625 6.46875 10.0625H3.588C3.39738 10.0625 3.21456 9.98677 3.07977 9.85198C2.94498 9.71719 2.86925 9.53437 2.86925 9.34375C2.86925 9.15313 2.94498 8.97031 3.07977 8.83552C3.21456 8.70073 3.39738 8.625 3.588 8.625H6.46875ZM19.4062 8.625C19.5969 8.625 19.7797 8.70073 19.9145 8.83552C20.0493 8.97031 20.125 9.15313 20.125 9.34375C20.125 9.53437 20.0493 9.71719 19.9145 9.85198C19.7797 9.98677 19.5969 10.0625 19.4062 10.0625H10.7812C10.5906 10.0625 10.4078 9.98677 10.273 9.85198C10.1382 9.71719 10.0625 9.53437 10.0625 9.34375C10.0625 9.15313 10.1382 8.97031 10.273 8.83552C10.4078 8.70073 10.5906 8.625 10.7812 8.625H19.4062ZM6.46875 12.9375C6.65937 12.9375 6.84219 13.0132 6.97698 13.148C7.11177 13.2828 7.1875 13.4656 7.1875 13.6562C7.1875 13.8469 7.11177 14.0297 6.97698 14.1645C6.84219 14.2993 6.65937 14.375 6.46875 14.375H3.588C3.39738 14.375 3.21456 14.2993 3.07977 14.1645C2.94498 14.0297 2.86925 13.8469 2.86925 13.6562C2.86925 13.4656 2.94498 13.2828 3.07977 13.148C3.21456 13.0132 3.39738 12.9375 3.588 12.9375H6.46875ZM19.4062 12.9375C19.5969 12.9375 19.7797 13.0132 19.9145 13.148C20.0493 13.2828 20.125 13.4656 20.125 13.6562C20.125 13.8469 20.0493 14.0297 19.9145 14.1645C19.7797 14.2993 19.5969 14.375 19.4062 14.375H10.7812C10.5906 14.375 10.4078 14.2993 10.273 14.1645C10.1382 14.0297 10.0625 13.8469 10.0625 13.6562C10.0625 13.4656 10.1382 13.2828 10.273 13.148C10.4078 13.0132 10.5906 12.9375 10.7812 12.9375H19.4062ZM6.46875 17.25C6.65937 17.25 6.84219 17.3257 6.97698 17.4605C7.11177 17.5953 7.1875 17.7781 7.1875 17.9688C7.1875 18.1594 7.11177 18.3422 6.97698 18.477C6.84219 18.6118 6.65937 18.6875 6.46875 18.6875H3.588C3.39738 18.6875 3.21456 18.6118 3.07977 18.477C2.94498 18.3422 2.86925 18.1594 2.86925 17.9688C2.86925 17.7781 2.94498 17.5953 3.07977 17.4605C3.21456 17.3257 3.39738 17.25 3.588 17.25H6.46875ZM19.4062 17.25C19.5969 17.25 19.7797 17.3257 19.9145 17.4605C20.0493 17.5953 20.125 17.7781 20.125 17.9688C20.125 18.1594 20.0493 18.3422 19.9145 18.477C19.7797 18.6118 19.5969 18.6875 19.4062 18.6875H10.7812C10.5906 18.6875 10.4078 18.6118 10.273 18.477C10.1382 18.3422 10.0625 18.1594 10.0625 17.9688C10.0625 17.7781 10.1382 17.5953 10.273 17.4605C10.4078 17.3257 10.5906 17.25 10.7812 17.25H19.4062Z\" fill=\"white\"/>\r\n              </g>\r\n              <defs>\r\n              <clipPath id=\"clip0_135_258\">\r\n              <rect width=\"23\" height=\"23\" fill=\"white\"/>\r\n              </clipPath>\r\n              </defs>\r\n            </svg>\r\n      </span>\r\n    </button>\r\n    <button class=\"btn btn__sked\" @click=\"openAddNoteModal\" >Добавить заметку\r\n      <span>\r\n        <svg class=\"btn__note\" width=\"23\" height=\"25\" viewBox=\"0 0 23 25\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n              <path d=\"M19.7895 13.65V10.2C19.7895 6.405 19.7895 4.5075 18.6566 3.32875C17.5237 2.15 15.7 2.15 12.0526 2.15H8.73684C5.08947 2.15 3.26579 2.15 2.13289 3.32875C1 4.5075 1 6.405 1 10.2V15.95C1 19.745 1 21.6425 2.13289 22.8212C3.26579 24 5.08947 24 8.73684 24H10.3947M15.9211 1V3.3M10.3947 1V3.3M4.86842 1V3.3M13.1579 21.7C13.1579 21.7 14.2632 21.7 15.3684 24C15.3684 24 18.8798 18.25 22 17.1M5.97368 15.95H10.3947M5.97368 10.2H14.8158\" stroke=\"white\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n            </svg>\r\n      </span>\r\n    </button>\r\n    <FullScheduleModal v-if=\"showModal\" @close=\"showModal = false\" />\r\n  </section>\r\n</template>\r\n\r\n<script>\r\nimport { mapActions } from \"vuex\"\r\nimport FullScheduleModal from \"@/components/FullScheduleModal.vue\"\r\n\r\nexport default {\r\n  name: 'Buttons',\r\n  components: {\r\n    FullScheduleModal\r\n  },\r\n  data() {\r\n    return {\r\n      showModal: false\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapActions(['openAddNoteModal', 'fetchFullWeekSchedule']), // Добавляем действие\r\n    async showFullSchedule() {\r\n      try {\r\n        // Загружаем данные перед открытием модального окна\r\n        await this.fetchFullWeekSchedule()\r\n        this.showModal = true\r\n      } catch (error) {\r\n        console.error('Ошибка загрузки расписания:', error)\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"sass\">\r\n@import \"@/assets/styles/variables.sass\"\r\n\r\n.btns\r\n  display: flex\r\n  flex-wrap: nowrap\r\n  justify-content: space-between\r\n  gap: 1rem\r\n  max-height: 3rem\r\n  margin-bottom: 5rem\r\n\r\n.btn\r\n  position: relative\r\n  display: flex\r\n  flex-wrap: nowrap\r\n  font-size: 1.2rem\r\n  font-weight: 400\r\n  letter-spacing: -0.02rem\r\n  align-items: center\r\n  background-color: $color-light-green\r\n  border: none\r\n  border-radius: 0.3rem\r\n  color: $color-white\r\n  padding: 0.7rem\r\n  gap: 0.7rem\r\n  justify-content: space-evenly\r\n  cursor: pointer\r\n  transition: all .2s ease\r\n\r\n  // Hover-эффекты только для устройств с мышью\r\n  @media (hover: hover) and (pointer: fine)\r\n    &:hover\r\n      background-color: rgba(255, 255, 255, 0.2)\r\n      box-shadow: 0 .2rem 1rem rgba(0,0,0,0.1)\r\n      color: $color-light-green\r\n      .btn__full-sked path\r\n        fill: $color-light-green\r\n      .btn__note path\r\n        stroke: $color-light-green\r\n\r\n  &__sked\r\n    min-width: 45%\r\n\r\n  &__full-sked\r\n    width: 1.5rem\r\n\r\n  &__note\r\n    width: 1.5rem\r\n\r\n  &__notes\r\n    position: absolute\r\n    right: 2rem\r\n    bottom: 7rem\r\n</style>","<template>\r\n  <div class=\"full-schedule-modal\" @click.self=\"closeModal\" :class=\"{ 'tg-theme': isTelegram, 'tg-dark': isDarkTheme }\">\r\n    <div class=\"modal-content\">\r\n      <div class=\"modal-header\">\r\n        <h2 class=\"table__title\">Расписание на неделю (Неделя {{ currentWeekNumber }})</h2>\r\n        <button class=\"close-btn\" @click=\"closeModal\">\r\n          <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n            <path d=\"M18 6L6 18M6 6L18 18\" :stroke=\"isTelegram ? 'var(--tg-button-text-color)' : '#FFFFFF'\"\r\n              stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" />\r\n          </svg>\r\n        </button>\r\n      </div>\r\n      <div class=\"modal-body\">\r\n        <div v-if=\"isLoading\" class=\"loading\">Загрузка...</div>\r\n        <div v-else class=\"week-schedule\">\r\n          <div v-for=\"(day, dayIndex) in weekDays\" :key=\"dayIndex\" class=\"table\">\r\n            <h3 class=\"table__title\">{{ day.fullName }}</h3>\r\n            <div class=\"table__content\">\r\n              <div v-for=\"(row, rowIndex) in getTimeSlotsForDay(dayIndex)\" :key=\"rowIndex\" class=\"table__content-row\">\r\n                <div class=\"table__content-row-time\" v-html=\"row.time\"></div>\r\n                <div\r\n                  :class=\"['table__content-row-color', `table__content-row-color--${getTypeForLesson(dayIndex, row.time)}`]\">\r\n                </div>\r\n                <div class=\"table__content-row-lesson\">\r\n                  <span class=\"table__content-row-lesson--class\">{{ getLessonName(dayIndex, row.time) }}</span>\r\n                  <span :class=\"[\r\n                    'table__content-row-lesson--details',\r\n                    'green-text'\r\n                  ]\" v-html=\"getMainDetails(dayIndex, row.time)\"></span>\r\n                </div>\r\n                <div class=\"table__content-row-room\">\r\n                  <span :class=\"[\r\n                    'table__content-row-room--num',\r\n                  ]\" v-html=\"getRoomDetails(dayIndex, row.time)\"></span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters, mapActions } from 'vuex'\r\n\r\nconst defaultRows = [\r\n  { time: '08:00<br>09:30', type: 'seminar' },\r\n  { time: '09:45<br>11:15', type: 'seminar' },\r\n  { time: '11:30<br>13:00', type: 'seminar' },\r\n  { time: '13:50<br>15:20', type: 'seminar' },\r\n  { time: '15:35<br>17:05', type: 'seminar' },\r\n  { time: '17:20<br>18:50', type: 'seminar' },\r\n]\r\n\r\nconst saturdayRows = [\r\n  { time: '08:00<br>09:30', type: 'seminar' },\r\n  { time: '09:45<br>11:15', type: 'seminar' },\r\n  { time: '11:30<br>13:00', type: 'seminar' },\r\n  { time: '13:15<br>14:45', type: 'seminar' },\r\n  { time: '15:00<br>16:30', type: 'seminar' },\r\n  { time: '16:45<br>18:15', type: 'seminar' },\r\n]\r\n\r\nexport default {\r\n  name: 'FullScheduleModal',\r\n  data() {\r\n    return {\r\n      weekDays: [\r\n        { shortName: 'Пн', fullName: 'Понедельник' },\r\n        { shortName: 'Вт', fullName: 'Вторник' },\r\n        { shortName: 'Ср', fullName: 'Среда' },\r\n        { shortName: 'Чт', fullName: 'Четверг' },\r\n        { shortName: 'Пт', fullName: 'Пятница' },\r\n        { shortName: 'Сб', fullName: 'Суббота' }\r\n      ],\r\n      isLoading: false,\r\n      // Telegram\r\n      isTelegram: false,\r\n      isDarkTheme: false,\r\n      tgThemeParams: {}\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters([\r\n      'currentWeekSchedule',\r\n      'currentWeekNumber',\r\n      'searchType'\r\n    ])\r\n  },\r\n  methods: {\r\n    ...mapActions(['fetchFullWeekSchedule']),\r\n\r\n    initTelegramTheme() {\r\n      const WebApp = window.Telegram.WebApp;\r\n\r\n      // Получаем параметры темы\r\n      this.tgThemeParams = WebApp.themeParams || {};\r\n      this.isDarkTheme = WebApp.colorScheme === 'dark';\r\n\r\n      // Применяем тему\r\n      this.applyTelegramTheme();\r\n\r\n      // Подписываемся на изменение темы\r\n      WebApp.onEvent('themeChanged', this.applyTelegramTheme);\r\n    },\r\n\r\n    applyTelegramTheme() {\r\n      const WebApp = window.Telegram.WebApp;\r\n      this.isDarkTheme = WebApp.colorScheme === 'dark';\r\n\r\n      // Обновляем CSS-переменные\r\n      document.documentElement.style.setProperty('--tg-bg-color', this.tgThemeParams.bg_color || '#ffffff');\r\n      document.documentElement.style.setProperty('--tg-text-color', this.tgThemeParams.text_color || '#000000');\r\n      document.documentElement.style.setProperty('--tg-button-color', this.tgThemeParams.button_color || '#2481cc');\r\n      document.documentElement.style.setProperty('--tg-button-text-color', this.tgThemeParams.button_text_color || '#ffffff');\r\n      document.documentElement.style.setProperty('--tg-hint-color', this.tgThemeParams.hint_color || '#707579');\r\n      document.documentElement.style.setProperty('--tg-link-color', this.tgThemeParams.link_color || '#168acd');\r\n      document.documentElement.style.setProperty('--tg-secondary-bg-color', this.tgThemeParams.secondary_bg_color || '#f4f4f5');\r\n    },\r\n\r\n    closeModal() {\r\n      this.$emit('close')\r\n    },\r\n\r\n    getTimeSlotsForDay(dayIndex) {\r\n      return dayIndex === 5 ? saturdayRows : defaultRows\r\n    },\r\n\r\n    getLessonsForDay(dayIndex) {\r\n      return this.currentWeekSchedule[dayIndex] || []\r\n    },\r\n\r\n    getLessonForDay(dayIndex, time) {\r\n      const lessons = this.getLessonsForDay(dayIndex)\r\n      return lessons.find(lesson => lesson.time === time) || null\r\n    },\r\n\r\n    getLessonName(dayIndex, time) {\r\n      const lesson = this.getLessonForDay(dayIndex, time)\r\n      return lesson?.name || lesson?.lesson || ''\r\n    },\r\n\r\n    getTypeForLesson(dayIndex, time) {\r\n      const lesson = this.getLessonForDay(dayIndex, time)\r\n      return lesson?.type || 'seminar'\r\n    },\r\n\r\n    getMainDetails(dayIndex, time) {\r\n      const lesson = this.getLessonForDay(dayIndex, time)\r\n      if (!lesson) return ''\r\n\r\n      switch (this.searchType) {\r\n        case 'group':\r\n          return this.formatTeachersWithSubgroups(lesson.teachers || [])\r\n        case 'teacher':\r\n          return this.formatGroupsWithSubgroups(lesson.details || [])\r\n        case 'room':\r\n          return this.formatTeachersWithSubgroups(lesson.details || [])\r\n        default:\r\n          return ''\r\n      }\r\n    },\r\n\r\n    getRoomDetails(dayIndex, time) {\r\n      const lesson = this.getLessonForDay(dayIndex, time)\r\n      if (!lesson) return ''\r\n\r\n      switch (this.searchType) {\r\n        case 'group':\r\n          return this.formatRoomsWithSubgroups(lesson.teachers || [])\r\n        case 'teacher':\r\n          return lesson.room || ''\r\n        case 'room':\r\n          return this.formatGroupsWithSubgroups(\r\n            lesson.details?.flatMap(d => d.groups || []) || []\r\n          )\r\n        default:\r\n          return ''\r\n      }\r\n    },\r\n\r\n    formatTeachersWithSubgroups(items) {\r\n      if (!items || !items.length) return ''\r\n\r\n      // Сначала собираем всех уникальных преподавателей\r\n      const uniqueTeachers = new Map()\r\n\r\n      items.forEach(item => {\r\n        const teacherName = item.name || item.teacher || ''\r\n        if (!teacherName) return\r\n\r\n        const subgroup = item.subgroup || (item.groups?.[0]?.subgroup) || ''\r\n\r\n        if (!uniqueTeachers.has(teacherName)) {\r\n          uniqueTeachers.set(teacherName, new Set())\r\n        }\r\n        if (subgroup) {\r\n          uniqueTeachers.get(teacherName).add(subgroup)\r\n        }\r\n      })\r\n\r\n      // Формируем строку для каждого преподавателя\r\n      const result = []\r\n      uniqueTeachers.forEach((subgroups, teacherName) => {\r\n        const nameParts = teacherName.split(' ')\r\n        const shortName = nameParts[0] + ' ' +\r\n          (nameParts[1] ? nameParts[1][0] + '.' : '') +\r\n          (nameParts[2] ? nameParts[2][0] + '.' : '')\r\n\r\n        if (subgroups.size > 0) {\r\n          result.push(`${teacherName}(${[...subgroups].join(',')})`)\r\n        } else {\r\n          result.push(teacherName)\r\n        }\r\n      })\r\n\r\n      return result.join('<br>')\r\n    },\r\n\r\n    formatGroupsWithSubgroups(groups) {\r\n      if (!groups) return ''\r\n\r\n      if (this.searchType === 'room') {\r\n        const uniqueGroups = new Set()\r\n        groups.forEach(g => {\r\n          if (g.group) {\r\n            const baseGroup = g.group.split('(')[0]\r\n            uniqueGroups.add(baseGroup)\r\n          }\r\n        })\r\n        return [...uniqueGroups].join('<br>')\r\n      }\r\n\r\n      return groups.map(g => {\r\n        let str = g.group\r\n        if (g.subgroup) str += `(${g.subgroup})`\r\n        return str\r\n      }).join('<br>')\r\n    },\r\n\r\n    formatRoomsWithSubgroups(items) {\r\n      if (!items) return '';\r\n\r\n      // Собираем все уникальные аудитории\r\n      const roomMap = new Map();\r\n\r\n      items.forEach(item => {\r\n        if (item.room) {\r\n          if (!roomMap.has(item.room)) {\r\n            roomMap.set(item.room, new Set());\r\n          }\r\n          if (item.subgroup) {\r\n            roomMap.get(item.room).add(item.subgroup);\r\n          }\r\n        }\r\n      });\r\n\r\n      // Формируем строки для аудиторий\r\n      const result = [];\r\n      roomMap.forEach((subgroups, room) => {\r\n        // Добавляем подгруппы только если они не охватывают все возможные\r\n        if (subgroups.size > 0) {\r\n          // Проверяем, есть ли все подгруппы (1 и 2)\r\n          const hasAllSubgroups = subgroups.has(1) && subgroups.has(2);\r\n          result.push(hasAllSubgroups ? room : `${room}(${[...subgroups].join(',')})`);\r\n        } else {\r\n          result.push(room);\r\n        }\r\n      });\r\n\r\n      return result.join('<br>');\r\n    }\r\n  },\r\n  async created() {\r\n    if (window.Telegram && window.Telegram.WebApp) {\r\n      this.isTelegram = true;\r\n      this.initTelegramTheme();\r\n    }\r\n\r\n    this.isLoading = true;\r\n    try {\r\n      // Проверяем, есть ли уже загруженные данные\r\n      const hasData = Object.values(this.currentWeekSchedule).some(day => day.length > 0);\r\n\r\n      // Загружаем только если данных нет\r\n      if (!hasData) {\r\n        await this.fetchFullWeekSchedule();\r\n      }\r\n    } catch (error) {\r\n      console.error('Ошибка загрузки расписания:', error);\r\n    } finally {\r\n      this.isLoading = false;\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"sass\" scoped>\r\n@import \"@/assets/styles/variables.sass\"\r\n@import \"@/assets/styles/mixins.sass\"\r\n\r\n.full-schedule-modal\r\n  position: fixed\r\n  top: 0\r\n  left: 0\r\n  right: 0\r\n  bottom: 0\r\n  background-color: rgba(0, 0, 0, 0.5)\r\n  display: flex\r\n  justify-content: center\r\n  align-items: center\r\n  z-index: 1000\r\n  overflow: auto\r\n  .tg-theme &\r\n    background-color: rgba(0, 0, 0, 0.7)\r\n\r\n.modal-content\r\n  background-color: $color-white\r\n  width: 100%\r\n  max-width: 40rem\r\n  align-self: flex-start\r\n  height: calc(100vh - #{$header-height} - #{$footer-height} + 8rem)\r\n  display: flex\r\n  flex-direction: column\r\n  overflow: hidden\r\n  border-radius: 0.8rem\r\n  .tg-theme.tg-dark &\r\n    background-color: var(--tg-bg-color)\r\n  \r\n  &::-webkit-scrollbar\r\n    width: .6rem\r\n  &::-webkit-scrollbar-track\r\n    background: rgba(0, 0, 0, 0.05)\r\n    border-radius: .3rem\r\n    .tg-theme.tg-dark &\r\n      background: rgba(255, 255, 255, 0.1)\r\n  &::-webkit-scrollbar-thumb\r\n    background: $color-light-green\r\n    border-radius: .3rem\r\n\r\n.close-btn\r\n  background: none\r\n  border: none\r\n  cursor: pointer\r\n  z-index: 10\r\n  padding: 0.5rem\r\n\r\n.modal-header\r\n  display: flex\r\n  justify-content: space-between\r\n  padding: 1rem\r\n  background-color: $color-light-green\r\n  color: white\r\n  border-radius: 0.8rem 0.8rem 0 0\r\n  \r\n  h2\r\n    font-size: 1.5rem\r\n    font-weight: 400\r\n    margin: 0\r\n    .tg-theme &\r\n      color: var(--tg-button-text-color)\r\n\r\n.modal-body\r\n  flex: 1\r\n  overflow-y: auto\r\n  padding: 1.5rem 1.5rem 4rem 1.5rem\r\n  &::-webkit-scrollbar\r\n    width: .6rem\r\n  &::-webkit-scrollbar-track\r\n    background: rgba(0, 0, 0, 0.05)\r\n    border-radius: 3px\r\n    .tg-theme.tg-dark &\r\n      background: rgba(255, 255, 255, 0.1)\r\n  &::-webkit-scrollbar-thumb\r\n    background: $color-light-green\r\n    border-radius: 3px\r\n\r\n.week-schedule\r\n  display: grid\r\n  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr))\r\n  gap: 1.5rem\r\n\r\n.loading\r\n  text-align: center\r\n  padding: 2rem\r\n  font-size: 1.2rem\r\n  .tg-theme.tg-dark &\r\n    color: var(--tg-text-color)\r\n\r\n.table\r\n  width: 100%\r\n  min-height: 100%\r\n  background-color: $color-table-border\r\n  border-radius: 0.3rem 0.3rem 0 0\r\n  overflow: hidden\r\n  display: flex\r\n  flex-direction: column\r\n  .tg-theme.tg-dark &\r\n    background-color: var(--tg-hint-color)\r\n  \r\n  &__title\r\n    font-size: 1.2rem\r\n    font-weight: 400\r\n    padding: 0.5rem 1rem\r\n    background-color: $color-light-green\r\n    color: $color-white\r\n  &__content\r\n    width: 100%\r\n    border-collapse: collapse\r\n    display: flex\r\n    flex-direction: column\r\n    \r\n    &-row\r\n      position: relative\r\n      display: flex\r\n      width: 100%\r\n      justify-content: space-between\r\n      align-items: flex-start\r\n      min-height: 5rem\r\n      height: auto !important\r\n      background-color: white\r\n      border: solid 0.1rem $color-table-border\r\n      margin-top: -0.1rem\r\n      .tg-theme.tg-dark &\r\n        background-color: var(--tg-bg-color)\r\n        border-color: var(--tg-hint-color)\r\n      \r\n      &-time\r\n        align-self: center\r\n        padding: 1.5rem 0.5rem\r\n        flex: 0 0 auto\r\n        font-size: 1rem\r\n        font-weight: 400\r\n        box-sizing: border-box\r\n        overflow-wrap: break-word\r\n        .tg-theme.tg-dark &\r\n          color: var(--tg-text-color)\r\n        @include respond(small-phone)\r\n          font-size: 0.8rem\r\n      \r\n      &-color\r\n        width: 0.75rem\r\n        flex: 0 0 auto\r\n        min-height: 5rem\r\n        align-self: stretch\r\n      \r\n      &-color--seminar\r\n        background-color: $color-table-border\r\n        .tg-theme.tg-dark &\r\n          background-color: var(--tg-hint-color)\r\n      \r\n      &-color--lection\r\n        background-color: $color-orange\r\n      \r\n      &-lesson\r\n        padding: 0.5rem 0.8rem\r\n        flex: 1\r\n        &--class,\r\n        &--details\r\n          white-space: normal\r\n          word-break: break-word\r\n          display: inline-block\r\n          width: 100%\r\n          font-size: 1rem\r\n          font-weight: 400\r\n          box-sizing: border-box\r\n          @include respond(small-phone)\r\n            font-size: 0.8rem\r\n        \r\n        &--class\r\n          line-height: 1rem\r\n          margin-bottom: 0.2rem\r\n      \r\n      &-room\r\n        align-self: flex-start\r\n        text-align: center\r\n        padding: 0.5rem 0.3rem 0.5rem 0\r\n        flex: 0 0 auto\r\n        display: flex\r\n        flex-direction: column\r\n        align-items: flex-end\r\n        position: relative\r\n        font-size: 1rem\r\n        font-weight: 400\r\n        box-sizing: border-box\r\n        .tg-theme.tg-dark &\r\n          color: var(--tg-text-color)\r\n        @include respond(small-phone)\r\n          font-size: 0.8rem\r\n        \r\n        &--num\r\n          letter-spacing: -0.03rem\r\n\r\n.green-text\r\n  color: $color-light-green\r\n</style>","import { render } from \"./FullScheduleModal.vue?vue&type=template&id=5ed3acb8&scoped=true\"\nimport script from \"./FullScheduleModal.vue?vue&type=script&lang=js\"\nexport * from \"./FullScheduleModal.vue?vue&type=script&lang=js\"\n\nimport \"./FullScheduleModal.vue?vue&type=style&index=0&id=5ed3acb8&lang=sass&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-5ed3acb8\"]])\n\nexport default __exports__","import { render } from \"./Buttons.vue?vue&type=template&id=363e205e\"\nimport script from \"./Buttons.vue?vue&type=script&lang=js\"\nexport * from \"./Buttons.vue?vue&type=script&lang=js\"\n\nimport \"./Buttons.vue?vue&type=style&index=0&id=363e205e&lang=sass\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./sked.vue?vue&type=template&id=57aa9174\"\nimport script from \"./sked.vue?vue&type=script&lang=js\"\nexport * from \"./sked.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div class=\"notes\" :class=\"{'tg-theme': isTelegram}\" :data-theme=\"isDarkTheme ? 'dark' : 'light'\">\r\n    <Header title=\"Заметки\"/>\r\n    <div v-if=\"notes.length > 0\" class=\"notes-list\">\r\n      <div\r\n          v-for=\"note in sortedNotes\"\r\n          :key=\"note.id\"\r\n          class=\"note-item\"\r\n          :class=\"{ 'note-item--active': note.id === activeNoteId }\"\r\n          :data-note-id=\"note.id\"\r\n      >\r\n        <div class=\"note-header\">\r\n          <div class=\"note-meta\">\r\n            <span class=\"note-date\">{{ formatDate(note.date) }}</span>\r\n            <span class=\"note-time\">{{ note.time }}</span>\r\n          </div>\r\n          <div class=\"note-actions\">\r\n            <button\r\n                @click=\"startEditing(note)\"\r\n                class=\"note-edit-btn\"\r\n            >\r\n              <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                <path d=\"M8 13.3333H14M11 2.33333L13.6667 5L5.66667 13H3V10.3333L11 2.33333Z\" stroke=\"#3DB95E\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n              </svg>\r\n            </button>\r\n            <button @click=\"deleteNote(note.id)\" class=\"note-delete-btn\">\r\n              <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                <path d=\"M4 12L12 4M4 4L12 12\" stroke=\"#FF3B30\" stroke-width=\"1.5\" stroke-linecap=\"round\"/>\r\n              </svg>\r\n            </button>\r\n          </div>\r\n        </div>\r\n        <div class=\"note-content-wrapper\">\r\n          <h3 class=\"note-lesson\">{{ note.lesson }}</h3>\r\n          <div class=\"note-details\">\r\n            <span class=\"note-teacher\">{{ note.teacher }}</span>\r\n            <span class=\"note-room\">{{ note.room }}</span>\r\n          </div>\r\n          <div v-if=\"editingNote && editingNote.id === note.id\" class=\"note-edit\">\r\n            <textarea\r\n                v-model=\"editingNote.content\"\r\n                class=\"note-edit-textarea\"\r\n                placeholder=\"Введите текст заметки...\"\r\n                ref=\"textarea\"\r\n            ></textarea>\r\n            <div class=\"note-edit-actions\">\r\n              <button @click=\"cancelEditing\" class=\"note-edit-cancel\">Отмена</button>\r\n              <button @click=\"saveNote\" class=\"note-edit-save\">Сохранить</button>\r\n            </div>\r\n          </div>\r\n          <div v-else class=\"note-content\">\r\n            {{ note.content || 'Нет текста заметки' }}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div v-else class=\"notes-empty\">\r\n      У вас пока нет заметок\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters, mapActions } from 'vuex'\r\nimport Header from \"@/components/header.vue\"\r\n\r\nexport default {\r\n  name: 'Notes',\r\n  components: { Header },\r\n  data() {\r\n    return {\r\n      editingNote: null,\r\n      highlightTimeout: null,\r\n      isTelegram: false,\r\n      isDarkTheme: false,\r\n      tgThemeParams: {}\r\n    }\r\n  },\r\n  created() {\r\n    // Проверяем, открыто ли приложение в Telegram\r\n    if (window.Telegram && window.Telegram.WebApp) {\r\n      this.isTelegram = true;\r\n      this.initTelegramTheme();\r\n      this.setupTelegramBackButton();\r\n      window.Telegram.WebApp.expand();\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters(['getNotes', 'activeNoteId']),\r\n    notes() {\r\n      // Форматируем время для всех заметок\r\n      return this.getNotes.map(note => ({\r\n        ...note,\r\n        time: note.time.replace('<br>', ' - ')\r\n      }))\r\n    },\r\n    sortedNotes() {\r\n      return [...this.notes].sort((a, b) => {\r\n        const dateA = new Date(a.date)\r\n        const dateB = new Date(b.date)\r\n        return dateB - dateA || a.time.localeCompare(b.time)\r\n      })\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapActions(['updateNote', 'deleteNote']),\r\n    initTelegramTheme() {\r\n      const WebApp = window.Telegram.WebApp;\r\n      this.tgThemeParams = WebApp.themeParams || {};\r\n      this.isDarkTheme = WebApp.colorScheme === 'dark';\r\n      this.applyTelegramTheme();\r\n      WebApp.onEvent('themeChanged', this.applyTelegramTheme);\r\n    },\r\n    applyTelegramTheme() {\r\n      const WebApp = window.Telegram.WebApp;\r\n      this.isDarkTheme = WebApp.colorScheme === 'dark';\r\n      document.documentElement.style.setProperty('--tg-bg-color', this.tgThemeParams.bg_color || (this.isDarkTheme ? '#18222d' : '#ffffff'));\r\n      document.documentElement.style.setProperty('--tg-text-color', this.tgThemeParams.text_color || (this.isDarkTheme ? '#ffffff' : '#000000'));\r\n      document.documentElement.style.setProperty('--tg-button-color', this.tgThemeParams.button_color || '#2481cc');\r\n      document.documentElement.style.setProperty('--tg-button-text-color', this.tgThemeParams.button_text_color || '#ffffff');\r\n      document.documentElement.style.setProperty('--tg-hint-color', this.tgThemeParams.hint_color || (this.isDarkTheme ? '#aaaaaa' : '#707579'));\r\n      document.documentElement.style.setProperty('--tg-link-color', this.tgThemeParams.link_color || '#168acd');\r\n      document.documentElement.style.setProperty('--tg-secondary-bg-color', this.tgThemeParams.secondary_bg_color || (this.isDarkTheme ? '#212529' : '#f4f4f5'));\r\n    },\r\n    setupTelegramBackButton() {\r\n      const WebApp = window.Telegram.WebApp;\r\n      WebApp.BackButton.show();\r\n      WebApp.BackButton.onClick(() => {\r\n        WebApp.close();\r\n      });\r\n    },\r\n    formatDate(dateString) {\r\n      const date = new Date(dateString)\r\n      const days = ['Вс', 'Пн', 'Вт', 'Ср', 'Чт', 'Пт', 'Сб']\r\n      const dayName = days[date.getDay()]\r\n      const formattedDate = date.toLocaleDateString('ru-RU', {\r\n        day: 'numeric',\r\n        month: 'long',\r\n        year: 'numeric'\r\n      })\r\n      return `${dayName}, ${formattedDate}`\r\n    },\r\n    startEditing(note) {\r\n      this.editingNote = { ...note }\r\n      this.$nextTick(() => {\r\n        const textarea = this.$el.querySelector(`[data-note-id=\"${note.id}\"] textarea`)\r\n        if (textarea) {\r\n          textarea.focus()\r\n        }\r\n      })\r\n    },\r\n    cancelEditing() {\r\n      this.editingNote = null\r\n    },\r\n    async saveNote() {\r\n      if (this.editingNote) {\r\n        // Проверяем, содержит ли текст \"Нет текста заметки\"\r\n        if (this.editingNote.content && this.editingNote.content.trim() === 'Нет текста заметки') {\r\n          this.editingNote.content = 'Ну и зачем ты это пишешь ;(|'\r\n        }\r\n\r\n        await this.updateNote(this.editingNote)\r\n        this.editingNote = null\r\n      }\r\n    },\r\n    clearHighlightTimer() {\r\n      if (this.highlightTimeout) {\r\n        clearTimeout(this.highlightTimeout)\r\n        this.highlightTimeout = null\r\n      }\r\n    }\r\n  },\r\n  beforeUnmount() {\r\n    this.clearHighlightTimer()\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"sass\" scoped>\r\n@import \"@/assets/styles/variables.sass\"\r\n\r\n.notes\r\n  display: flex\r\n  flex-direction: column\r\n  height: calc(100vh - #{$header-height} - #{$footer-height} - 2rem)\r\n  width: 100%\r\n  background: var(--tg-secondary-bg-color)\r\n  overflow: hidden\r\n  padding: 1.5rem\r\n  color: var(--tg-text-color)\r\n\r\n  &.tg-theme\r\n    background: var(--tg-secondary-bg-color)\r\n    color: var(--tg-text-color)\r\n\r\n.notes-list\r\n  display: flex\r\n  flex-direction: column\r\n  gap: 1rem\r\n  flex: 1\r\n  overflow-y: auto\r\n  padding-right: 0.5rem\r\n\r\n  // Стили для скроллбара в Telegram теме\r\n  .tg-theme &\r\n    &::-webkit-scrollbar\r\n      width: .4rem\r\n    &::-webkit-scrollbar-track\r\n      background: rgba($tg-text, 0.05)\r\n      border-radius: .3rem\r\n    &::-webkit-scrollbar-thumb\r\n      background: $color-light-green\r\n      border-radius: .3rem\r\n\r\n.note-item\r\n  +telegram-element\r\n  transition: all 0.3s ease\r\n  box-shadow: none\r\n  margin-bottom: 0\r\n  border-left: 3px solid transparent\r\n\r\n  .tg-theme &\r\n    background-color: var(--tg-bg-color)\r\n    color: var(--tg-text-color)\r\n\r\n  &--active\r\n    position: relative\r\n    border-left-color: $color-light-green\r\n    background-color: rgba($color-light-green, 0.1)\r\n    animation: pulse-highlight 3s ease-out forwards\r\n\r\n    .tg-theme &\r\n      background-color: rgba($color-light-green, 0.2)\r\n\r\n@keyframes pulse-highlight\r\n  0%\r\n    background-color: rgba($color-light-green, 0.2)\r\n    border-left-color: $color-light-green\r\n  70%\r\n    background-color: rgba($color-light-green, 0.1)\r\n    border-left-color: $color-light-green\r\n  100%\r\n    background-color: var(--tg-bg-color)\r\n    border-left-color: transparent\r\n\r\n.note-header\r\n  display: flex\r\n  justify-content: space-between\r\n  align-items: center\r\n  margin-bottom: 0.8rem\r\n\r\n.note-meta\r\n  display: flex\r\n  flex-direction: column\r\n  gap: 0.3rem\r\n  font-size: 0.85rem\r\n  color: var(--tg-hint-color)\r\n\r\n.note-date\r\n  font-weight: 600\r\n  font-size: 1.1rem\r\n  color: var(--tg-text-color)\r\n\r\n.note-time\r\n  color: $color-light-green\r\n  font-size: 1.1rem\r\n  font-weight: 600\r\n\r\n.note-content-wrapper\r\n  display: flex\r\n  flex-direction: column\r\n  gap: 0.5rem\r\n\r\n.note-lesson\r\n  font-size: 1.2rem\r\n  font-weight: 500\r\n  color: var(--tg-text-color)\r\n  margin: 0\r\n\r\n.note-details\r\n  display: flex\r\n  gap: 1rem\r\n  font-size: 0.9rem\r\n  color: var(--tg-hint-color)\r\n\r\n.note-teacher\r\n  font-size: 1rem\r\n  color: $color-light-green\r\n\r\n.note-room\r\n  font-size: 1rem\r\n  color: var(--tg-hint-color)\r\n  &::before\r\n    content: \"•\"\r\n    margin-right: 0.5rem\r\n    color: var(--tg-hint-color)\r\n\r\n.note-actions\r\n  display: flex\r\n  gap: 0.5rem\r\n\r\n.note-edit-btn,\r\n.note-delete-btn\r\n  background: none\r\n  border: none\r\n  cursor: pointer\r\n  padding: 0.3rem\r\n  display: flex\r\n  align-items: center\r\n  justify-content: center\r\n  border-radius: 50%\r\n  transition: background 0.2s ease\r\n\r\n  .tg-theme &\r\n    &:hover\r\n      background: rgba(var(--tg-text-color), 0.1)\r\n\r\n.note-edit-btn svg path\r\n  stroke: $color-light-green\r\n\r\n.note-delete-btn svg path\r\n  stroke: $color-error\r\n\r\n.note-content\r\n  color: var(--tg-text-color)\r\n  white-space: pre-line\r\n  line-height: 1.5\r\n  padding-top: 0.5rem\r\n  border-top: 1px solid rgba(var(--tg-text-color), 0.1)\r\n  font-size: 1.1rem\r\n\r\n  .tg-theme &\r\n    color: var(--tg-text-color)\r\n\r\n.note-edit\r\n  margin-top: 1rem\r\n\r\n.note-edit-textarea\r\n  width: 100%\r\n  min-height: 5rem\r\n  max-height: 15rem\r\n  padding: 0.8rem\r\n  border: 1px solid rgba(var(--tg-text-color), 0.2)\r\n  border-radius: 0.5rem\r\n  font-family: inherit\r\n  font-size: 1.1rem\r\n  resize: vertical\r\n  background: var(--tg-secondary-bg-color)\r\n  color: var(--tg-text-color)\r\n\r\n  .tg-theme &\r\n    background: var(--tg-bg-color)\r\n    border-color: rgba(var(--tg-text-color), 0.3)\r\n\r\n  &:focus\r\n    outline: none\r\n    border-color: $color-light-green\r\n\r\n.note-edit-actions\r\n  display: flex\r\n  justify-content: flex-end\r\n  gap: 0.8rem\r\n  margin-top: 0.8rem\r\n\r\n.note-edit-cancel,\r\n.note-edit-save\r\n  padding: 0.5rem 1rem\r\n  border-radius: 0.5rem\r\n  font-size: 0.9rem\r\n  cursor: pointer\r\n  transition: all 0.2s ease\r\n\r\n.note-edit-cancel\r\n  background: none\r\n  border: 1px solid rgba(var(--tg-text-color), 0.2)\r\n  color: var(--tg-text-color)\r\n\r\n  .tg-theme &\r\n    &:hover\r\n      background: rgba(var(--tg-text-color), 0.1)\r\n\r\n.note-edit-save\r\n  +telegram-button\r\n  font-size: 0.9rem\r\n\r\n.notes-empty\r\n  text-align: center\r\n  color: var(--tg-hint-color)\r\n  padding: 2rem\r\n  font-size: 1.1rem\r\n</style>","import { render } from \"./Notes.vue?vue&type=template&id=078f4f13&scoped=true\"\nimport script from \"./Notes.vue?vue&type=script&lang=js\"\nexport * from \"./Notes.vue?vue&type=script&lang=js\"\n\nimport \"./Notes.vue?vue&type=style&index=0&id=078f4f13&lang=sass&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-078f4f13\"]])\n\nexport default __exports__","<template>\r\n  <footer class=\"footer\">\r\n    <div\r\n        class=\"footer__sked\"\r\n        :class=\"{ 'active-tab': activeTab === 'schedule' }\"\r\n        @click=\"switchTab('schedule')\"\r\n    >\r\n      <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n        <g clip-path=\"url(#clip0_192_5)\">\r\n          <path d=\"M24 5.3125V21.125C24 21.8875 23.6971 22.6188 23.1579 23.1579C22.6188 23.6971 21.8875 24 21.125 24H3.875C3.1125 24 2.38124 23.6971 1.84207 23.1579C1.3029 22.6188 1 21.8875 1 21.125V3.875C1 3.1125 1.3029 2.38124 1.84207 1.84207C2.38124 1.3029 3.1125 1 3.875 1L21.125 1C21.8875 1 22.6188 1.3029 23.1579 1.84207C23.6971 2.38124 24 3.1125 24 3.875V5.3125ZM22.5625 5.3125V3.875C22.5625 3.49375 22.411 3.12812 22.1415 2.85853C21.8719 2.58895 21.5062 2.4375 21.125 2.4375H3.875C3.49375 2.4375 3.12812 2.58895 2.85853 2.85853C2.58895 3.12812 2.4375 3.49375 2.4375 3.875V5.3125H22.5625ZM22.5625 6.75H2.4375V21.125C2.4375 21.5062 2.58895 21.8719 2.85853 22.1415C3.12812 22.411 3.49375 22.5625 3.875 22.5625H21.125C21.5062 22.5625 21.8719 22.411 22.1415 22.1415C22.411 21.8719 22.5625 21.5062 22.5625 21.125V6.75ZM7.46875 9.625C7.65937 9.625 7.84219 9.70073 7.97698 9.83552C8.11177 9.97031 8.1875 10.1531 8.1875 10.3438C8.1875 10.5344 8.11177 10.7172 7.97698 10.852C7.84219 10.9868 7.65937 11.0625 7.46875 11.0625H4.588C4.39738 11.0625 4.21456 10.9868 4.07977 10.852C3.94498 10.7172 3.86925 10.5344 3.86925 10.3438C3.86925 10.1531 3.94498 9.97031 4.07977 9.83552C4.21456 9.70073 4.39738 9.625 4.588 9.625H7.46875ZM20.4062 9.625C20.5969 9.625 20.7797 9.70073 20.9145 9.83552C21.0493 9.97031 21.125 10.1531 21.125 10.3438C21.125 10.5344 21.0493 10.7172 20.9145 10.852C20.7797 10.9868 20.5969 11.0625 20.4062 11.0625H11.7812C11.5906 11.0625 11.4078 10.9868 11.273 10.852C11.1382 10.7172 11.0625 10.5344 11.0625 10.3438C11.0625 10.1531 11.1382 9.97031 11.273 9.83552C11.4078 9.70073 11.5906 9.625 11.7812 9.625H20.4062ZM7.46875 13.9375C7.65937 13.9375 7.84219 14.0132 7.97698 14.148C8.11177 14.2828 8.1875 14.4656 8.1875 14.6562C8.1875 14.8469 8.11177 15.0297 7.97698 15.1645C7.84219 15.2993 7.65937 15.375 7.46875 15.375H4.588C4.39738 15.375 4.21456 15.2993 4.07977 15.1645C3.94498 15.0297 3.86925 14.8469 3.86925 14.6562C3.86925 14.4656 3.94498 14.2828 4.07977 14.148C4.21456 14.0132 4.39738 13.9375 4.588 13.9375H7.46875ZM20.4062 13.9375C20.5969 13.9375 20.7797 14.0132 20.9145 14.148C21.0493 14.2828 21.125 14.4656 21.125 14.6562C21.125 14.8469 21.0493 15.0297 20.9145 15.1645C20.7797 15.2993 20.5969 15.375 20.4062 15.375H11.7812C11.5906 15.375 11.4078 15.2993 11.273 15.1645C11.1382 15.0297 11.0625 14.8469 11.0625 14.6562C11.0625 14.4656 11.1382 14.2828 11.273 14.148C11.4078 14.0132 11.5906 13.9375 11.7812 13.9375H20.4062ZM7.46875 18.25C7.65937 18.25 7.84219 18.3257 7.97698 18.4605C8.11177 18.5953 8.1875 18.7781 8.1875 18.9688C8.1875 19.1594 8.11177 19.3422 7.97698 19.477C7.84219 19.6118 7.65937 19.6875 7.46875 19.6875H4.588C4.39738 19.6875 4.21456 19.6118 4.07977 19.477C3.94498 19.3422 3.86925 19.1594 3.86925 18.9688C3.86925 18.7781 3.94498 18.5953 4.07977 18.4605C4.21456 18.3257 4.39738 18.25 4.588 18.25H7.46875ZM20.4062 18.25C20.5969 18.25 20.7797 18.3257 20.9145 18.4605C21.0493 18.5953 21.125 18.7781 21.125 18.9688C21.125 19.1594 21.0493 19.3422 20.9145 19.477C20.7797 19.6118 20.5969 19.6875 20.4062 19.6875H11.7812C11.5906 19.6875 11.4078 19.6118 11.273 19.477C11.1382 19.3422 11.0625 19.1594 11.0625 18.9688C11.0625 18.7781 11.1382 18.5953 11.273 18.4605C11.4078 18.3257 11.5906 18.25 11.7812 18.25H20.4062Z\" fill=\"#33984E\"/>\r\n        </g>\r\n        <g clip-path=\"url(#clip1_192_5)\">\r\n          <path d=\"M23 4.3125V20.125C23 20.8875 22.6971 21.6188 22.1579 22.1579C21.6188 22.6971 20.8875 23 20.125 23H2.875C2.1125 23 1.38124 22.6971 0.842068 22.1579C0.302901 21.6188 0 20.8875 0 20.125V2.875C0 2.1125 0.302901 1.38124 0.842068 0.842068C1.38124 0.302901 2.1125 0 2.875 0L20.125 0C20.8875 0 21.6188 0.302901 22.1579 0.842068C22.6971 1.38124 23 2.1125 23 2.875V4.3125ZM21.5625 4.3125V2.875C21.5625 2.49375 21.411 2.12812 21.1415 1.85853C20.8719 1.58895 20.5062 1.4375 20.125 1.4375H2.875C2.49375 1.4375 2.12812 1.58895 1.85853 1.85853C1.58895 2.12812 1.4375 2.49375 1.4375 2.875V4.3125H21.5625ZM21.5625 5.75H1.4375V20.125C1.4375 20.5062 1.58895 20.8719 1.85853 21.1415C2.12812 21.411 2.49375 21.5625 2.875 21.5625H20.125C20.5062 21.5625 20.8719 21.411 21.1415 21.1415C21.411 20.8719 21.5625 20.5062 21.5625 20.125V5.75ZM6.46875 8.625C6.65937 8.625 6.84219 8.70073 6.97698 8.83552C7.11177 8.97031 7.1875 9.15313 7.1875 9.34375C7.1875 9.53437 7.11177 9.71719 6.97698 9.85198C6.84219 9.98677 6.65937 10.0625 6.46875 10.0625H3.588C3.39738 10.0625 3.21456 9.98677 3.07977 9.85198C2.94498 9.71719 2.86925 9.53437 2.86925 9.34375C2.86925 9.15313 2.94498 8.97031 3.07977 8.83552C3.21456 8.70073 3.39738 8.625 3.588 8.625H6.46875ZM19.4062 8.625C19.5969 8.625 19.7797 8.70073 19.9145 8.83552C20.0493 8.97031 20.125 9.15313 20.125 9.34375C20.125 9.53437 20.0493 9.71719 19.9145 9.85198C19.7797 9.98677 19.5969 10.0625 19.4062 10.0625H10.7812C10.5906 10.0625 10.4078 9.98677 10.273 9.85198C10.1382 9.71719 10.0625 9.53437 10.0625 9.34375C10.0625 9.15313 10.1382 8.97031 10.273 8.83552C10.4078 8.70073 10.5906 8.625 10.7812 8.625H19.4062ZM6.46875 12.9375C6.65937 12.9375 6.84219 13.0132 6.97698 13.148C7.11177 13.2828 7.1875 13.4656 7.1875 13.6562C7.1875 13.8469 7.11177 14.0297 6.97698 14.1645C6.84219 14.2993 6.65937 14.375 6.46875 14.375H3.588C3.39738 14.375 3.21456 14.2993 3.07977 14.1645C2.94498 14.0297 2.86925 13.8469 2.86925 13.6562C2.86925 13.4656 2.94498 13.2828 3.07977 13.148C3.21456 13.0132 3.39738 12.9375 3.588 12.9375H6.46875ZM19.4062 12.9375C19.5969 12.9375 19.7797 13.0132 19.9145 13.148C20.0493 13.2828 20.125 13.4656 20.125 13.6562C20.125 13.8469 20.0493 14.0297 19.9145 14.1645C19.7797 14.2993 19.5969 14.375 19.4062 14.375H10.7812C10.5906 14.375 10.4078 14.2993 10.273 14.1645C10.1382 14.0297 10.0625 13.8469 10.0625 13.6562C10.0625 13.4656 10.1382 13.2828 10.273 13.148C10.4078 13.0132 10.5906 12.9375 10.7812 12.9375H19.4062ZM6.46875 17.25C6.65937 17.25 6.84219 17.3257 6.97698 17.4605C7.11177 17.5953 7.1875 17.7781 7.1875 17.9688C7.1875 18.1594 7.11177 18.3422 6.97698 18.477C6.84219 18.6118 6.65937 18.6875 6.46875 18.6875H3.588C3.39738 18.6875 3.21456 18.6118 3.07977 18.477C2.94498 18.3422 2.86925 18.1594 2.86925 17.9688C2.86925 17.7781 2.94498 17.5953 3.07977 17.4605C3.21456 17.3257 3.39738 17.25 3.588 17.25H6.46875ZM19.4062 17.25C19.5969 17.25 19.7797 17.3257 19.9145 17.4605C20.0493 17.5953 20.125 17.7781 20.125 17.9688C20.125 18.1594 20.0493 18.3422 19.9145 18.477C19.7797 18.6118 19.5969 18.6875 19.4062 18.6875H10.7812C10.5906 18.6875 10.4078 18.6118 10.273 18.477C10.1382 18.3422 10.0625 18.1594 10.0625 17.9688C10.0625 17.7781 10.1382 17.5953 10.273 17.4605C10.4078 17.3257 10.5906 17.25 10.7812 17.25H19.4062Z\" fill=\"white\"/>\r\n        </g>\r\n        <defs>\r\n          <clipPath id=\"clip0_192_5\">\r\n            <rect width=\"23\" height=\"23\" fill=\"white\" transform=\"translate(1 1)\"/>\r\n          </clipPath>\r\n          <clipPath id=\"clip1_192_5\">\r\n            <rect width=\"23\" height=\"23\" fill=\"white\"/>\r\n          </clipPath>\r\n        </defs>\r\n      </svg>\r\n    </div>\r\n\r\n    <div\r\n        class=\"footer__note\"\r\n        :class=\"{ 'active-tab': activeTab === 'notes' }\"\r\n        @click=\"switchTab('notes')\"\r\n    >\r\n      <svg width=\"24\" height=\"26\" viewBox=\"0 0 24 26\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n        <path d=\"M20.7895 14.65V11.2C20.7895 7.405 20.7895 5.5075 19.6566 4.32875C18.5237 3.15 16.7 3.15 13.0526 3.15H9.73684C6.08947 3.15 4.26579 3.15 3.13289 4.32875C2 5.5075 2 7.405 2 11.2V16.95C2 20.745 2 22.6425 3.13289 23.8212C4.26579 25 6.08947 25 9.73684 25H11.3947M16.9211 2V4.3M11.3947 2V4.3M5.86842 2V4.3M14.1579 22.7C14.1579 22.7 15.2632 22.7 16.3684 25C16.3684 25 19.8798 19.25 23 18.1M6.97368 16.95H11.3947M6.97368 11.2H15.8158\" stroke=\"#33984E\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n        <path d=\"M19.7895 13.65V10.2C19.7895 6.405 19.7895 4.5075 18.6566 3.32875C17.5237 2.15 15.7 2.15 12.0526 2.15H8.73684C5.08947 2.15 3.26579 2.15 2.13289 3.32875C1 4.5075 1 6.405 1 10.2V15.95C1 19.745 1 21.6425 2.13289 22.8212C3.26579 24 5.08947 24 8.73684 24H10.3947M15.9211 1V3.3M10.3947 1V3.3M4.86842 1V3.3M13.1579 21.7C13.1579 21.7 14.2632 21.7 15.3684 24C15.3684 24 18.8798 18.25 22 17.1M5.97368 15.95H10.3947M5.97368 10.2H14.8158\" stroke=\"white\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n      </svg>\r\n    </div>\r\n\r\n\r\n    <div class=\"footer__double\">\r\n      <svg width=\"25\" height=\"25\" viewBox=\"0 0 25 25\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n        <path d=\"M8 20V23C8 23.5523 8.44772 24 9 24H23C23.5523 24 24 23.5523 24 23V9C24 8.44772 23.5523 8 23 8H18H2M24 12H18M14 1V4M6 1V4M5 12H7M9 12H15M5 16H7M9 16H15M3 4H17C17.5523 4 18 4.44772 18 5V19C18 19.5523 17.5523 20 17 20H3C2.44772 20 2 19.5523 2 19V5C2 4.44772 2.44772 4 3 4Z\" stroke=\"#33984E\" stroke-width=\"1.5\"/>\r\n        <path d=\"M7 19V22C7 22.5523 7.44772 23 8 23H22C22.5523 23 23 22.5523 23 22V8C23 7.44772 22.5523 7 22 7H17H1M23 11H17M13 0V3M5 0V3M4 11H6M8 11H14M4 15H6M8 15H14M2 3H16C16.5523 3 17 3.44772 17 4V18C17 18.5523 16.5523 19 16 19H2C1.44772 19 1 18.5523 1 18V4C1 3.44772 1.44772 3 2 3Z\" stroke=\"white\" stroke-width=\"1.5\"/>\r\n      </svg>\r\n    </div>\r\n\r\n  </footer>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters, mapActions } from 'vuex'\r\n\r\nexport default {\r\n  name: 'Footer',\r\n  computed: {\r\n    ...mapGetters(['activeTab'])\r\n  },\r\n  methods: {\r\n    ...mapActions(['setActiveTab']),\r\n    switchTab(tab) {\r\n      this.setActiveTab(tab)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"sass\" scoped>\r\n@import \"@/assets/styles/variables.sass\"\r\n\r\n\r\n.footer\r\n  background-color: $color-light-green\r\n  display: flex\r\n  justify-content: space-around\r\n  align-items: center\r\n  height: $footer-height\r\n  width: 100%\r\n  max-width: $content-max-width\r\n  margin: 0 auto\r\n  position: fixed\r\n  bottom: 0\r\n  left: 50%\r\n  transform: translateX(-50%)\r\n  z-index: 100\r\n  box-shadow: 0 -2px 10px rgba(0,0,0,0.1)\r\n  border-radius: .8rem .8rem 0 0\r\n  transition: all 0.3s ease\r\n\r\n  @media (max-width: $mobile-breakpoint)\r\n    border-radius: 0\r\n\r\n  &__sked,\r\n  &__note,\r\n  &__double\r\n    position: relative\r\n    cursor: pointer\r\n    padding: .8rem\r\n    height: 100%\r\n    border-radius: .8rem .8rem 0 0\r\n    transition: all 0.3s ease\r\n    flex: 1\r\n    display: flex\r\n    justify-content: center\r\n    align-items: center\r\n\r\n    svg\r\n      width: 2.5rem\r\n      height: 2.5rem\r\n      transition: transform 0.3s ease\r\n\r\n    // Hover-эффекты только для устройств с мышью\r\n    @media (hover: hover) and (pointer: fine)\r\n      &:hover\r\n        transform: translateY(-.2rem)\r\n        svg\r\n          transform: scale(1.1)\r\n\r\n  .active-tab\r\n    background-color: rgba(255, 255, 255, 0.2)\r\n    height: 100%\r\n    box-shadow: 0 .2rem .8rem rgba(0,0,0,0.1)\r\n    svg\r\n      transform: scale(1.1)\r\n\r\n    // Отключаем hover для активной вкладки\r\n    @media (hover: hover) and (pointer: fine)\r\n      &:hover\r\n        transform: none\r\n</style>","import { render } from \"./Footer.vue?vue&type=template&id=fd46248e&scoped=true\"\nimport script from \"./Footer.vue?vue&type=script&lang=js\"\nexport * from \"./Footer.vue?vue&type=script&lang=js\"\n\nimport \"./Footer.vue?vue&type=style&index=0&id=fd46248e&lang=sass&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-fd46248e\"]])\n\nexport default __exports__","<template>\r\n  <transition name=\"fade\">\r\n    <div :class=\"{'tg-theme': isTelegram}\" :data-theme=\"isDarkTheme ? 'dark' : 'light'\" v-if=\"isOpen\" class=\"modal-overlay\" @click.self=\"closeModal\">\r\n      <div class=\"modal\">\r\n        <div class=\"modal-header\">\r\n          <h3>Выберите пару для заметки</h3>\r\n          <button @click=\"closeModal\" class=\"close-btn\">&times;</button>\r\n        </div>\r\n        <div class=\"modal-content\">\r\n          <div\r\n              v-for=\"lesson in todaysLessons\"\r\n              :key=\"lesson.time\"\r\n              class=\"lesson-item\"\r\n              :class=\"{ 'lesson-item--has-note': hasNoteForLesson(lesson) }\"\r\n              @click=\"!hasNoteForLesson(lesson) && handleAddNote(lesson)\"\r\n          >\r\n            <div class=\"lesson-time\" v-html=\"lesson.time\"></div>\r\n            <div class=\"lesson-title\">{{ lesson.lesson }}</div>\r\n            <div class=\"lesson-teacher\">{{ lesson.teacher }}</div>\r\n            <div v-if=\"hasNoteForLesson(lesson)\" class=\"lesson-has-note\">\r\n              Заметка уже добавлена\r\n            </div>\r\n          </div>\r\n          <p v-if=\"todaysLessons.length === 0\" class=\"no-lessons\">\r\n            Нет доступных пар для добавления заметки\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </transition>\r\n</template>\r\n\r\n<script>\r\nimport { mapActions, mapGetters } from 'vuex'\r\n\r\nexport default {\r\n  name: 'AddNoteModal',\r\n  data() {\r\n    return {\r\n      isTelegram: false,\r\n      isDarkTheme: false,\r\n      tgThemeParams: {}\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters(['isAddNoteModalOpen', 'availableLessons', 'getNotes', 'selectedDay', 'currentWeekSchedule', 'selectedDayIndex']),\r\n    isOpen() {\r\n      return this.isAddNoteModalOpen\r\n    },\r\n    selectedDate() {\r\n      return this.selectedDay?.originalDate?.toISOString().split('T')[0] || new Date().toISOString().split('T')[0]\r\n    },\r\n    todaysLessons() {\r\n      // Get lessons for the currently selected day\r\n      return this.currentWeekSchedule[this.selectedDayIndex] || []\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapActions(['closeAddNoteModal', 'addNote']),\r\n    initTelegramTheme() {\r\n      const WebApp = window.Telegram.WebApp;\r\n      this.tgThemeParams = WebApp.themeParams || {};\r\n      this.isDarkTheme = WebApp.colorScheme === 'dark';\r\n      this.applyTelegramTheme();\r\n      WebApp.onEvent('themeChanged', this.applyTelegramTheme);\r\n    },\r\n    applyTelegramTheme() {\r\n      const WebApp = window.Telegram.WebApp;\r\n      this.isDarkTheme = WebApp.colorScheme === 'dark';\r\n      document.documentElement.style.setProperty('--tg-bg-color', this.tgThemeParams.bg_color || (this.isDarkTheme ? '#18222d' : '#ffffff'));\r\n      document.documentElement.style.setProperty('--tg-text-color', this.tgThemeParams.text_color || (this.isDarkTheme ? '#ffffff' : '#000000'));\r\n      document.documentElement.style.setProperty('--tg-button-color', this.tgThemeParams.button_color || '#2481cc');\r\n      document.documentElement.style.setProperty('--tg-button-text-color', this.tgThemeParams.button_text_color || '#ffffff');\r\n      document.documentElement.style.setProperty('--tg-hint-color', this.tgThemeParams.hint_color || (this.isDarkTheme ? '#aaaaaa' : '#707579'));\r\n      document.documentElement.style.setProperty('--tg-link-color', this.tgThemeParams.link_color || '#168acd');\r\n      document.documentElement.style.setProperty('--tg-secondary-bg-color', this.tgThemeParams.secondary_bg_color || (this.isDarkTheme ? '#212529' : '#f4f4f5'));\r\n    },\r\n    setupTelegramBackButton() {\r\n      const WebApp = window.Telegram.WebApp;\r\n      WebApp.BackButton.show();\r\n      WebApp.BackButton.onClick(() => {\r\n        WebApp.close();\r\n      });\r\n    },\r\n    closeModal() {\r\n      this.closeAddNoteModal()\r\n    },\r\n    hasNoteForLesson(lesson) {\r\n      return this.getNotes.some(note =>\r\n          note.date === this.selectedDate &&\r\n          note.lesson === lesson.lesson &&\r\n          note.time === lesson.time\r\n      )\r\n    },\r\n    handleAddNote(lesson) {\r\n      const newNote = {\r\n        id: Date.now(),\r\n        lesson: lesson.lesson,\r\n        time: lesson.time,\r\n        teacher: lesson.teacher,\r\n        room: lesson.room,\r\n        content: '',\r\n        date: this.selectedDate\r\n      }\r\n      this.addNote(newNote)\r\n      this.closeModal()\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"sass\" scoped>\r\n@import \"@/assets/styles/variables.sass\"\r\n\r\n.modal-overlay\r\n  position: fixed\r\n  top: 0\r\n  left: 0\r\n  right: 0\r\n  bottom: 0\r\n  background: rgba(0, 0, 0, 0.5)\r\n  display: flex\r\n  justify-content: center\r\n  align-items: center\r\n  z-index: 1000\r\n\r\n  .tg-theme &\r\n    background: rgba(0, 0, 0, 0.7)\r\n\r\n.modal\r\n  background: $color-white\r\n  border-radius: 12px\r\n  padding: 1.5rem\r\n  width: 100%\r\n  max-width: 500px\r\n  max-height: 80vh\r\n  overflow-y: auto\r\n  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1)\r\n\r\n  .tg-theme &\r\n    background: var(--tg-bg-color)\r\n    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3)\r\n\r\n.modal-header\r\n  display: flex\r\n  justify-content: space-between\r\n  align-items: center\r\n  margin-bottom: 1.5rem\r\n  padding-bottom: 0.5rem\r\n  border-bottom: 1px solid rgba(var(--tg-text-color), 0.1)\r\n\r\n  h3\r\n    font-size: 1.3rem\r\n    font-weight: 500\r\n    color: var(--tg-text-color)\r\n\r\n.close-btn\r\n  background: none\r\n  border: none\r\n  font-size: 1.5rem\r\n  cursor: pointer\r\n  color: var(--tg-text-color)\r\n  padding: 0.5rem\r\n  transition: opacity 0.2s\r\n\r\n  &:hover\r\n    opacity: 0.8\r\n\r\n.lesson-item\r\n  padding: 1rem\r\n  border-radius: 8px\r\n  margin-bottom: 0.5rem\r\n  cursor: pointer\r\n  transition: all 0.2s ease\r\n  position: relative\r\n  background: $color-white\r\n\r\n  .tg-theme &\r\n    background: var(--tg-secondary-bg-color)\r\n\r\n  &:hover:not(.lesson-item--has-note)\r\n    background: rgba($color-light-green, 0.1)\r\n\r\n    .tg-theme &\r\n      background: rgba($color-light-green, 0.1)\r\n\r\n  &--has-note\r\n    cursor: not-allowed\r\n    opacity: 0.7\r\n    background: rgba(0, 0, 0, 0.03)\r\n\r\n    .tg-theme &\r\n      background: rgba(var(--tg-text-color), 0.05)\r\n\r\n.lesson-time\r\n  color: $color-light-green\r\n  font-size: 0.9rem\r\n  margin-bottom: 0.3rem\r\n  font-weight: 500\r\n\r\n  .tg-theme &\r\n    color: $color-light-green\r\n\r\n.lesson-title\r\n  font-weight: 500\r\n  margin-bottom: 0.3rem\r\n  color: var(--tg-text-color)\r\n\r\n.lesson-teacher\r\n  color: var(--tg-hint-color)\r\n  font-size: 0.9rem\r\n\r\n.lesson-has-note\r\n  color: $color-light-green\r\n  font-size: 0.8rem\r\n  margin-top: 0.5rem\r\n  font-style: italic\r\n\r\n  .tg-theme &\r\n    color: $color-light-green\r\n\r\n.no-lessons\r\n  text-align: center\r\n  color: var(--tg-hint-color)\r\n  padding: 1rem\r\n\r\n// Анимации\r\n.fade-enter-active,\r\n.fade-leave-active\r\n  transition: opacity 0.3s ease\r\n\r\n.fade-enter-from,\r\n.fade-leave-to\r\n  opacity: 0\r\n\r\n// Стили для скроллбара в модальном окне\r\n.modal::-webkit-scrollbar\r\n  width: 6px\r\n\r\n.modal::-webkit-scrollbar-track\r\n  background: rgba(0, 0, 0, 0.05)\r\n  border-radius: 3px\r\n\r\n.modal::-webkit-scrollbar-thumb\r\n  background: $color-light-green\r\n  border-radius: 3px\r\n\r\n.tg-theme .modal::-webkit-scrollbar-thumb\r\n  background: $color-light-green\r\n</style>","import { render } from \"./AddNoteModal.vue?vue&type=template&id=505e1ee9&scoped=true\"\nimport script from \"./AddNoteModal.vue?vue&type=script&lang=js\"\nexport * from \"./AddNoteModal.vue?vue&type=script&lang=js\"\n\nimport \"./AddNoteModal.vue?vue&type=style&index=0&id=505e1ee9&lang=sass&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-505e1ee9\"]])\n\nexport default __exports__","<template>\r\n  <div :class=\"{'tg-theme': isTelegram}\" :data-theme=\"isDarkTheme ? 'dark' : 'light'\" v-if=\"noteDialog.isOpen\" class=\"note-dialog-overlay\" @click.self=\"closeDialog\">\r\n    <div class=\"note-dialog\">\r\n      <h3 class=\"dialog-title\">Редактирование заметки</h3>\r\n      <div class=\"dialog-meta\">\r\n        <span class=\"dialog-lesson\">{{ currentNote.lesson }}</span>\r\n        <span class=\"dialog-time\">{{ formattedTime }}</span>\r\n      </div>\r\n      <textarea\r\n          v-model=\"currentNote.content\"\r\n          class=\"dialog-textarea\"\r\n          placeholder=\"Введите текст заметки...\"\r\n          ref=\"textarea\"\r\n          @click=\"focusTextarea\"\r\n      ></textarea>\r\n      <div class=\"dialog-actions\">\r\n        <button @click=\"deleteNote\" class=\"dialog-button delete\">\r\n          <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n            <path d=\"M4 12L12 4M4 4L12 12\" stroke=\"white\" stroke-width=\"1.5\" stroke-linecap=\"round\"/>\r\n          </svg>\r\n          Удалить\r\n        </button>\r\n        <button @click=\"navigateToNote\" class=\"dialog-button view\">\r\n          <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n            <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M11.78 7.47C11.9205 7.61063 11.9993 7.80125 11.9993 8C11.9993 8.19875 11.9205 8.38937 11.78 8.53L9.28 11.03C9.21134 11.1037 9.12854 11.1628 9.03654 11.2038C8.94454 11.2448 8.84522 11.2668 8.74452 11.2686C8.64382 11.2704 8.54379 11.2518 8.4504 11.2141C8.35701 11.1764 8.27218 11.1203 8.20096 11.049C8.12974 10.9778 8.0736 10.893 8.03588 10.7996C7.99816 10.7062 7.97963 10.6062 7.98141 10.5055C7.98319 10.4048 8.00523 10.3055 8.04622 10.2135C8.08721 10.1215 8.14631 10.0387 8.22 9.97L9.44 8.75H1.75C1.55109 8.75 1.36032 8.67098 1.21967 8.53033C1.07902 8.38968 1 8.19891 1 8C1 7.80109 1.07902 7.61032 1.21967 7.46967C1.36032 7.32902 1.55109 7.25 1.75 7.25H9.44L8.22 6.03C8.08752 5.88783 8.0154 5.69978 8.01882 5.50548C8.02225 5.31118 8.10097 5.12579 8.23838 4.98838C8.37579 4.85097 8.56118 4.77225 8.75548 4.76883C8.94978 4.7654 9.13782 4.83752 9.28 4.97L11.78 7.47ZM4 11.75C4 11.5511 4.07902 11.3603 4.21967 11.2197C4.36032 11.079 4.55109 11 4.75 11C4.94891 11 5.13968 11.079 5.28033 11.2197C5.42098 11.3603 5.5 11.5511 5.5 11.75V12C5.5 12.3978 5.65804 12.7794 5.93934 13.0607C6.22064 13.342 6.60218 13.5 7 13.5H12C12.3978 13.5 12.7794 13.342 13.0607 13.0607C13.342 12.7794 13.5 12.3978 13.5 12V4C13.5 3.60218 13.342 3.22064 13.0607 2.93934C12.7794 2.65804 12.3978 2.5 12 2.5H7C6.60218 2.5 6.22064 2.65804 5.93934 2.93934C5.65804 3.22064 5.5 3.60218 5.5 4V4.25C5.5 4.44891 5.42098 4.63968 5.28033 4.78033C5.13968 4.92098 4.94891 5 4.75 5C4.55109 5 4.36032 4.92098 4.21967 4.78033C4.07902 4.63968 4 4.44891 4 4.25V4C4 3.20435 4.31607 2.44129 4.87868 1.87868C5.44129 1.31607 6.20435 1 7 1H12C12.7956 1 13.5587 1.31607 14.1213 1.87868C14.6839 2.44129 15 3.20435 15 4V12C15 12.7956 14.6839 13.5587 14.1213 14.1213C13.5587 14.6839 12.7956 15 12 15H7C6.20435 15 5.44129 14.6839 4.87868 14.1213C4.31607 13.5587 4 12.7956 4 12V11.75Z\" fill=\"white\"/>\r\n          </svg>\r\n          К заметке\r\n        </button>\r\n        <button @click=\"saveNote\" class=\"dialog-button save\">Сохранить</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters, mapActions } from 'vuex'\r\n\r\nexport default {\r\n  name: 'NoteDialog',\r\n  data() {\r\n    return {\r\n      localNote: {\r\n        id: null,\r\n        lesson: '',\r\n        time: '',\r\n        content: '',\r\n        date: '',\r\n\r\n        //TG\r\n        isTelegram: false,\r\n        isDarkTheme: false,\r\n        tgThemeParams: {}\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    // Проверяем, открыто ли приложение в Telegram\r\n    if (window.Telegram && window.Telegram.WebApp) {\r\n      this.isTelegram = true;\r\n      this.initTelegramTheme();\r\n      this.setupTelegramBackButton();\r\n      window.Telegram.WebApp.expand();\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters(['noteDialog', 'getNoteById']),\r\n    initTelegramTheme() {\r\n      const WebApp = window.Telegram.WebApp;\r\n      this.tgThemeParams = WebApp.themeParams || {};\r\n      this.isDarkTheme = WebApp.colorScheme === 'dark';\r\n      this.applyTelegramTheme();\r\n      WebApp.onEvent('themeChanged', this.applyTelegramTheme);\r\n    },\r\n    applyTelegramTheme() {\r\n      const WebApp = window.Telegram.WebApp;\r\n      this.isDarkTheme = WebApp.colorScheme === 'dark';\r\n      document.documentElement.style.setProperty('--tg-bg-color', this.tgThemeParams.bg_color || (this.isDarkTheme ? '#18222d' : '#ffffff'));\r\n      document.documentElement.style.setProperty('--tg-text-color', this.tgThemeParams.text_color || (this.isDarkTheme ? '#ffffff' : '#000000'));\r\n      document.documentElement.style.setProperty('--tg-button-color', this.tgThemeParams.button_color || '#2481cc');\r\n      document.documentElement.style.setProperty('--tg-button-text-color', this.tgThemeParams.button_text_color || '#ffffff');\r\n      document.documentElement.style.setProperty('--tg-hint-color', this.tgThemeParams.hint_color || (this.isDarkTheme ? '#aaaaaa' : '#707579'));\r\n      document.documentElement.style.setProperty('--tg-link-color', this.tgThemeParams.link_color || '#168acd');\r\n      document.documentElement.style.setProperty('--tg-secondary-bg-color', this.tgThemeParams.secondary_bg_color || (this.isDarkTheme ? '#212529' : '#f4f4f5'));\r\n    },\r\n    setupTelegramBackButton() {\r\n      const WebApp = window.Telegram.WebApp;\r\n      WebApp.BackButton.show();\r\n      WebApp.BackButton.onClick(() => {\r\n        WebApp.close();\r\n      });\r\n    },\r\n    currentNote() {\r\n      const note = this.getNoteById(this.noteDialog.noteId)\r\n      return note || this.localNote\r\n    },\r\n    formattedTime() {\r\n      if (!this.currentNote.time) return ''\r\n      return this.currentNote.time.replace('<br>', ' - ')\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapActions([\r\n      'updateNote',\r\n      'deleteNote',\r\n      'closeNoteDialog',\r\n      'setActiveTab',\r\n      'setActiveNote'\r\n    ]),\r\n    saveNote() {\r\n      this.updateNote(this.currentNote)\r\n      this.closeDialog()\r\n    },\r\n    closeDialog() {\r\n      this.closeNoteDialog()\r\n    },\r\n    focusTextarea() {\r\n      // Фокусируемся только при явном клике\r\n      this.$refs.textarea?.focus()\r\n    },\r\n    navigateToNote() {\r\n      this.setActiveTab('notes')\r\n      this.setActiveNote(this.currentNote.id)\r\n      this.closeDialog()\r\n    },\r\n    deleteNote() {\r\n      // Вызываем действие Vuex через this.$store.dispatch с другим именем\r\n      this.$store.dispatch('deleteNote', this.currentNote.id)\r\n      this.closeDialog()\r\n    }\r\n  },\r\n  watch: {\r\n    'noteDialog.isOpen'(newVal) {\r\n\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"sass\" scoped>\r\n@import \"@/assets/styles/variables.sass\"\r\n@import \"@/assets/styles/mixins.sass\"\r\n\r\n.note-dialog-overlay\r\n  position: fixed\r\n  top: 0\r\n  left: 0\r\n  right: 0\r\n  bottom: 0\r\n  background: rgba(0, 0, 0, 0.5)\r\n  display: flex\r\n  align-items: center\r\n  justify-content: center\r\n  z-index: 1000\r\n\r\n  .tg-theme &\r\n    background: rgba(0, 0, 0, 0.7)\r\n\r\n.note-dialog\r\n  background: $color-white\r\n  border-radius: 12px\r\n  position: relative\r\n  width: 38rem\r\n  margin: 0 1rem\r\n  max-width: 38rem\r\n  max-height: 40rem\r\n  padding: 1.5rem\r\n  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1)\r\n\r\n  .tg-theme &\r\n    background: var(--tg-bg-color)\r\n    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3)\r\n\r\n.dialog-title\r\n  font-size: 1.5rem\r\n  color: var(--tg-text-color)\r\n  margin-bottom: 1rem\r\n  font-weight: 500\r\n\r\n.dialog-meta\r\n  display: flex\r\n  flex-direction: column\r\n  gap: 0.5rem\r\n  margin-bottom: 1.5rem\r\n  padding-bottom: 0.5rem\r\n  border-bottom: 1px solid rgba(var(--tg-text-color), 0.1)\r\n\r\n.dialog-lesson\r\n  font-weight: 500\r\n  font-size: 1.2rem\r\n  color: var(--tg-text-color)\r\n\r\n.dialog-time\r\n  color: $color-light-green\r\n  font-size: 1rem\r\n  font-weight: 500\r\n\r\n  .tg-theme &\r\n    color: $color-light-green\r\n\r\n.dialog-textarea\r\n  width: 100%\r\n  height: 20rem\r\n  resize: none\r\n  padding: 1rem\r\n  border: 1px solid rgba(var(--tg-text-color), 0.2)\r\n  border-radius: 8px\r\n  font-family: inherit\r\n  font-size: 1.1rem\r\n  margin-bottom: 1.5rem\r\n  background: var(--tg-secondary-bg-color)\r\n  color: var(--tg-text-color)\r\n\r\n  .tg-theme &\r\n    background: var(--tg-bg-color)\r\n    border-color: rgba(var(--tg-text-color), 0.3)\r\n\r\n  &:focus\r\n    outline: none\r\n    border-color: $color-light-green\r\n\r\n    .tg-theme &\r\n      border-color: $color-light-green\r\n\r\n.dialog-actions\r\n  display: flex\r\n  justify-content: flex-end\r\n  gap: 0.8rem\r\n  flex-wrap: nowrap\r\n\r\n  @include respond(small-phone)\r\n    justify-content: space-between\r\n    gap: .8rem\r\n    flex-wrap: wrap\r\n\r\n.dialog-button\r\n  padding: 0.7rem 1rem\r\n  border-radius: 8px\r\n  cursor: pointer\r\n  transition: all 0.2s ease\r\n  border: none\r\n  display: flex\r\n  align-items: center\r\n  gap: 0.5rem\r\n  white-space: nowrap\r\n  font-weight: 500\r\n  font-size: 1rem\r\n\r\n  @include respond(small-phone)\r\n    font-size: .8rem\r\n    padding: 0.6rem 0.8rem\r\n\r\n  svg\r\n    width: 1.2rem\r\n    height: 1.2rem\r\n\r\n  &.delete\r\n    background: $color-error\r\n    color: $color-white\r\n\r\n    &:hover\r\n      background: darken($color-error, 5%)\r\n      opacity: 0.9\r\n\r\n    .tg-theme &\r\n      background: $color-error\r\n      &:hover\r\n        opacity: 0.8\r\n\r\n  &.view\r\n    background: $color-light-green\r\n    color: $color-white\r\n\r\n    &:hover\r\n      background: darken($color-light-green, 5%)\r\n      opacity: 0.9\r\n\r\n    .tg-theme &\r\n      background: $color-light-green\r\n      &:hover\r\n        opacity: 0.8\r\n\r\n    svg path\r\n      fill: $color-white\r\n\r\n  &.save\r\n    background: $color-light-green\r\n    color: $color-white\r\n\r\n    &:hover\r\n      background: darken($color-light-green, 5%)\r\n      opacity: 0.9\r\n\r\n    .tg-theme &\r\n      background: $color-light-green\r\n      &:hover\r\n        opacity: 0.8\r\n\r\n// Стили для скроллбара в модальном окне\r\n.note-dialog::-webkit-scrollbar\r\n  width: 6px\r\n\r\n.note-dialog::-webkit-scrollbar-track\r\n  background: rgba(0, 0, 0, 0.05)\r\n  border-radius: 3px\r\n\r\n.note-dialog::-webkit-scrollbar-thumb\r\n  background: $color-light-green\r\n  border-radius: 3px\r\n\r\n.tg-theme .note-dialog::-webkit-scrollbar-thumb\r\n  background: $color-light-green\r\n</style>","import { render } from \"./NoteDialog.vue?vue&type=template&id=0132c1c2&scoped=true\"\nimport script from \"./NoteDialog.vue?vue&type=script&lang=js\"\nexport * from \"./NoteDialog.vue?vue&type=script&lang=js\"\n\nimport \"./NoteDialog.vue?vue&type=style&index=0&id=0132c1c2&lang=sass&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-0132c1c2\"]])\n\nexport default __exports__","<template>\r\n    <div class=\"preloader\" :class=\"{ 'tg-theme': isTelegram }\" :data-theme=\"isDark ? 'dark' : 'light'\">\r\n      <div class=\"preloader__content\">\r\n        <div class=\"preloader__spinner\"></div>\r\n        <div class=\"preloader__text\">Загрузка</div>\r\n      </div>\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n  export default {\r\n    name: 'Preloader',\r\n    props: {\r\n      isTelegram: {\r\n        type: Boolean,\r\n        default: false\r\n      },\r\n      isDark: {\r\n        type: Boolean,\r\n        default: false\r\n      }\r\n    }\r\n  }\r\n  </script>\r\n  \r\n  <style lang=\"sass\" scoped>\r\n  @import \"@/assets/styles/variables.sass\"\r\n  \r\n  .preloader\r\n    position: fixed\r\n    top: 0\r\n    left: 0\r\n    width: 100%\r\n    height: 100%\r\n    background-color: $color-white\r\n    display: flex\r\n    justify-content: center\r\n    align-items: center\r\n    z-index: 9999\r\n    transition: background-color 0.3s ease-out\r\n  \r\n    &.tg-theme\r\n      background-color: var(--tg-secondary-bg-color)\r\n  \r\n    &[data-theme=\"dark\"]\r\n      background-color: var(--tg-secondary-bg-color)\r\n  \r\n    &__content\r\n      display: flex\r\n      flex-direction: column\r\n      align-items: center\r\n      gap: 1rem\r\n  \r\n    &__spinner\r\n      width: 5rem\r\n      height: 5rem\r\n      border: 4px solid rgba($color-light-green, 0.2)\r\n      border-radius: 50%\r\n      border-top-color: $color-light-green\r\n      animation: spin 1.5s ease infinite\r\n  \r\n  \r\n    &__text\r\n      font-size: 2rem\r\n      color: $color-text\r\n  \r\n      .tg-theme &\r\n        color: var(--tg-text-color)\r\n  \r\n  @keyframes spin\r\n    to\r\n      transform: rotate(360deg)\r\n  </style>","import { render } from \"./Preloader.vue?vue&type=template&id=66aaa39e&scoped=true\"\nimport script from \"./Preloader.vue?vue&type=script&lang=js\"\nexport * from \"./Preloader.vue?vue&type=script&lang=js\"\n\nimport \"./Preloader.vue?vue&type=style&index=0&id=66aaa39e&lang=sass&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-66aaa39e\"]])\n\nexport default __exports__","import { render } from \"./App.vue?vue&type=template&id=5f024ba1\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=5f024ba1&lang=sass\"\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createStore } from 'vuex'\r\n\r\n//const localhost = \"0n3jzfgz-3000.inc1.devtunnels.ms\";\r\nconst localhost = \"localhost:3000\";\r\n// В хранилище добавляем:\r\nfunction getAcademicWeekNumber(date = new Date()) {\r\n    // Учебный год начинается 1 сентября\r\n    const startOfYear = new Date(date.getFullYear(), 8, 1); // 8 = сентябрь\r\n\r\n    // Если текущая дата до 1 сентября, берем предыдущий учебный год\r\n    if (date < startOfYear) {\r\n        startOfYear.setFullYear(startOfYear.getFullYear() - 1);\r\n    }\r\n\r\n    // Разница в миллисекундах\r\n    const diffTime = date - startOfYear;\r\n\r\n    // Разница в неделях\r\n    const diffWeeks = Math.floor(diffTime / (1000 * 60 * 60 * 24 * 7));\r\n\r\n    // Номер недели (1 или 2)\r\n    return ((diffWeeks + 1) % 2) + 1;\r\n}\r\nexport default createStore({\r\n    state: {\r\n        notes: JSON.parse(localStorage.getItem('notes')) || [],\r\n        activeTab: 'schedule',\r\n        selectedDay: null,\r\n        selectedDayIndex: 0,\r\n        days: [],\r\n        isAddNoteModalOpen: false,\r\n        availableLessons: [],\r\n        activeNoteId: null,\r\n        noteDialog: {\r\n            isOpen: false,\r\n            noteId: null\r\n        },\r\n        currentWeekOffset: 0,\r\n        currentWeekType: 'week1',\r\n\r\n        currentWeekNumber: parseInt(localStorage.getItem('currentWeekNumber')) || 1,\r\n        baseWeekNumber: null,\r\n        weekDays: ['Пн', 'Вт', 'Ср', 'Чт', 'Пт', 'Сб'],\r\n        fullDayNames: ['Понедельник', 'Вторник', 'Среда', 'Четверг', 'Пятница', 'Суббота'],\r\n        monthNames: ['января', 'февраля', 'марта', 'апреля', 'мая', 'июня', 'июля', 'августа', 'сентября', 'октября', 'ноября', 'декабря'],\r\n\r\n        weeksData: {\r\n            week1: { 0: [], 1: [], 2: [], 3: [], 4: [], 5: [] },\r\n            week2: { 0: [], 1: [], 2: [], 3: [], 4: [], 5: [] }\r\n        },\r\n        currentGroup: localStorage.getItem('currentGroup') || null,\r\n        currentTeacher: null,\r\n        currentRoom: null,\r\n        searchType: 'group', // 'group', 'teacher' или 'room'\r\n\r\n        allGroups: [],\r\n        allTeachers: [],\r\n        allRooms: [],\r\n        userNotes: []\r\n\r\n\r\n    },\r\n    mutations: {\r\n        UPDATE_WEEK_OFFSET_AND_NUMBER(state, { offset, weekNumber }) {\r\n            state.currentWeekOffset = offset;\r\n            state.currentWeekNumber = weekNumber;\r\n            state.currentWeekType = `week${weekNumber}`;\r\n        },\r\n        INIT_WEEK_NUMBER(state) {\r\n            // Устанавливаем неделю по умолчанию (1), \r\n            // но реальный номер будет установлен при загрузке расписания\r\n            state.currentWeekNumber = 1;\r\n            state.currentWeekType = 'week1';\r\n            localStorage.setItem('currentWeekNumber', '1');\r\n        },\r\n        SET_CURRENT_TEACHER(state, payload) {\r\n            state.currentTeacher = payload.displayQuery || payload;\r\n            state.searchType = 'teacher';\r\n        },\r\n        CLEAR_SEARCH(state) {\r\n            state.currentGroup = null;\r\n            state.currentTeacher = null;\r\n            state.currentRoom = null;\r\n        },\r\n        ADD_NOTE(state, note) {\r\n            state.notes.push(note)\r\n            localStorage.setItem('notes', JSON.stringify(state.notes))\r\n        },\r\n        UPDATE_NOTE(state, updatedNote) {\r\n            const index = state.notes.findIndex(n => n.id === updatedNote.id)\r\n            if (index !== -1) {\r\n                state.notes.splice(index, 1, updatedNote)\r\n                localStorage.setItem('notes', JSON.stringify(state.notes))\r\n            }\r\n        },\r\n        DELETE_NOTE(state, noteId) {\r\n            state.notes = state.notes.filter(note => note.id !== noteId)\r\n            localStorage.setItem('notes', JSON.stringify(state.notes))\r\n        },\r\n        SET_ACTIVE_TAB(state, tab) {\r\n            state.activeTab = tab\r\n        },\r\n        SET_SELECTED_DAY(state, day) {\r\n            state.selectedDay = day;\r\n            if (day && day.dayIndex !== undefined) {\r\n                state.selectedDayIndex = day.dayIndex;\r\n            }\r\n        },\r\n        SET_ADD_NOTE_MODAL(state, value) {\r\n            state.isAddNoteModalOpen = value\r\n        },\r\n        SET_AVAILABLE_LESSONS(state, lessons) {\r\n            state.availableLessons = lessons\r\n        },\r\n        SET_ACTIVE_NOTE(state, noteId) {\r\n            state.activeNoteId = noteId\r\n        },\r\n        // Добавляем новые мутации для управления диалогом\r\n        OPEN_NOTE_DIALOG(state, payload) {\r\n            state.noteDialog.isOpen = true\r\n            state.noteDialog.noteId = payload.noteId\r\n        },\r\n        CLOSE_NOTE_DIALOG(state) {\r\n            state.noteDialog.isOpen = false\r\n            state.noteDialog.noteId = null\r\n        },\r\n        SET_WEEK_OFFSET(state, offset) {\r\n            state.currentWeekOffset = offset\r\n        },\r\n        SET_DAYS(state, days) {\r\n            state.days = days\r\n        },\r\n        SET_SELECTED_DAY_INDEX(state, index) {\r\n            state.selectedDayIndex = index\r\n        },\r\n        SET_FULL_WEEK_SCHEDULE(state, { dayIndex, schedule }) {\r\n            state.fullWeekSchedule[dayIndex] = schedule\r\n        },\r\n        SET_CURRENT_WEEK_TYPE(state, weekType) {\r\n            state.currentWeekType = weekType;\r\n        },\r\n        SET_CURRENT_WEEK_NUMBER(state, number) {\r\n            state.currentWeekNumber = number;\r\n            localStorage.setItem('currentWeekNumber', number.toString());\r\n        },\r\n        SET_BASE_WEEK_NUMBER(state, number) {\r\n            state.baseWeekNumber = number;\r\n        },\r\n        SET_WEEK_SCHEDULE(state, { weekType, dayIndex, schedule }) {\r\n            state.weeksData[weekType][dayIndex] = schedule\r\n        },\r\n        SET_LOADING(state, isLoading) {\r\n            state.isLoading = isLoading\r\n        },\r\n        SET_ERROR(state, error) {\r\n            state.error = error\r\n        },\r\n        SET_CURRENT_GROUP(state, group) {\r\n            state.currentGroup = group\r\n            state.searchType = 'group'\r\n            localStorage.setItem('currentGroup', group)\r\n        },\r\n        // SET_CURRENT_TEACHER(state, teacher) {\r\n        //     state.currentTeacher = teacher\r\n        //     state.searchType = 'teacher'\r\n        // },\r\n        SET_CURRENT_TEACHER(state, payload) {\r\n            // payload может быть строкой или объектом { query, displayQuery }\r\n            if (typeof payload === 'object') {\r\n              state.currentTeacher = payload.displayQuery;\r\n              state.teacherApiQuery = payload.query; // Сохраняем API-формат\r\n            } else {\r\n              state.currentTeacher = payload;\r\n              state.teacherApiQuery = payload.replace(/ /g, '_');\r\n            }\r\n            state.searchType = 'teacher';\r\n          },\r\n        SET_CURRENT_ROOM(state, room) {\r\n            state.currentRoom = room\r\n            state.searchType = 'room'\r\n        },\r\n        CLEAR_SCHEDULE(state) {\r\n            state.weeksData = {\r\n                week1: { 0: [], 1: [], 2: [], 3: [], 4: [], 5: [] },\r\n                week2: { 0: [], 1: [], 2: [], 3: [], 4: [], 5: [] }\r\n            }\r\n        },\r\n        SET_ALL_DATA_LISTS(state, data) {\r\n            state.allGroups = data.groups || [];\r\n            state.allTeachers = data.teachers || [];\r\n            state.allRooms = data.rooms || [];\r\n        },\r\n        SET_USER_NOTES(state, notes) {\r\n            state.userNotes = notes || [];\r\n        },\r\n        \r\n\r\n\r\n\r\n    },\r\n    actions: {\r\n        addNote({ commit }, note) {\r\n            commit('ADD_NOTE', note)\r\n        },\r\n        updateNote({ commit }, note) {\r\n            commit('UPDATE_NOTE', note)\r\n        },\r\n        deleteNote({ commit }, noteId) {\r\n            commit('DELETE_NOTE', noteId)\r\n        },\r\n        setActiveTab({ commit }, tab) {\r\n            commit('SET_ACTIVE_TAB', tab)\r\n        },\r\n        setSelectedDay({ commit }, day) {\r\n            commit('SET_SELECTED_DAY', day)\r\n        },\r\n        setActiveNote({ commit }, noteId) {\r\n            commit('SET_ACTIVE_NOTE', noteId)\r\n\r\n            // Автоматически сбрасываем через 3 секунды\r\n            if (noteId) {\r\n                setTimeout(() => {\r\n                    commit('SET_ACTIVE_NOTE', null)\r\n                }, 3000)\r\n            }\r\n        },\r\n        openAddNoteModal({ commit }) {\r\n            commit('SET_ADD_NOTE_MODAL', true)\r\n        },\r\n        closeAddNoteModal({ commit }) {\r\n            commit('SET_ADD_NOTE_MODAL', false)\r\n        },\r\n        updateAvailableLessons({ commit }, lessons) {\r\n            commit('SET_AVAILABLE_LESSONS', lessons)\r\n        },\r\n        // Добавляем новые действия для диалога\r\n        openNoteDialog({ commit }, noteId) {\r\n            commit('OPEN_NOTE_DIALOG', { noteId })\r\n        },\r\n        closeNoteDialog({ commit }) {\r\n            commit('CLOSE_NOTE_DIALOG')\r\n        },\r\n        updateDays({ commit, state }) {\r\n            const today = new Date()\r\n            const weekStart = new Date(today)\r\n            weekStart.setDate(today.getDate() + state.currentWeekOffset * 7)\r\n\r\n            const dayDiff = weekStart.getDay() === 0 ? 6 : weekStart.getDay() - 1\r\n            weekStart.setDate(weekStart.getDate() - dayDiff)\r\n\r\n            const days = state.weekDays.map((day, index) => {\r\n                const date = new Date(weekStart)\r\n                date.setDate(weekStart.getDate() + index)\r\n\r\n                const isCurrentDay = date.toDateString() === today.toDateString()\r\n\r\n                return {\r\n                    date: date.getDate().toString().padStart(2, '0'),\r\n                    weekDay: day,\r\n                    month: state.monthNames[date.getMonth()],\r\n                    fullDate: date,\r\n                    isCurrentDay\r\n                }\r\n            })\r\n\r\n            commit('SET_DAYS', days)\r\n\r\n            // Автовыбор текущего дня при первой загрузке\r\n            if (state.selectedDayIndex === null && state.currentWeekOffset === 0) {\r\n                const currentDayIndex = days.findIndex(day => day.isCurrentDay)\r\n                if (currentDayIndex !== -1) {\r\n                    commit('SET_SELECTED_DAY_INDEX', currentDayIndex)\r\n                }\r\n            }\r\n        },\r\n        changeWeek({ commit, dispatch, state }, offset) {\r\n            // Вычисляем новый номер недели\r\n            const baseWeek = state.baseWeekNumber || 1;\r\n            let newWeekNumber = baseWeek;\r\n            if (offset !== 0) {\r\n                newWeekNumber = (baseWeek + offset) % 2;\r\n                newWeekNumber = newWeekNumber === 0 ? 2 : newWeekNumber;\r\n            }\r\n\r\n            commit('UPDATE_WEEK_OFFSET_AND_NUMBER', {\r\n                offset,\r\n                weekNumber: newWeekNumber\r\n            });\r\n\r\n            dispatch('updateDays');\r\n        },\r\n\r\n        updateWeekNumber({ commit, state }, offset) {\r\n            const baseWeek = state.baseWeekNumber || 1;\r\n            // Определяем номер недели с учетом смещения\r\n            // Каждое изменение offset на 1 - это смена недели (1<->2)\r\n            const newWeekNumber = ((baseWeek - 1 + offset) % 2 + 2) % 2 + 1;\r\n            commit('SET_CURRENT_WEEK_NUMBER', newWeekNumber);\r\n        },\r\n\r\n        selectDay({ commit, state }, index) {\r\n            commit('SET_SELECTED_DAY_INDEX', index)\r\n            const day = state.days[index]\r\n            commit('SET_SELECTED_DAY', {\r\n                fullDayName: state.fullDayNames[index],\r\n                date: day.date,\r\n                month: day.month,\r\n                originalDate: day.fullDate\r\n            })\r\n        },\r\n        navigateDay({ commit, state, dispatch }, direction) {\r\n            if (state.selectedDayIndex === null || !state.days.length) return\r\n\r\n            const newIndex = state.selectedDayIndex + direction\r\n            if (newIndex >= 0 && newIndex < state.days.length) {\r\n                dispatch('selectDay', newIndex)\r\n            } else {\r\n                // Переход на следующую/предыдущую неделю\r\n                const newOffset = state.currentWeekOffset + (direction > 0 ? 1 : -1)\r\n                if (newOffset >= -2 && newOffset <= 2) {\r\n                    dispatch('changeWeek', newOffset).then(() => {\r\n                        const targetIndex = direction > 0 ? 0 : state.days.length - 1\r\n                        dispatch('selectDay', targetIndex)\r\n                    })\r\n                }\r\n            }\r\n        },\r\n        updateFullWeekSchedule({ commit }, { dayIndex, schedule }) {\r\n            commit('SET_FULL_WEEK_SCHEDULE', { dayIndex, schedule })\r\n        },\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n        async searchSchedule({ commit, dispatch }, { type, query }) {\r\n            try {\r\n                commit('SET_LOADING', true);\r\n                commit('CLEAR_SCHEDULE');\r\n                commit('CLEAR_SEARCH');\r\n\r\n                switch (type) {\r\n                    case 'group':\r\n                        commit('SET_CURRENT_GROUP', query);\r\n                        break;\r\n                    case 'teacher':\r\n                        commit('SET_CURRENT_TEACHER', query);\r\n                        break;\r\n                    case 'room':\r\n                        commit('SET_CURRENT_ROOM', query);\r\n                        break;\r\n                }\r\n\r\n                await dispatch('fetchFullWeekSchedule');\r\n            } catch (error) {\r\n                commit('SET_ERROR', error.message);\r\n                console.error('Ошибка поиска:', error);\r\n            } finally {\r\n                commit('SET_LOADING', false);\r\n            }\r\n        },\r\n\r\n        async fetchFullWeekSchedule({ commit, state, dispatch }) {\r\n            try {\r\n                commit('SET_LOADING', true);\r\n\r\n                if (!state.baseWeekNumber) {\r\n                    commit('CLEAR_SCHEDULE');\r\n                }\r\n\r\n                let endpoint, query;\r\n\r\n                switch (state.searchType) {\r\n                    case 'group':\r\n                        if (!state.currentGroup) return;\r\n                        endpoint = 'groups';\r\n                        query = encodeURIComponent(state.currentGroup);\r\n                        break;\r\n                    case 'teacher':\r\n                        if (!state.currentTeacher) return;\r\n                        endpoint = 'teachers';\r\n                        query = encodeURIComponent(state.currentTeacher);\r\n                        break;\r\n                    case 'room':\r\n                        if (!state.currentRoom) return;\r\n                        endpoint = 'rooms';\r\n                        query = encodeURIComponent(state.currentRoom);\r\n                        break;\r\n                    default:\r\n                        return;\r\n                }\r\n\r\n                const response = await fetch(`http://${localhost}/api/${endpoint}/${query}`);\r\n                if (!response.ok) throw new Error('Ошибка загрузки расписания');\r\n\r\n                const scheduleData = await response.json();\r\n                console.log('Получены данные расписания:', scheduleData);\r\n\r\n                if (!state.baseWeekNumber) {\r\n                    const calculatedWeek = getAcademicWeekNumber();\r\n                    console.log('Математически рассчитанная неделя:', calculatedWeek);\r\n\r\n                    const weeksInAPI = [...new Set(scheduleData.lessons.map(l => l.numberWeek))];\r\n                    console.log('Недели в API:', weeksInAPI);\r\n\r\n                    const baseWeek = weeksInAPI.includes(calculatedWeek) ? calculatedWeek :\r\n                        weeksInAPI.includes(1) ? 1 : 2;\r\n\r\n                    console.log('Установлена базовая неделя:', baseWeek);\r\n                    commit('SET_BASE_WEEK_NUMBER', baseWeek);\r\n                    commit('SET_CURRENT_WEEK_NUMBER', baseWeek);\r\n                    commit('SET_CURRENT_WEEK_TYPE', `week${baseWeek}`);\r\n                }\r\n\r\n                // Вызываем как отдельный action\r\n                await dispatch('processScheduleData', { scheduleData, searchType: state.searchType });\r\n\r\n            } catch (error) {\r\n                console.error('Ошибка загрузки расписания:', error);\r\n                commit('SET_ERROR', error.message);\r\n            } finally {\r\n                commit('SET_LOADING', false);\r\n            }\r\n        },\r\n\r\n        async processScheduleData({ commit }, { scheduleData, searchType }) {\r\n            const formatLessonTime = (number) => {\r\n                const times = {\r\n                    1: '08:00<br>09:30',\r\n                    2: '09:45<br>11:15',\r\n                    3: '11:30<br>13:00',\r\n                    4: '13:50<br>15:20',\r\n                    5: '15:35<br>17:05',\r\n                    6: '17:20<br>18:50',\r\n                    11: '08:00<br>09:30',\r\n                    12: '09:45<br>11:15',\r\n                    13: '11:30<br>13:00',\r\n                    14: '13:15<br>14:45',\r\n                    15: '15:00<br>16:30',\r\n                    16: '16:45<br>18:15'\r\n                };\r\n                return times[number] || '';\r\n            };\r\n\r\n            const transformedData = {\r\n                week1: { 0: [], 1: [], 2: [], 3: [], 4: [], 5: [] },\r\n                week2: { 0: [], 1: [], 2: [], 3: [], 4: [], 5: [] }\r\n            };\r\n\r\n            scheduleData.lessons.forEach(lesson => {\r\n                const weekType = `week${lesson.numberWeek}`;\r\n                const dayIndex = lesson.numberDay - 1;\r\n                let num = lesson.numberDay === 6 ? lesson.number + 10 : lesson.number;\r\n\r\n                const transformedLesson = {\r\n                    time: formatLessonTime(num),\r\n                    type: lesson.type,\r\n                    lesson: lesson.name,\r\n                    weekNumber: lesson.numberWeek\r\n                };\r\n\r\n                switch (searchType) {\r\n                    case 'group':\r\n                        transformedLesson.teachers = lesson.details || [];\r\n                        break;\r\n                    case 'teacher':\r\n                        transformedLesson.room = lesson.room || '';\r\n                        transformedLesson.details = lesson.details || [];\r\n                        break;\r\n                    case 'room':\r\n                        transformedLesson.details = lesson.details?.map(d => ({\r\n                            name: d.name,\r\n                            groups: d.groups || []\r\n                        })) || [];\r\n                        break;\r\n                }\r\n\r\n                transformedData[weekType][dayIndex].push(transformedLesson);\r\n            });\r\n\r\n            for (const weekType of ['week1', 'week2']) {\r\n                for (let dayIndex = 0; dayIndex < 6; dayIndex++) {\r\n                    commit('SET_WEEK_SCHEDULE', {\r\n                        weekType,\r\n                        dayIndex,\r\n                        schedule: transformedData[weekType][dayIndex] || []\r\n                    });\r\n                }\r\n            }\r\n        },\r\n\r\n\r\n\r\n        async fetchAllDataLists({ commit }) {\r\n            try {\r\n              // Тестовые данные пользователя (должны совпадать с ожидаемыми на сервере)\r\n              const userData = {\r\n                id: 123231,\r\n                firstname: \"Юрий\",\r\n                username: \"frolovtg2005\"\r\n              };\r\n          \r\n              // Исправленный эндпоинт\r\n              const response = await fetch(`http://${localhost}/api/users`, {\r\n                method: 'POST',\r\n                headers: {\r\n                  'Content-Type': 'application/json',\r\n                },\r\n                body: JSON.stringify(userData)\r\n              });\r\n          \r\n              if (!response.ok) {\r\n                const errorData = await response.json().catch(() => ({}));\r\n                throw new Error(errorData.message || 'Ошибка получения данных');\r\n              }\r\n          \r\n              const data = await response.json();\r\n              \r\n              // Проверяем структуру ответа (может быть data.user вместо data)\r\n              const responseData = data.user || data;\r\n              \r\n              if (!responseData) {\r\n                throw new Error('Неверная структура ответа сервера');\r\n              }\r\n          \r\n              // Выводим в консоль для отладки\r\n              console.log('Ответ сервера:', data);\r\n              console.log('Все группы:', responseData.groups || responseData.data?.groups);\r\n              console.log('Все преподаватели:', responseData.teachers || responseData.data?.teachers);\r\n              console.log('Все аудитории:', responseData.rooms || responseData.data?.rooms);\r\n          \r\n              // Сохраняем в хранилище\r\n              commit('SET_ALL_DATA_LISTS', {\r\n                groups: responseData.groups || responseData.data?.groups || [],\r\n                teachers: responseData.teachers || responseData.data?.teachers || [],\r\n                rooms: responseData.rooms || responseData.data?.rooms || []\r\n              });\r\n              \r\n              commit('SET_USER_NOTES', responseData.notes || []);\r\n          \r\n              return responseData;\r\n            } catch (error) {\r\n              console.error('Ошибка при загрузке списков:', error.message);\r\n              // Можно добавить отображение ошибки пользователю\r\n              commit('SET_ERROR', error.message);\r\n              throw error;\r\n            }\r\n          },\r\n\r\n\r\n\r\n\r\n\r\n        setCurrentWeekType({ commit }, weekType) {\r\n            commit('SET_CURRENT_WEEK_TYPE', weekType);\r\n        },\r\n        updateWeekSchedule({ commit }, { weekType, dayIndex, schedule }) {\r\n            commit('SET_WEEK_SCHEDULE', { weekType, dayIndex, schedule });\r\n        },\r\n        updateWeekOffset({ commit }, offset) {\r\n            commit('SET_WEEK_OFFSET', offset)\r\n        },\r\n        initWeekNumber({ commit }) {\r\n            commit('INIT_WEEK_NUMBER');\r\n        },\r\n\r\n\r\n    },\r\n    getters: {\r\n        getNotes: state => state.notes,\r\n        activeTab: state => state.activeTab,\r\n        selectedDay: state => state.selectedDay,\r\n        isAddNoteModalOpen: state => state.isAddNoteModalOpen,\r\n        availableLessons: state => state.availableLessons.filter(lesson => lesson.lesson),\r\n        activeNoteId: state => state.activeNoteId,\r\n        // Добавляем геттер для диалога\r\n        noteDialog: state => state.noteDialog,\r\n        // И геттер для получения заметки по ID\r\n        getNoteById: state => id => state.notes.find(note => note.id === id),\r\n        days: state => state.days.map((day, index) => ({\r\n            ...day,\r\n            fullDayName: state.fullDayNames[index], // Исправляем индекс\r\n            month: state.monthNames[new Date(day.originalDate).getMonth()]\r\n        })),\r\n        currentWeekOffset: state => state.currentWeekOffset,\r\n        selectedDayIndex: state => state.selectedDayIndex,\r\n        canNavigatePrev: state => state.currentWeekOffset > -2,\r\n        canNavigateNext: state => state.currentWeekOffset < 2,\r\n        currentWeekType: state => state.currentWeekType,\r\n        currentWeekSchedule: (state, getters) => state.weeksData[getters.currentWeekType] || {},\r\n        currentWeekNumber: state => state.currentWeekNumber,\r\n        currentGroup: state => state.currentGroup,\r\n        searchType: state => state.searchType,\r\n        currentTeacher: state => state.currentTeacher,\r\n        currentRoom: state => state.currentRoom,\r\n        baseWeekNumber: state => state.baseWeekNumber,\r\n        getWeekTypeByOffset: (state) => (offset) => {\r\n            // Определяем тип недели по абсолютному смещению\r\n            const absoluteOffset = Math.abs(offset);\r\n            return absoluteOffset % 2 === 0 ? 'week1' : 'week2';\r\n        },\r\n        monthNames: state => state.monthNames,\r\n        fullWeekSchedule: (state, getters) => getters.currentWeekSchedule,\r\n\r\n        allGroups: state => state.allGroups,\r\n        allTeachers: state => state.allTeachers,\r\n        allRooms: state => state.allRooms,\r\n        userNotes: state => state.userNotes\r\n    }\r\n})\r\n\r\n","import { createApp } from 'vue'\r\nimport App from './App.vue'\r\nimport store from './store'\r\n\r\nconst app = createApp(App)\r\n\r\n// Добавляем Telegram WebApp в глобальные свойства\r\napp.config.globalProperties.$tg = window.Telegram?.WebApp\r\n\r\n// Функция применения Telegram темы\r\nconst applyTelegramTheme = () => {\r\n  const tg = window.Telegram?.WebApp\r\n  if (!tg) return\r\n\r\n  const theme = tg.themeParams || {}\r\n  const root = document.documentElement\r\n\r\n  // Устанавливаем CSS-переменные с fallback значениями\r\n  root.style.setProperty('--tg-bg-color', theme.bg_color || '#ffffff')\r\n  root.style.setProperty('--tg-text-color', theme.text_color || '#000000')\r\n  root.style.setProperty('--tg-button-color', theme.button_color || '#2481cc')\r\n  root.style.setProperty('--tg-button-text-color', theme.button_text_color || '#ffffff')\r\n  \r\n  // Добавляем класс для тёмной темы\r\n  if (tg.colorScheme === 'dark') {\r\n    document.body.classList.add('tg-dark')\r\n  } else {\r\n    document.body.classList.remove('tg-dark')\r\n  }\r\n}\r\n\r\n// Применяем тему при загрузке\r\napplyTelegramTheme()\r\n\r\n// Слушаем изменения темы\r\nwindow.Telegram?.WebApp?.onEvent('themeChanged', applyTelegramTheme)\r\n\r\napp.use(store)\r\napp.mount('#app')","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunksked_vue_app\"] = self[\"webpackChunksked_vue_app\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], function() { return __webpack_require__(3947); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["key","class","_createElementBlock","_normalizeClass","$data","isTelegram","isDarkTheme","isLoading","_createBlock","_component_Preloader","isDark","_hoisted_2","_createElementVNode","_hoisted_3","_KeepAlive","_resolveDynamicComponent","$options","currentComponent","_createVNode","_component_AddNoteModal","_component_NoteDialog","_component_Footer","_hoisted_1","_Fragment","_component_Slider","_component_GroupInfo","_component_Search","_component_ScheduleTable","_component_Buttons","_toDisplayString","$props","title","name","props","type","String","required","__exports__","weekOffset","width","height","viewBox","fill","xmlns","onClick","_cache","args","prevWeek","d","_renderList","days","day","index","isActive","isCurrentDay","$event","handleDayClick","_hoisted_4","_Transition","mode","default","_withCtx","date","_","_hoisted_5","weekDay","nextWeek","_hoisted_6","data","today","Date","getDay","weekDays","fullDayNames","monthNames","selectedDate","todayAdjusted","tgThemeParams","computed","mapGetters","currentDayIndex","created","window","Telegram","WebApp","this","initTelegramTheme","setupTelegramBackButton","expand","methods","mapActions","themeParams","colorScheme","applyTelegramTheme","onEvent","document","documentElement","style","setProperty","bg_color","text_color","button_color","button_text_color","hint_color","link_color","secondary_bg_color","disabled","BackButton","show","close","resetWeekState","localStorage","removeItem","updateDays","clickedDate","originalDate","setSelectedDay","fullDayName","getDate","month","getMonth","dayIndex","updateWeekNumber","isSameDay","date1","date2","getFullYear","setDate","weekStart","dayDiff","newDays","map","isSelectedDay","toString","padStart","$store","commit","activeDay","find","findIndex","baseWeek","state","baseWeekNumber","newWeekNumber","console","log","offset","updateWeekType","weekType","getters","getWeekTypeByOffset","dispatch","watch","currentGroup","currentTeacher","currentRoom","selectedDayIndex","newIndex","undefined","forEach","i","mounted","_ctx","formattedGroupName","formattedTeacherName","_createCommentVNode","_createTextVNode","weekName","debugInfo","_hoisted_7","apiWeekNumber","currentWeekNumber","currentWeekOffset","parts","split","formatted","capitalizeFirstLetter","length","firstDigitIndex","search","toUpperCase","letters","slice","numbers","str","charAt","toLowerCase","searchInput","onInput","handleInput","onBlur","hideSuggestions","placeholder","onKeyup","_withKeys","handleSearch","onKeydown","moveSelection","ref","errorMessage","showSuggestions","suggestions","item","activeSuggestionIndex","handleEnter","onMousedown","_withModifiers","selectSuggestion","catch","error","selectTeacher","teacher","$nextTick","$refs","focus","getteacherSuggestions","getTeacherSuggestions","trim","setTimeout","formatGroupName","group","isStandardRoom","query","test","isRoomWithSpace","isSpecialRoom","specialRooms","includes","formatTeacherForApi","input","normalizedInput","replace","inputParts","allTeachers","candidates","filter","teacherParts","formatTeacherForDisplay","result","determineSearchType","validateInput","listsLoaded","allGroups","allRooms","apiFormat","apiQuery","join","exists","some","t","displayQuery","list","getTypeName","formatSearchQuery","names","room","checkIfExists","teacherApiFormat","queryLower","queryParts","teacherLower","startsWith","getSuggestions","searchLower","direction","suggestionElements","$el","querySelectorAll","scrollIntoView","block","behavior","teacherSuggestions","_component_swiper","onSwiper","onSlideChange","initialSlide","swiperKey","_component_swiper_slide","_component_ScheduleTableContent","normalizedRows","row","_component_ScheduleTableRow","innerHTML","time","lesson","displayMainDetails","displayRoomDetails","_hoisted_8","hasNote","isLessonExists","handleNoteClick","onTouchstart","stroke","Object","selectedDay","toISOString","getNotes","note","displayTeachers","teachers","displayGroups","searchType","groups","details","subgroup","values","Set","g","baseGroup","add","displayRooms","formatTeachersWithSubgroups","formatGroupsWithSubgroups","formatRoomsWithSubgroups","flatMap","e","preventDefault","stopPropagation","id","items","teacherName","nameParts","Boolean","uniqueGroups","roomMap","Map","allSubgroups","has","set","get","entries","subgroups","size","defaultRows","saturdayRows","components","ScheduleTableRow","Number","currentDaySchedule","currentWeekSchedule","timeSlots","defaultRow","dataRow","r","getUniqueRoomsWithSubgroups","Array","from","immediate","handler","rows","updateAvailableLessons","Swiper","SwiperSlide","ScheduleTableContent","swiperInstance","localSelectedDayIndex","currentWeekType","swiper","slideTo","activeIndex","update","showFullSchedule","_createStaticVNode","openAddNoteModal","showModal","_component_FullScheduleModal","onClose","closeModal","_hoisted_9","fullName","_hoisted_10","getTimeSlotsForDay","rowIndex","_hoisted_11","getTypeForLesson","_hoisted_12","_hoisted_13","getLessonName","getMainDetails","_hoisted_14","_hoisted_15","getRoomDetails","_hoisted_16","shortName","$emit","getLessonsForDay","getLessonForDay","lessons","uniqueTeachers","push","hasAllSubgroups","hasData","fetchFullWeekSchedule","FullScheduleModal","Header","Buttons","ScheduleTable","Search","GroupInfo","Slider","_component_Header","notes","sortedNotes","activeNoteId","formatDate","startEditing","deleteNote","editingNote","content","ref_for","_hoisted_17","cancelEditing","saveNote","_hoisted_18","_hoisted_19","highlightTimeout","sort","a","b","dateA","dateB","localeCompare","dateString","dayName","formattedDate","toLocaleDateString","year","textarea","querySelector","updateNote","clearHighlightTimer","clearTimeout","beforeUnmount","activeTab","switchTab","tab","setActiveTab","isOpen","todaysLessons","hasNoteForLesson","handleAddNote","isAddNoteModalOpen","closeAddNoteModal","newNote","now","addNote","noteDialog","closeDialog","currentNote","formattedTime","focusTextarea","navigateToNote","localNote","getNoteById","noteId","closeNoteDialog","setActiveNote","newVal","Footer","sked","Notes","AddNoteModal","NoteDialog","Preloader","fixedDelay","Promise","resolve","dataLoading","dayNames","all","render","localhost","getAcademicWeekNumber","startOfYear","setFullYear","diffTime","diffWeeks","Math","floor","createStore","JSON","parse","getItem","availableLessons","parseInt","weeksData","week1","week2","userNotes","mutations","UPDATE_WEEK_OFFSET_AND_NUMBER","weekNumber","INIT_WEEK_NUMBER","setItem","SET_CURRENT_TEACHER","payload","CLEAR_SEARCH","ADD_NOTE","stringify","UPDATE_NOTE","updatedNote","n","splice","DELETE_NOTE","SET_ACTIVE_TAB","SET_SELECTED_DAY","SET_ADD_NOTE_MODAL","value","SET_AVAILABLE_LESSONS","SET_ACTIVE_NOTE","OPEN_NOTE_DIALOG","CLOSE_NOTE_DIALOG","SET_WEEK_OFFSET","SET_DAYS","SET_SELECTED_DAY_INDEX","SET_FULL_WEEK_SCHEDULE","schedule","fullWeekSchedule","SET_CURRENT_WEEK_TYPE","SET_CURRENT_WEEK_NUMBER","number","SET_BASE_WEEK_NUMBER","SET_WEEK_SCHEDULE","SET_LOADING","SET_ERROR","SET_CURRENT_GROUP","teacherApiQuery","SET_CURRENT_ROOM","CLEAR_SCHEDULE","SET_ALL_DATA_LISTS","rooms","SET_USER_NOTES","actions","openNoteDialog","toDateString","fullDate","changeWeek","selectDay","navigateDay","newOffset","then","targetIndex","updateFullWeekSchedule","searchSchedule","message","endpoint","encodeURIComponent","response","fetch","ok","Error","scheduleData","json","calculatedWeek","weeksInAPI","l","numberWeek","processScheduleData","formatLessonTime","times","transformedData","numberDay","num","transformedLesson","fetchAllDataLists","userData","firstname","username","method","headers","body","errorData","responseData","user","setCurrentWeekType","updateWeekSchedule","updateWeekOffset","initWeekNumber","canNavigatePrev","canNavigateNext","absoluteOffset","abs","app","createApp","App","config","globalProperties","$tg","tg","theme","root","classList","remove","use","store","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","call","m","deferred","O","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","keys","every","getter","__esModule","definition","o","defineProperty","enumerable","globalThis","Function","obj","prop","prototype","hasOwnProperty","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","self","bind","__webpack_exports__"],"sourceRoot":""}